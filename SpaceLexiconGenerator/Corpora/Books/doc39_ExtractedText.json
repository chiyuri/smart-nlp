{"content": "\nSpace Microsystems and\nMicro/Nano Satellites\n\n\n\nSpace Microsystems and\nMicro/Nano Satellites\n\nEdited by\n\nZheng You\nProfessor, Dean of School of Mechanical Engineering,\n\nTsinghua University, Beijing, China\n\n\n\nButterworth-Heinemann is an imprint of Elsevier\nThe Boulevard, Langford Lane, Kidlington, Oxford OX5 1GB, United Kingdom\n50 Hampshire Street, 5th Floor, Cambridge, MA 02139, United States\n\nCopyright r 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\nNo part of this publication may be reproduced or transmitted in any form or by any means, electronic or\nmechanical, including photocopying, recording, or any information storage and retrieval system, without\npermission in writing from the publisher. Details on how to seek permission, further information about the\nPublisher\u2019s permissions policies and our arrangements with organizations such as the Copyright Clearance\nCenter and the Copyright Licensing Agency, can be found at our website: www.elsevier.com/permissions.\n\nThis book and the individual contributions contained in it are protected under copyright by the Publisher\n(other than as may be noted herein).\n\nNotices\nKnowledge and best practice in this field are constantly changing. As new research and experience broaden our\nunderstanding, changes in research methods, professional practices, or medical treatment may become\nnecessary.\n\nPractitioners and researchers must always rely on their own experience and knowledge in evaluating and using\nany information, methods, compounds, or experiments described herein. In using such information or\nmethods they should be mindful of their own safety and the safety of others, including parties for whom they\nhave a professional responsibility.\n\nTo the fullest extent of the law, neither the Publisher nor the authors, contributors, or editors, assume any\nliability for any injury and/or damage to persons or property as a matter of products liability, negligence or\notherwise, or from any use or operation of any methods, products, instructions, or ideas contained in the\nmaterial herein.\n\nBritish Library Cataloguing-in-Publication Data\nA catalogue record for this book is available from the British Library\n\nLibrary of Congress Cataloging-in-Publication Data\nA catalog record for this book is available from the Library of Congress\n\nISBN: 978-0-12-812672-1\n\nFor Information on all Butterworth-Heinemann publications\nvisit our website at https://www.elsevier.com/books-and-journals\n\nPublisher: Joe Hayton\nAcquisition Editor: Glyn Jones\nEditorial Project Manager: Katie Chan\nProduction Project Manager: Kiruthika Govindaraju\nCover Designer: Greg Harris\n\nTypeset by MPS Limited, Chennai, India\n\nhttp://www.elsevier.com/permissions\nhttps://www.elsevier.com/books-and-journals\n\n\nPreface\n\nMicro/nanosatellites are satellites based on microelectromechanical inte-\ngrated system (MEMS) technology and a new MEMS-based integrated micro-\ninstrument (ASIM). In multidimensional integration technology large-scale\nintegrated circuit design ideas and manufacturing processes, including the\nmechanical components such as electronic circuits are integrated, and the\nsensors, actuators, microprocessors, and other electrical and optical systems\nare integrated in a very small. Within this space, the formation of mechanical\nand electrical integration for a specific function of satellite components or\nsystems takes place.\n\nIn the late 1980s, microspacecraft, represented by micro/nano-type satellites,\nbecame the most active research direction in the field of space, with a new\nconcept and brand-new design. The micro/nano-type satellite has a large\nnumber of high-tech advantages, with excellent functional density and tech-\nnical performance, low investment and operating costs, flexibility, short\ndevelopment cycle, and the advantages of being so small, so that it can not\nonly complete for aerospace tasks, but also in multisatellite network, forma-\ntion flight, and virtual satellites in completing difficult tasks in space. Micro/\nnano-type satellites are now widely used in data communications and trans-\nmission, ground and space environment monitoring, navigation and posi-\ntioning, as well as scientific experiments, and many other areas.\n\nIn 1994, I wrote a paper entitled \u201cDual-Purpose Technology for the 21st\nCentury\u2014Micron/Nanotechnology,\u201d pointing out that micro/nanotechnol-\nogy is an important dual-use technology for the 21st century, and its emer-\ngence will have a significant impact on economic and national security, in\nparticular, I pointed out that MEMS technology will play a major role in\nmicrosatellites.\n\nAt Tsinghua University, Professor Youzhe and his team at the time seized\ndevelopment opportunities with the British University of Surrey Space Centre\nto cooperate in work on advanced technology based on micro/nanotechnol-\nogy, especially MEMS, with independent innovations developed NS-1/NS-2,\n\nxi\n\n\n\nMEMSat, and other micro/nanosatellites, resulting in the reinnovation of\nmicro/nanosatellite technology development. On the one hand, this book\nexplores the use of MEMS technology as the main representative of micron/\nnanotechnology in the field of space applications, and the use of MEMS tech-\nnology as in microelectronics, optoelectronics, and micromechanical, ultra-\nfine processing, and other new technologies. This chapter describes several\nMEMS devices and microcomponents suitable for use in the aerospace field.\nOn the other hand, the authors have developed a new method for the minia-\nturization and intelligentization of the main functional components of\nspacecraft, which are suitable for work in the space environment. It is\nsuitable for MEMS devices and microsystems used in the aerospace field and\nis based on miniaturization, lightweight, low cost, short cycle, and high per-\nformance. This book introduces their own research and development of\nChina's first nano-type satellite (NS-1) and MEMS technology based on high-\nperformance miniaturization of satellite functional components and other\nscientific research. These achievements have won the National Science and\nTechnology Award 2, the National Science and Technology Progress Award 2,\nand more than 20 national invention patents for the authors' microsatellite\ntechnology and MEMS technology, with spatial applications making an\nimportant contribution.\n\nIt is hoped that the publication of this book will help and inspire scientific\nand technical personnel who are interested in microsatellite technology,\nespecially MEMS in the field of aerospace applications.\n\nMay 2012\n\nxii Preface\n\n\n\nCHAPTER 1\n\nMicro/Nano Satellite System Technology\n\nSpacecraft system design technology is closely related to the system design\ntechnology according to user requirements in spacecraft and flight processes\n[1?3]. For micro/nano satellites, the user requirements according to a spe-\ncific mission are as follow: comprehensive demonstration of its function and\nthe system technical indicators; coordination of the interface and constraints\nwith the rocket, launch site, test and control network, ground application sys-\ntem and other systems; analysis and selection of payload configuration; selec-\ntion and design of the orbit to achieve the mission; completing the system\ntechnical scheme and satellite configuration design; on the basis of the sys-\ntem plan and optimization, determining the technical requirements of each\nsubsystem; structure and mechanism, thermal control, integrated electronics\nclosely related to the general system design and test; system integration\nscheme determination, final assembly designation, the plan formulation and\nimplementation of system circuit design and performance test after assem-\nbling and integration; and determination of components and system-level\nenvironmental test conditions, the ground validation test plan, and spacecraft\nconstruction rules, etc.\n\nAccording to the system design of the assignments, tasks, and nature, the sys-\ntem design of a micro/nano satellite is the top design and comprehensive\ndesign of the micro/nano satellite. It plays an important role in the realiza-\ntion of the whole satellite mission [4]. The system scheme design determines\nthe spacecraft development direction, the system situation, the scheme, and\nthe design of the subsystem requirements. The quality of the system scheme\ndesign will directly affect the overall quality, performance, development\ncycle, and cost of the satellite.\n\nThe key technical problems in system design of the satellite are presented in\nthis chapter. The contents mainly include: micro/nano satellite mission anal-\nysis; orbit design and analysis; subsystem scheme selection and demonstra-\ntion; micro/nano satellite configuration design; analysis and determination\nof the system performance; characteristic parameter assessment of the satellite\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00001-1\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n1\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00001-1\n\n\nsystem; reliability and safety analysis; and development of the technical pro-\ncesses of the satellite.\n\n1.1 NS-1 NANOSATELLITE TASK ANALYSIS\n\nNS-1 is an exploration test satellite applying new high-end technology,\nthrough the research of some key technologies and development, aiming to\ndevelop nanosatellite platforms, to carry out critical load-carrying experi-\nments, and to complete the space flight demonstration of new high-end tech-\nnology. The main task of the test includes the following:\n\n1. CMOS camera tests for Earth imaging [5]: by CMOS camera, shot,\nstorage, and transmission of ground targets, and orbit demonstration\nexperiment of image information processing technology. The CMOS\ncamera field of view has an angle of 12 degrees, and 10243 1024\npixels.\n\n2. Microinertial measurement unit (MIMU) flight experiment: by\nexperiment, to test the performance of the microaccelerometer,\nmicrogyros in-orbit, to understand its adaptability to the environment,\nto test navigation, and attitude determination by the MIMU grouped\nwith other sensors.\n\n3. Small satellite orbit-maintaining and orbit maneuver test: the satellite\npropulsion system uses liquid ammonia as propellant, the system is\nrelatively simple. To verify satellite orbit maneuver and orbit\nmaintenance workability, provides experience for small satellite\nnetworks and formation flights.\n\n4. Satellite program uploading and software test: via satellite system and\napplication programs uploading, the satellite has the ability to update\nonline. At the same time, it reduces the pressure on software\ndevelopment and testing before flight.\n\n5. Some component-carrying tests: arranging for a flight test for some\nsuperior performance without flying experience device, to understand\nits space environment adaptability, provides a reference for subsequent\nmodel selection.\n\n1.2 NS-1 NANOSATELLITE SYSTEM SCHEME\n\nThe NS-1 nanosatellite is a new high-technology demonstration satellite. In\nthe process of satellite design, lessons were drawn from domestic and foreign\nsatellite technology [6?9]. It combines domestic high-tech achievements,\nsuch as microelectronics, with new process technology. Compared with simi-\nlar foreign satellites, its function is complete and the performance indicators\n\n2 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nare advanced. The satellite consists of two parts: the payload and service\nsystem. The payload consists of a CMOS camera and its control circuit,\nMIMU, GPS receiver, and new chemical propulsion systems. The service\nsystems consist of the structure, power, thermal control, attitude control,\ndata management, and Telemetry, Tracking and Control (TT&C) communica-\ntion function module.\n\nNS-1 has adopted an integrated design technology, with the structure, layout,\nand thermal design according to the payload [10?13]. Adopted electronic\nintegration technology has the onboard computer as the core. To integrate\nthe electronic system, it is necessary for unified management and scheduling\nof the equipment and resources on the satellite. The computer network has\nthe functions of software uploading and refactoring, which can realize failure\nrecovery. The reliability of the system is high. The system composition block\ndiagram is shown in Fig. 1.1.\n\nThe structure subsystem is combined with each subsystem, bearing and pass-\ning the dynamic and static load of the carrier rocket, providing a stable work\nplatform for satellite. The main body structure of the system consists of the\nplate and frame structure. Considering the requirement for weight reduction\n\nDate handling \n\nTelemetry unit: double \n\nredundancy; \n\nRemote control unit: \n\nthree redundancy; \n\nSatellite-borne computer: 1  \n\nAttitude control \n\nCPU: 1; \n\nMagnetometer: 2; \n\nMomentum wheel: 1; \n\nMagnetorquer: 4\n\nTT&C communication \n\nS-band receiver: two hot \n\nbackup; \n\nS-band transmitter: two \n\ncold backup\n\nPayload \n\nCamera: 1; \n\nCamera processing \n\ncircuit: 1; \n\nGPS receiver: 1; \n\nGPS antenna: 1; \n\nMIMU: 1; \n\nTropellant tank: 1; \n\nThruster: 1; \n\nThruster controller: 1; \n\nThruster pipe and \n\naccessories: 1\n\nThe power supply \n\nBattery: 1 set of 10 \n\nsection; \n\nThe solar cell array: 7 \n\nblock; \n\nThe power controller: 1 \n\nThermal control \n\nCoating; \n\nTropical;  \n\nMultilayer insulation materials\n\nStructure \n\nLoad module: 1 \n\nThe solar panels substrates: 7 \n\npieces \n\nThe module box: 8; \n\nThe separation mechanism: 1 set\n\nFIGURE 1.1\nSystem composition block diagram.\n\n1.2 NS-1 Nanosatellite System Scheme 3\n\n\n\nof the system, an aluminum honeycomb structure is used. The substrate of\nthe solar cell also uses an aluminum honeycomb structure.\n\nThe function of the power supply subsystem provides plenty of direct current\npower for the payload and each of the subsystems during the satellite flight\nstages, including the free flight phase after satellite?launcher separation and\nthe normal operation stage of the satellite. The satellite power subsystem\nadopts a high-efficiency gallium arsenide solar cell array and nickel cadmium\nbattery joint as the power supply. In the light area, the solar cell array and bat-\ntery jointly supply power. At the same time, the solar cell array provides\nbattery charging; when in the shadow area of the orbit, the battery supplies\npower, ensuring the satellite system works continuously during the eclipse.\n\nConsidering the characteristics of small-satellite TT&C communication,\nincludes incorporating a telemetry channel and digital channel, using GPS\nsatellite orbit determination, communicating by an S band transceiver, pro-\nviding satellite remote sensing, remote control, and an uplink and downlink\nchannel for data injection. The RF channel, in addition to sending and receiv-\ning data, also provides the antenna tracking beacon, guiding the antenna for\nautomatic tracking of the satellite and other simple communication func-\ntions, forming a multitasking reuse module.\n\nData/service management is the core of the satellite service management sys-\ntem, and is responsible for the management of the satellite state and payload\ndata processing and transmission. It also maintains the normal work of the\nsatellite and is the core to maintaining effective contact with the ground. It\nconsists of an onboard computer, remote control unit, telemetry unit\nthrough CAN data bus, and the asynchronous communication channel con-\nnection. The control unit and remote unit as an independent subsystem com-\nplete satellite direct remote control instruction decoding, distribution,\nsatellite state data collection, A/D transformation, coding and sending, and\nsending the payload data. The central control computer monitors, manages\nand schedules the telemetry, telecontrol, uplink software injection, load oper-\nation, data processing, data transmission, data store, and attitude control,\netc. The central control computer manages the subsystem by the distributed\nmanagement system. The central computer and the slave computer adopt\nunified management and scheduling of the CAN bus.\n\nThe satellite uses a three-axes stabilized satellite attitude control scheme,\nusing a three-axes magnetometer for attitude measurement, add a momen-\ntum wheel as an actuator to control the attitude of medium precision.\n\nThe satellite thermal control mainly applies passive thermal control. It\nadopts the method of paint and bandage multilayer insulation, and uses\nactive thermal control of the propulsion system. Satellite information flow is\nshown in Fig. 1.2.\n\n4 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nAfter NS-1 satellite?launcher separation, the minimum system automatically\nstarts charging. Once the satellite and launcher have separated and entered\norbit, they successively experience free flight, on-orbit test, establishing nor-\nmal running state and effective load test phase, and satellite specific working\nmode including the following:\n\n? Orbit mode (minimum system);\n? Platform test mode;\n? Gesture capture mode;\n? Normal mode;\n? Load test mode.\n\nSome subsystems of NS-1 have backup capability. Under the condition of\nlocal anomalies, they can switch and reconstruct at the component level.\nNormal and abnormal patterns are shown in Fig. 1.3. The final safe model is\nthe orbit model.\n\n1.3 NS-1 ANALYSIS OF THE SATELLITE INITIAL ORBIT\n\nThe NS-1 orbital elements and related parameters in satellite?launcher sepa-\nration are as indicated in Table 1.1.\n\nPower supply  RF module\nsync HDLC  ASYNC\n\nGround test equipment\nCAN\nHDLC\nASYNC\n\nMagnetometer\n\nsync HDLC\n\nOBC module\nPower supply\n\nthe solar panels\ndetection output\n\ntelemetry/remote control\npower supply\nPCM/PDM\n\npower\nthruster system\ntelemetry/remote\ncontrol\n\nCAN power\ncamera module\n\nBCR/BCM/\n\nCAN\n\nASYNC\nASYNC telemetry/remote ASYNC ASYNC\n\npower CAN\n\ncontrol controlattitude GPS module\ntelemetry\n\npower\n\nMIMU\nmodule\npower CANpower/telemetry/remote\n\nTTC\n\nMagnetorquer\nMomentum wheel\n\nFIGURE 1.2\nNS-1 information flow diagram.\n\n1.3 NS-1 Analysis of the Satellite Initial Orbit 5\n\n\n\nAccording to the above parameters, we obtain the initial orbit in Fig. 1.4.\n\n1.3.1 Satellite Orbit Entry Initial Attitude Features\nFrom the rocket flight timing and flight angle, we get the initial attitude at\nthe separation point of the NS-1 satellite and the CZ-2C rocket:\n\n?5262:1736 degrees\n\n?5 0 degree\n\n?5 0 degree\n\nPlatform\ntest mode\n\nAttitude\ncapture\nmode\n\nPlatform\ntest \n\nEnter\norbit \n\nNormal\nmode \n\nAbnormal Abnormal Abnormal Abnormal\n\nFIGURE 1.3\nRelations of various kinds of patterns in normal and abnormal cases.\n\nTable 1.1 Orbital Elements and Related Parameters in\nSatellite?Launcher Separation\nOrbit semimajor axis 6977093.957 m\nOrbital eccentricity 0.000166475\nOrbital inclination 97.70029 degrees\nPerigee argument 263.02387 degrees\nLongitude of ascending node 104.04348 degrees\nTrue anomaly 155.46242 degrees\nPerigee height 597792.4 m\nApogee altitude 600115.5 m\nAbsolute speed 7557.28614 m/s\nLocal absolute velocity azimuth 345.496873 degrees\nAbsolute speed local angle 0.003962 degree\nGeocentric radius vector 6978150.5 m\nLongitude 91.716070 degrees\nGeocentric latitude 57.653462 degrees\nAltitude 615295.5 m\nVoyage 3384948.8 m\nPerigee geocentric latitude 279.6237130 degrees\nCumulative departure time after launch 746.9085 s\nFlat anomaly 155.45449757 degrees\n\n6 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nAt the satellite?launcher separation moment, the initial attitude angular rate\nof NS-1 is less than 4 degrees/s around three axes.\n\n1.3.2 Initial Orbit Characteristics Analysis\n1.3.2.1 Ground Measurement and Controlability Analysis\n\n1. Main control stations (Beijing) control segment\nAccording to the initial orbit data of NS-1 satellite and parameters of\nthe main control stations, calculate the control segment of the main\nground control stations located in Beijing (Fig. 1.5) within 24 hours.\nThe specific control segment forecast value is shown in Table 1.2. For\nconvenience, the time data in Table 1.2 use UTC, and azimuth is\ndefined as a north direction with clockwise rotation angle.\n\n2. Auxiliary remote sensing segment\nThe auxiliary remote sensing segment, according to the initial NS-1\nsatellite orbit data and the parameters of auxiliary control stations,\ncalculates the remote sensing segment of the NS-1 satellite orbit within\n\nFIGURE 1.4\nInitial orbit.\n\n1.3 NS-1 Analysis of the Satellite Initial Orbit 7\n\n\n\nFIGURE 1.5\nControl segment of Beijing station within 24 h.\n\nTable 1.2 Calculation Value of Measured Arc in Beijing Station\n\nOrder\n\nTime Information Space Information\n\nDuration\nOverhead (s)Time (UTC) Event\n\nAzimuth\n(degree)\n\nPitch\n(degree) Distance (km)\n\n1 13 Apr 2004 02:03:50.99 Get in 47.411 5.000 2379.134273 427.644\n13 Apr 2004 02:04:50.59 In station 56.804 7.882 2135.761585\n13 Apr 2004 02:05:50.59 In station 68.459 10.369 1951.462910\n13 Apr 2004 02:06:50.59 In station 82.104 11.919 1847.357295\n13 Apr 2004 02:07:50.59 In station 96.686 12.045 1837.799911\n13 Apr 2004 02:08:50.59 In station 110.618 10.694 1924.444941\n13 Apr 2004 02:09:50.59 In station 122.686 8.298 2095.250678\n13 Apr 2004 02:10:50.59 In station 132.517 5.403 2331.337992\n13 Apr 2004 02:10:58.63 Get out 133.673 5.000 2366.908626\n\n2 13 Apr 2004 03:38:23.81 Get in 5.098 4.999 2381.154871 620.893\n13 Apr 2004 03:39:23.59 In station 2.850 10.062 1976.386257\n13 Apr 2004 03:40:23.59 In station 359.195 16.699 1582.391016\n13 Apr 2004 03:41:23.59 In station 352.506 26.108 1215.022186\n13 Apr 2004 03:42:23.59 In station 337.591 40.015 909.678572\n13 Apr 2004 03:43:23.59 In station 297.633 53.934 748.656884\n13 Apr 2004 03:44:23.59 In station 245.486 46.378 822.409424\n13 Apr 2004 03:45:23.59 In station 223.631 30.833 1083.802937\n\nContinued\n\n8 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n24 hours from Guangzhou station, Dongfeng station, Kashi station,\nSurrey stations, and other auxiliary stations (Figs. 1.6?1.9,\nrespectively), then to obtain the corresponding remote sensing segment\nforecast values data (data omitted).\n\nAccording to the ground station control segment forecast value, the NS-1\nsatellite overhead action sequence is as illustrated in Table 1.3.\n\nIt can be seen from the above data that if we can use Kashi and Surrey\nS-band telemetry signal receiving stations, we will be able to greatly improve\nthe reliability of the telemetry signals from the ground station to the NS-1\nsatellite early in the orbit.\n\nTable 1.2 Calculation Value of Measured Arc in Beijing Station Continued\n\nOrder\n\nTime Information Space Information\n\nDuration\nOverhead (s)Time (UTC) Event\n\nAzimuth\n(degree)\n\nPitch\n(degree) Distance (km)\n\n13 Apr 2004 03:46:23.59 In station 214.702 19.818 1432.877322\n13 Apr 2004 03:47:23.59 In station 210.103 12.270 1818.804644\n13 Apr 2004 03:48:23.59 In station 207.340 6.673 2221.235163\n13 Apr 2004 03:48:44.70 Get out 206.616 5.000 2364.916387\n\n3 13 Apr 2004 12:57:24.27 Get in 91.705 5.000 2349.779466 314.554\n13 Apr 2004 12:58:23.59 In station 81.208 7.040 2178.142643\n13 Apr 2004 12:59:23.59 In station 69.095 8.307 2080.960482\n13 Apr 2004 13:00:23.59 In station 56.297 8.461 2071.910102\n13 Apr 2004 13:01:23.59 In station 43.962 7.461 2152.241815\n13 Apr 2004 13:02:23.59 In station 33.021 5.574 2312.424775\n13 Apr 2004 13:02:38.82 Get out 30.523 5.000 2363.968953\n\n4 13 Apr 2004 14:29:58.08 Get in 167.772 4.999 2336.234753 625.578\n13 Apr 2004 14:30:57.59 In station 168.170 10.242 1925.027026\n13 Apr 2004 14:31:57.59 In station 168.749 17.360 1519.022219\n13 Apr 2004 14:32:57.59 In station 169.739 28.156 1133.328629\n13 Apr 2004 14:33:57.59 In station 172.153 47.109 800.611291\n13 Apr 2004 14:34:57.59 In station 196.256 80.904 616.141945\n13 Apr 2004 14:35:57.59 In station 340.342 57.961 708.018406\n13 Apr 2004 14:36:57.59 In station 344.474 34.093 1002.592398\n13 Apr 2004 14:37:57.59 In station 345.812 21.066 1374.374455\n13 Apr 2004 14:38:57.59 In station 346.556 12.914 1774.356679\n13 Apr 2004 14:39:57.59 In station 347.080 7.098 2185.814076\n13 Apr 2004 14:40:23.65 Get out 347.273 5.000 2366.239406\n\n1.3 NS-1 Analysis of the Satellite Initial Orbit 9\n\n\n\nFIGURE 1.6\nControl segment of Guangzhou station within 24 h.\n\nFIGURE 1.7\nControl segment of Dongfeng station within 24 h.\n\n10 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nFIGURE 1.8\nControl segment of Kashi station within 24 h.\n\nFIGURE 1.9\nControl segment of Surrey station within 24 h.\n\n1.3 NS-1 Analysis of the Satellite Initial Orbit 11\n\n\n\nTable 1.3 Satellite Overhead Sequence\n\nSequence Time (UTC) Overhead Action Illustration\n\n1 12 Apr 2004 16:03:49.59 First time getting into Dongfeng station\n2 12 Apr 2004 16:04:03.09 First time getting out of Dongfeng station\n3 12 Apr 2004 17:30:23.10 First time getting into Kashi station\n4 12 Apr 2004 17:40:36.77 First time getting out of Kashi station\n5 12 Apr 2004 20:49:29.76 First time getting into Surrey station\n6 12 Apr 2004 20:58:10.92 First time getting out of Surrey station\n7 12 Apr 2004 22:24:10.81 Second time getting into Surrey station\n8 12 Apr 2004 22:34:32.10 Second time getting out of Surrey station\n9 13 Apr 2004 00:04:15.31 Third time getting into Surrey station\n10 13 Apr 2004 00:08:02.60 Third time getting out of Surrey station\n11 13 Apr 2004 02:03:50.99 First time getting into Beijing station\n12 13 Apr 2004 02:08:37.00 First time getting into Guangzhou station\n13 13 Apr 2004 02:10:58.63 First time getting out of Beijing station\n14 13 Apr 2004 02:15:05.08 First time getting out of Guangzhou station\n15 13 Apr 2004 03:38:23.81 Second time getting into Beijing station\n16 13 Apr 2004 03:39:15.69 Second time getting into Dongfeng station\n17 13 Apr 2004 03:42:43.42 Second time getting into Guangzhou station\n18 13 Apr 2004 03:48:44.70 Second time getting out of Beijing station\n19 13 Apr 2004 03:48:45.58 Second time getting out of Dongfeng station\n20 13 Apr 2004 03:52:42.80 Second time getting out of Guangzhou station\n21 13 Apr 2004 05:15:05.90 Third time getting into Dongfeng station\n22 13 Apr 2004 05:16:23.98 Second time getting into Kashi station\n23 13 Apr 2004 05:24:27.36 Third time getting out of Dongfeng station\n24 13 Apr 2004 05:25:58.45 Second time getting out of Kashi station\n25 13 Apr 2004 06:52:19.42 Third time getting into Kashi station\n26 13 Apr 2004 07:01:30.02 Third time getting out of Kashi station\n27 13 Apr 2004 10:04:19.50 Fourth time getting into Surrey station\n28 13 Apr 2004 10:12:54.98 Fourth time getting out of Surrey station\n29 13 Apr 2004 11:39:38.28 Fifth time getting into Surrey station\n30 13 Apr 2004 11:50:03.54 Fifth time getting out of Surrey station\n31 13 Apr 2004 12:57:24.27 Third time getting into Beijing station\n32 13 Apr 2004 13:02:38.82 Third time getting out of Beijing station\n33 13 Apr 2004 13:16:51.09 Sixth time getting into Surrey station\n34 13 Apr 2004 13:22:48.85 Sixth time getting out of Surrey station\n35 13 Apr 2004 14:26:13.00 Third time getting into Guangzhou station\n36 13 Apr 2004 14:29:58.08 Fourth time getting into Beijing station\n37 13 Apr 2004 14:32:07.10 Fourth time getting into Dongfeng station\n38 13 Apr 2004 14:36:14.39 Third time getting out of Guangzhou station\n39 13 Apr 2004 14:40:23.65 Fourth time getting out of Beijing station\n40 13 Apr 2004 14:40:36.69 Fourth time getting out of Dongfeng station\n\n12 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n1.3.3 Orbit Lighting Situation Analysis\nThe satellite orbit lighting situation determines the satellite power supply\ncapacity, because the NS-1 battery capacity is limited, the orbit lighting con-\nditions have fatal effects on satellite life. Therefore the NS-1 satellite orbit\ntrack lighting conditions are analyzed and calculated.\n\n1.3.3.1 Orbit Lighting Time\nThe NS-1 satellite was in orbit. In the 6 months, the orbital illumination\ntime of each circle varies from 3709.044 to 3732.963 s. In other words, the\norbital illumination factor is between 0.6395 and 0.6436. The orbit lighting\ntime within 3 days after entering orbit is shown in Table 1.4.\n\nIt can be seen from Table 1.4 that NS-1 is in the lighting area before satelli-\nte?launcher separation, and stays in the illumination area for more than\n1 hour after separation, which is beneficial to the satellite power system.\n\n1.3.3.2 Orbit Solar Angle\nBecause the NS-1 adopted a nearly noon sun synchronous orbit, the orbit\nsolar angle is kept within a small range. In 6 months, the orbit solar angle\nfluctuated between 14.494 and 19.497 degrees (as shown in Fig. 1.10). In\norder to investigate the orbit solar angle and its changes of initial orbit,\nFig. 1.11 gives the amplification curve of the orbit solar angle within 3 days\nafter entering orbit.\n\nFrom the orbit lighting situation analysis results, we can see that within 6\nmonths after launch, the lighting situation of the NS-1 orbit is stable, which\nis in favor of the satellite power subsystem. But due to the small orbit solar\nangle, and the certain initial attitude of pitch during the satellite?\nlauncher separation, when making flight procedures, ensuring the side of the\nsolar cell array gets enough sunshine should be taken into consideration.\n\n1.4 NS-1 SUBSYSTEM DESIGN\n\n1.4.1 The Power Subsystem Design\n1.4.1.1 Summary of System Function and Principle Block Diagram\nThe power subsystem of the NS-1 consists of a gallium arsenide solar cell\narray, a cadmium nickel battery, and a power controller. The power control-\nler consists of a battery charge regulator (BCR), power control module\n(PCM), power distribution module (PDM), and battery circuit monitoring\n(BCM). The solar cell array is body-mounted, with solar panels installed on\nsix sides and on top of the array. Each of the solar cell array output diode\nbuses is segregated from the busbar. The solar cell array, as a power device,\n\n1.4 NS-1 Subsystem Design 13\n\n\n\nTable 1.4 Orbit Lighting Time (Within 3 Days After Entering Orbit)\n\nLighting Start (UTC) Lighting Stop (UTC) Duration (s)\n\n12 Apr 2004 16:03:49.59 12 Apr 2004 17:04:26.08 3636.488\n\n12 Apr 2004 17:39:09.86 12 Apr 2004 18:41:18.25 3728.395\n\n12 Apr 2004 19:16:02.07 12 Apr 2004 20:18:10.39 3728.315\n\n12 Apr 2004 20:52:54.26 12 Apr 2004 21:55:02.43 3728.173\n\n12 Apr 2004 22:29:46.36 12 Apr 2004 23:31:54.45 3728.086\n\n13 Apr 2004 00:06:38.44 13 Apr 2004 01:08:46.46 3728.023\n\n13 Apr 2004 01:43:30.50 13 Apr 2004 02:45:38.51 3728.008\n\n13 Apr 2004 03:20:22.58 13 Apr 2004 04:22:30.67 3728.09\n\n13 Apr 2004 04:57:14.76 13 Apr 2004 05:59:22.89 3728.126\n\n13 Apr 2004 06:34:07.00 13 Apr 2004 07:36:15.02 3728.024\n\n13 Apr 2004 08:10:59.15 13 Apr 2004 09:13:07.06 3727.917\n\n13 Apr 2004 09:47:51.24 13 Apr 2004 10:49:59.09 3727.852\n\n13 Apr 2004 11:24:43.31 13 Apr 2004 12:26:51.08 3727.773\n\n13 Apr 2004 13:01:35.36 13 Apr 2004 14:03:43.09 3727.733\n\n13 Apr 2004 14:38:27.45 13 Apr 2004 15:40:35.20 3727.748\n\n13 Apr 2004 16:15:19.59 13 Apr 2004 17:17:27.38 3727.789\n\n13 Apr 2004 17:52:11.78 13 Apr 2004 18:54:19.53 3727.75\n\n13 Apr 2004 19:29:03.98 13 Apr 2004 20:31:11.64 3727.653\n\n13 Apr 2004 21:05:56.13 13 Apr 2004 22:08:03.65 3727.512\n\n13 Apr 2004 22:42:48.21 13 Apr 2004 23:44:55.65 3727.44\n\n14 Apr 2004 00:19:40.28 14 Apr 2004 01:21:47.65 3727.372\n\n14 Apr 2004 01:56:32.32 14 Apr 2004 02:58:39.68 3727.368\n\n14 Apr 2004 03:33:24.39 14 Apr 2004 04:35:31.85 3727.46\n\n14 Apr 2004 05:10:16.56 14 Apr 2004 06:12:24.04 3727.471\n\n14 Apr 2004 06:47:08.77 14 Apr 2004 07:49:16.14 3727.372\n\n14 Apr 2004 08:24:00.90 14 Apr 2004 09:26:08.17 3727.267\n\n14 Apr 2004 10:00:52.97 14 Apr 2004 11:03:00.17 3727.199\n\n14 Apr 2004 11:37:45.02 14 Apr 2004 12:39:52.14 3727.126\n\n14 Apr 2004 13:14:37.06 14 Apr 2004 14:16:44.15 3727.093\n\n14 Apr 2004 14:51:29.14 14 Apr 2004 15:53:36.25 3727.115\n\n14 Apr 2004 16:28:21.27 14 Apr 2004 17:30:28.42 3727.15\n\n14 Apr 2004 18:05:13.45 14 Apr 2004 19:07:20.55 3727.102\n\n14 Apr 2004 19:42:05.63 14 Apr 2004 20:44:12.62 3726.989\n\n14 Apr 2004 21:18:57.75 14 Apr 2004 22:21:04.60 3726.85\n\n14 Apr 2004 22:55:49.80 14 Apr 2004 23:57:56.59 3726.791\n\n15 Apr 2004 00:32:41.84 15 Apr 2004 01:34:48.57 3726.721\n\n15 Apr 2004 02:09:33.86 15 Apr 2004 03:11:40.59 3726.726\n\n15 Apr 2004 03:46:25.92 15 Apr 2004 04:48:32.75 3726.828\n\n15 Apr 2004 05:23:18.09 15 Apr 2004 06:25:24.91 3726.816\n\n15 Apr 2004 07:00:10.27 15 Apr 2004 08:02:16.99 3726.72\n\n15 Apr 2004 08:37:02.37 15 Apr 2004 09:39:08.99 3726.617\n\n15 Apr 2004 10:13:54.42 15 Apr 2004 11:16:00.96 3726.542\n\n15 Apr 2004 11:50:46.44 15 Apr 2004 12:52:52.92 3726.476\n\n15 Apr 2004 13:27:38.46 15 Apr 2004 14:29:44.92 3726.452\n\n15 Apr 2004 15:04:30.53 15 Apr 2004 16:06:37.01 3726.484\n\n14 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nFIGURE 1.10\nOrbit solar angle (in 6 months).\n\nFIGURE 1.11\nOrbit solar angle (within 3 days).\n\n1.4 NS-1 Subsystem Design 15\n\n\n\nafter the BCR, completes power adjustment, battery charging and discharging\nadjustment and control, and associates with the battery as the satellite pri-\nmary source. The battery set consists of special test and screening of cad-\nmium nickel batteries, as power supply for the load and platform during the\neclipse, and can provide limited peak power to supplement any shortage of\nthe solar cell array output as the primary source supply power. Each subsys-\ntem\u2019s secondary power supply is produced by the primary source, through a\nPCM for DC/DC conversion. The power supply subsystem principal block\ndiagram is shown in Fig. 1.12.\n\n1.4.1.2 Main Technical Parameters of the Power System\nThe main technical parameters of the power system include:\n\n? Average output power: 10 W;\n? Primary supply voltage: 14 V;\n? Secondary power supply voltage: 612 V, 5 V.\n\nSolar\narrays\n\nFIGURE 1.12\nThe power subsystem principle block diagram.\n\n16 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nThe power supply performance metrics efficiencies are:\n\n? Efficiency of BCR .85%;\n? Efficiency of PCM .70%;\n? Efficiency of the battery is about 90%.\n\nThe source impedance is low, and a large current pulse load is allowed for a\nshort time. The size is of two standard module boxes (not including the\nbattery).\n\nTemperature ranges are:\n\n? Power controller: 225?C to 155?C;\n? Battery: 0?40?C;\n? Solar panels: 280?C to 180?C.\n\nThe solar cell array is a single-junction gallium arsenide (GaAs) solar cell;\nwith a size of 40 mm3 20 mm3 0.175 mm. The average conversion effi-\nciency is EFF5 18.5% (25?C, AM0), EFFmin$ 17.0% (25?C, AM0), using\nsolar panels (Table 1.5).\n\nThe sides of the solar panels are composed of six pieces of base plate, and\nthe size is 440 mm3 182.5 mm3 10 mm, made from 9.4 mm aluminum\nhoneycombs and each is constructed from 0.3 mm thick aluminum plate,\nwith the up and down surfaces pasted with a 50 mm thick polyimide\nmembrane. Seventy pieces of solar cells are pasted flat on each solar panel.\nBattery pieces consisted of 35 in series and 2 in parallel. The output volt-\nage of maximum power point of the solar battery array is about 30.1 V\n(25?C, AMO), within the range of 280 to 180?C, with the maximum\npower point voltage of about 26.25?37.45 V (AM0). Each panels output\npower is .13.4 W (AM0, 25?C); each board under the base board is\nequipped with three temperature sensors, independently measuring the\ntemperature of the solar cells. Among them, two sensors are used for BCR\npanel temperature compensation, and the other one is for temperature\nremote sensing.\n\nTable 1.5 Power Supply Metrics\n\nNominal Voltage (V) Voltage Range (V) Ripple Voltage vpp (mV)\n\n14 11?15 150\n5 5?5.5 50\n12 11.5?12.5 120\n212 212.5 to 211.5 120\n\n1.4 NS-1 Subsystem Design 17\n\n\n\nSolar panels have one piece of hexagonal top substrate, whose side length is\n182.5 mm (thickness 15 mm). The up and down surfaces are made from\n14.0 mm aluminum honeycomb and 0.5 mm thick aluminum plate, with\n50 mm thick polyimide membrane pastes on the top surface. Battery pieces\nconsist of 35 in series and 1 in parallel. The panelsoutput power is .6.7 W\n(AM0, 25?C); panels under the base board are equipped with a temperature\nsensor, which is used to measure the temperature of the solar cells.\n\nCadmium nickel battery details are given in Table 1.6.\n\nMonomer batteries experience a series of tests and trials, 10 are screened and\nmatched for encapsulating into the battery set.\n\n1.4.1.3 The Power Supply Reliability Design\nThe following measures should be taken to protect the power subsystem and\npower supply equipment.\n\n1. Redundancy design. This is mainly reflected in the backup of PCM and\nBCR. When a failure occurs, an independent control switch is the\npriority way, with a remote control switch being complementary. The\npower conditioning and distribution subsystem is designed as double\npoint and double line system. The design rules out the possibility of a\nsingle point failure.\n\n2. Charging system designed with an overcharge protection function. The\npower supply has an overload protection function, with a power\ndistribution switch limiting flow function. A power circuit series with\nfuses protects the power supply from being damaged in the case of a\nload short circuit.\n\n3. Most selected components meet military standards and American 883\nstandards. Part of the devices meet the industrial- and commercial-\ngrade. The commercial-grade devices are used in Tsinghua I.\n\n4. High equivalent of voltage, inductance, resistance, and impedance are\nrequired for the transformers and inductors. Component-level\ntemperature impact test is also needed.\n\nTable 1.6 Cadmium Nickel Battery\n\nType Commercial Type of Cadmium Nickel Battery\n\nSum number 10\nRated capacity 3 Ah\nMaximum depth of discharge 40%\nMonomer rated voltage 1.2 V\n\n18 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n1.4.2 Telemetry and Remote Control System\n(TTC Subsystem)\n1.4.2.1 TTC Subsystem Main Technical Indicators\n\n1. Remote control unit:\nWorking voltage: 15 V to 15.5 V. Command channel: 34 way; single\nchip microcomputer: three pieces of 87C52;\nCommunication: code rate of 9.6 kbps;\nRF subsystem interface: 01 decoder and 02 decoder asynchronous\n\nserial input. RF subsystem respectively connected to two receivers: RX0\nand RX1 asynchronous serial port. 03 decoder asynchronous serial\ninput by multichannel switch by polling the RX0 from radio frequency\nsubsystem, RX1 and OBC, TLM1, ground test equipment of\nasynchronous serial input signal.\n\n2. Remote sensing unit:\nWorking voltage: (1) 15 V to 15.5 V; (2) 111.5 V to 12.5 V;\n(3) 211.5 V to 112.5 V;\nTelemetry channel: 46 analogue channels, 16 digital channels, 34\n\nremote control instruction channels;\nNormal work of the analogue input voltage range: 0?5 V.\nAnalogue maximum allowable range of input voltage: 0.6 V to\n\n111 V.\nDouble-machine hot backup: The microcontroller of TLM0, using 87\n\nC52 TLM1 microcontroller with belt CAN SAH-C515C MCU controller.\nCommunication interface: the code rate is 9.6 kbps. Asynchronous\n\nserial port TLM0, TLM1 telemetry data can be output to the OBC, RF,\nand ground test equipment. TLM1 CAN can also be received from the\nCAN bus on remote data frame by asynchronous serial port output to\n03 decoder, CAN transmit information through CAN bus\ncommunication bus.\n\nReliability is the main technical problem of the TTC subsystem. In order to\nachieve high reliability, and provide the necessary design measures in design\nand to strengthen the weak links, avoid a single point of failure, improve the\nquality of the components, adopt effective software reliability measures, and\nensure the TTC system has high reliability.\n\nThe main technology and measures for this include:\n\n? Redundancy design technology;\n? Derating design technology;\n? PCB electromagnetic compatibility design technology;\n? Choose standardized interface circuit design;\n? For key parts use military and above specification;\n? Hardware watchdog technology.\n\n1.4 NS-1 Subsystem Design 19\n\n\n\nSoftware reliability design: as the channel characteristics of tasks, TLM0 will\nhave no interruption telemetry channel 0 programming sequential structure,\nmaking TLM0 reliability greatly improved.\n\n1.4.3 Satellite Onboard Computer System (OBC Subsystem)\n1.4.3.1 Main Function of OBC Subsystem\nThe main tasks of the OBC subsystem are to undertake the following:\n\n? Satellite-borne GPS receiving device to receive the label and rail\ninformation must be sent to the onboard computer, calculated by the\nspace-borne unit frame, packaging, to send the satellite RF subsystem\ndown to Earth.\n\n? CMOS camera after CAN sent to space-borne computer-generated\ngraphics data, cached by onboard computer, framing and packaging,\nvia satellite RF subsystem down to Earth.\n\n? As the controller of the attitude control system, the control system\napplication software runs on OBC, work attitude control needs a lot of\nmath, this part of the work should be done by onboard computer\ncalculation.\n\n? The attitude of the satellite and other telemetry parameters must be\napproved by the onboard computer next to the ground, providing\nmeasurements of the status of the satellite.\n\n? Indirect remote command received by OBC, analysis, and then via CAN\nbus, sent to the TTC subsystem; issue instructions by remote control\nunit.\n\n? Clock management tasks, regardless of the telemetry parameter or\nremote control command, need the clock to cooperate; an effective task\nscheduling label also needs to have time.\n\n? Satellite operating system and application should be able to overload,\nto complete the function of satellite refactoring.\n\n1.4.3.2 OBC System Overall Design\nThe onboard computer systems use Intel 32-bit RISC processor SA1110 as\nthe CPU, its low power consumption characteristic is suitable for low power\napplications, and its system operating frequency is 133 MHz/206 MHz. On-\nboard computer system development is mainly divided into two parts: the\nhardware system and the software system. The hardware design includes pro-\ncessors, memory, interrupt, RAMDISK, ISCC (integrated serial communica-\ntion), EDAC error (remedy), bus controller, and remote control remote\nnode. Software development includes the system boot firmware, the underly-\ning drivers, the operating system kernel, application software, etc. Operating\n\n20 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nsystem and application software are uploaded on the orbit, for setting up a\nflexible and fault tolerance satellite system.\n\n1. The satellite\u2019s computer hardware system is shown in Fig. 1.13.\nSystem configuration is as follows:\n? The Intel SA 1110 CPU processor, frequency 206 MHz @ 206 mW;\n? 512K EPROM memory;\n? Program memory with TMR rectifying error detection (1.5 M);\n? 6 M data storage;\n? Timer watchdog technology;\n? CAN bus control node;\n? All landowners and RF S-band in HDLC communication link\n\nbetween the synchronization end up with RF, ADCS, GPS, and TTC\nasynchronous communication links.\n\n2. The software system of the satellite\n\nBoot EPROM\n512KB\n\nSA1110\n\nReset\nand\n\nWatch Dog\n\n3.3 V DC-DC 1.5 V DC-DC\n\nHDLC\n\nRF\nSynchronization\nS-band\n\nAsynchronization\nS-band/others\n\nPower\n\nMUX\n\nRESET*\n\nCS\n\nCS\n\nUART SPI\n\nVDDVDDX\n\nData\n\nAddr\n\nE\nD\nA\nC\n\nPWR_EN\n\nCAN data\nCS\n\nCS\n\n5 V\n\nSRAM\n1.5 M\n\nEPROM\n512KB\n\nCS\n\nCAN TTC\n\nCAN \n\nTelemetry \nstatus point\n\nCSM*\n\nFIGURE 1.13\nSchematic view of the computer on NS-1.\n\n1.4 NS-1 Subsystem Design 21\n\n\n\nThe satellite\u2019s software system adopts UCOS II operating system, so the\ndevelopment of the entire software system includes operating systems,\ndrivers, and applications in three parts:\n? The operating system. Using the UCOS II operating system.\n? The driver. The underlying hardware including asynchronous serial\n\nport operation, synchronous serial port, and CAN. Driver software\nsystem is designed with the upper specific application software, with\nwhich the driver software completes specific functions.\n\n? Application software. The application basically covers all the functional\nrequirements of the satellite, but does not support the FAT format file\n(as a binary data stream). It uses the standard C language application\nprogram.\n\nThe main software module parts include:\n? Bootstrap;\n? Operating system of the main program;\n? Asynchronous serial port driver;\n? Synchronous serial port driver;\n? CAN driver;\n? QAX. 25 communications services;\n? CAN communication protocol services;\n? Asynchronous communication protocol services;\n? File storage service;\n? Upload service program;\n? Star service management services;\n? Attitude measurement and control module (ADCS);\n? Payload service program.\n\n1.4.4 Attitude Control Subsystem (ADCS Subsystem)\n1.4.4.1 ADCS Subsystem Main Technique Index and Function\nAccording to the NS-1 satellite mission, the overall ADCS subsystem specifi-\ncations as shown in Table 1.7 have been put forward.\n\n1.4.4.1.1 Main Function of the ADCS Subsystem\nBased on task analysis and technical indicators of the ADCS subsystem, the\nADCS system control mode for bias momentum wheel and magnetic control\nway of triaxial stability control is determined. Attitude-measuring compo-\nnents for the magnetometer and the attitude controller should be borne by\nthe OBC, execution parts for momentum wheel and magnetic moment. This\ncan realize lower cost of directional three-axial stability, and meeting the\noverall technical indicators.\n\n22 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nThe main task of the attitude control system is to guarantee the stability of\nsatellite attitude, meeting the requirements of satellite pointing, and ensuring\nthe collaborative satellite payload flight test task is completed. Due to the\nsatellite using an omnidirectional antenna, the communication system satel-\nlite attitude can only carry out basic pointing maintenance. The satellite pay-\nload\u2019s mission is to take photographs and make a flight test. The flight\ndemonstration experiment task of satellite attitude is controlled without spe-\ncial requirements, therefore the ADCS subsystem will mainly finish the mis-\nsion to take pictures for design basis, to ensure that the control precision of\nthe ADCS subsystem can meet the normal work of the CMOS camera.\n\n1.4.4.2 ADCS Subsystem Main Working Mode\nAccording to the above analysis, we can determine the NS-1 satellite ADCS\nsubsystem of the main working mode as illustrated in Table 1.8.\n\nSoftware solutions of ADCS subsystem\n\nThe NS-1 satellite ADCS subsystem software consists of two parts:\n\n? ADCS master software (running in OBC);\n? ADCS PC software (running on MCU, ATC).\n\nTable 1.7 Specifications of ADCS on NS-1\n\nContent Specification\n\nStability maintenance 3-axis\nGesture measuring accuracy 1 degree\nGesture control accuracy 2 degrees\nGesture stability 0.02 degree/s\nAntirotation ability 5 degree/s\n\nTable 1.8 Working Mode of ADCS on NS-1\n\nRate damping\nmode\n\nPlatform instruments and\nmagnetorquer\n\nEliminate the large angular rate of\nseparation between satellites and\ncarriers\n\nSpinning mode Platform instruments and\nmagnetorquer\n\nEstablish Y-Thomson spin, inhibit\nnutation\n\nAntispinning\nmode\n\nPlatform instruments,\nmagnetorquer, and\nmomentum wheel\n\nStarting the womentum wheel, reduce\nthe star racing and the pitch axis\nangular rate\n\nThree-axes\nstability\n\nPlatform, magnetorquer,\nand momentum wheel\n\nEstablish and maintain a three-axes\nstable attitude towards ground\norientation\n\n1.4 NS-1 Subsystem Design 23\n\n\n\nThe ADCS master software, running in the OBC, is the core of the ADCS\nsubsystem, and is responsible for the entire ADCS scheduling subsystem of\nmanagement, large computation algorithm processing, collect the underly-\ning data, receiving ground control instructions, etc. The software of the\nsingle-chip processor system running in the microcontroller is responsible\nfor collecting and processing the data directly, control and drive related\nparts, etc.\n\n1.4.4.3 Subsystem Designation of ADCS\n1. Subsystem setup of ADCS\n\nA schematic view of the ADCS on the NS-1DCS hardware system is\nshown in Fig. 1.14.\n\nThe hardware system includes the following sections:\n\n? Two underlying squared MPUs (C515C);\n? Two three-axes magnetometers squared and corresponding\n\nprocessing circuit;\n? Squared four magnetic torque and the corresponding driving circuit;\n? A biased momentum wheel and the corresponding drive and control\n\ncircuit.\n\nWith the MCU and its peripheral circuit, the magnetometer\nprocessing circuit, the magnetic torquer and momentum wheel drive\ncontrol circuit of the ADCS subsystem of measurement and control\n\nCAN\n\nMCU1  \n\nMCU2  \n\nMW\ndriver\n\nMTX2\n\nMW \n\nMT\ndriver\n\nMTX1\n\nMTZ\n\nMTY\n\nOBC \n\nRS-23\n\nMM2\n\nMM1\n\nMM\nProcess\n\nC C\n\nSerial\nPort \n\nSerial\nPort \n\nPower management \n\nFIGURE 1.14\nNS-1 satellite ADCS subsystem hardware structure.\n\n24 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nmodule. The measurement and control module sends the\ncorresponding data to the OBC ADCS master software, receives master\nsoftware instructions, and control, and drives the corresponding\nhardware.\n\nThe NS-1 satellite measurement and control module has two\nmicrocontrollers, MCU and ATC, respectively. The two microcontrollers\nCAN through its built-in CAN communicate with another subsystem\non the star; the control system works via a serial port (UART)\ncommunication between these subsystems.\n\n2. The ADCS subsystem signal flow measurement and control module are\nas shown in Fig. 1.15.\n\n1.4.5 Structure Subsystem\n1.4.5.1 Satellite Coordinate System\nDuring the design process, the satellite needs a variety of coordinate systems,\nsuch as the structure of the coordinate system and centroid coordinate sys-\ntem, the coordinate transformation can be done through the origin of coor-\ndinate\u2019s translation.\n\nFIGURE 1.15\nSignal flow diagram of ADCS.\n\n1.4 NS-1 Subsystem Design 25\n\n\n\nThe XYZ coordinate system O:\n\n1. The structure origin structure for satellite arrow separation docking ring\ndocking to the center of the circle. The Y axis is perpendicular to the\nside panel and pointing in the direction of the cable net surface. The Z\naxis is pointing to the satellite bottom-mounting plate. The X, Y, and Z\naxes of the right-hand coordinate system.\n\n2. The body coordinate system O1?X1Y1Z1. The origin of the coordinate\nsystem is defined as the average mass center during the running of\nsatellite; the X1, Y1, and Z1 axes are parallel in structure coordinates\ncorresponding to the three axes X, Y, and Z. The X1 shaft for the roller\nshaft and satellite speed are in the same direction; the Y1 shaft for\nvertical, pitching axis and satellite orbit plane Z1 axis for the yaw axis\npoint to the center of the Earth.\n\n3. Direction of cable net and definition of side plate identification.\nIn the center of the payload capsule on the ground as the origin of\ncoordinates, to the direction for the 1Z direction, the ground cable\nnetwork is in the 1Y direction, according to the right-hand rule to\ndetermine the 1X direction; as shown in Fig. 1.16.\n\nDue to the uniqueness of solar panels installation and positioning, six sides\nand two top surfaces should be defined.\n\nAccording to the structure coordinate X, Y, and Z definitions, the six-sides are\ndefined as: cable net is in the 1Y axis, the remaining five sides from the 1Z\naxis to the Z axis direction run counterclockwise, respectively, as 1X 1 Y 1X\n2Y plane, x?y plane, X?Y plane, X1 Y, and on the ground for 1Z, as\nshown in Fig. 1.17.\n\n1.4.5.2 The Satellite Configuration and Layout\nThe structure subsystem consists of basic module boxes, a load tank, panels,\nsun sensor, solar panels, and star arrow separation mechanism parts. The sat-\nellite function diagram is shown in Fig. 1.18.\n\nThe satellite system adopts a modular design\u2014dividing the satellite into pay-\nloads and service modules using the advantages of modular design, can\nresult in different modules being run in parallel enabling assembly and test-\ning at the same time, and hence shortening the cycle of assembly and testing.\nIn addition, from the perspective of space, on the same satellite mission, but\nin respect to different payloads, roughly the same service system module can\nbe used. So that the small satellite platform service module is designed and\nmanufactured. On one hand this helps to facilitate adjustments to the satel-\nlite program, and on the other hand, it promotes the adjustments to func-\ntions, when developing a new model.\n\n26 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nSatellite platform from top to bottom includes: attitude control, TTC, OBC,\nGPS, RF1, RF2, the PCM/PDM, 8 BCR modules, with a shell covering the\nmain load-carrying structure of satellite. Each module was hexagon type,\nwith a length of 182.5 mm.\n\nThe payload capsule includes a camera module, propulsion module, the\nmomentum wheel, the magnetic torquer 1, storage battery, and MIMU\nmodule.\n\nTo send and receive signal, two RF antennas are installed on the bottom\npanel, and other two RF antennas and a GPS antenna are installed on the\ntop panel.\n\nFIGURE 1.16\nDefinition of coordinates on NS-1.\n\n1.4 NS-1 Subsystem Design 27\n\n\n\nFIGURE 1.17\nDefinition of faces on NS-1.\n\nFIGURE 1.18\nExploded view of NS-1.\n\n28 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nThe solar panels are made up of seven boards, including a satellite roof panel\nand six side panels.\n\n1.4.6 RF Subsystem\n1.4.6.1 RF Subsystem Function and Performance Index\nThe NS-1 satellite uses a radio frequency subsystem consisting of a receiving\nchannel and a transmission channel, for modulating transmission channel,\nsending complete remote sensing satellite engineering parameters, forwarding\nGPS orbit data, storing-and-forwarding communication carrying load data\nand satellite data, receiving channels to complete the project for the remote\ncontrol instruction to receiver, demodulating, and managing data from satel-\nlite and injected by subsystems. On a satellite RF subsystem, in addition to\nsending, receiving, and downlinking signals, the transmitter can be used as a\nbeacon, a ground antenna tracking signal, to guide ground capture, and satel-\nlite antenna automatic tracking.\n\nTelemetry, remote control and data communication frequency band, modu-\nlation system, code rate, and distance requirements are shown in Table 1.9.\n\nThe telemetry frame format uses GJB1198.2 standards of PCM telemetry and\nGJB1198.6 subcontracting telemetry. The remote control frame format uses\nthe GJB1198.1 PCM remote control scheme.\n\nThe main technical indicators for a receiving subsystem are listed in Table 1.10.\n\nThe main technical indicators of the launch subsystem are shown in Table 1.11.\n\n1.4.6.2 Composition of the RF Subsystem\nThe nanosatellite\u2019s RF subsystem is composed of a receiving antenna (includ-\ning a duplexer, transmit/receive filters, splitter/combiner), a hot backup fre-\nquency receiver with the same frequency, and a cold backup transmitter with\nthe same frequency. The dual-switch transmitter is controlled by the ground\ncontrol station with upward instruction.\n\n1. Antenna duplexer and network:\n? A set of omnidirectional antenna duplexers mounted on the sky\n\nsurface and ground surface;\n\nTable 1.9 Basic Characteristics of Telemetry and Remote Control Channel\n\nChannel Frequency Decode Speed Distance\n\nRemote test S 2274.48 MHz PCM/DPSK 19.2 kbps 2760 km\nRemote\ncontrol\n\nS 2094.417 MHz PCM/2FSK/FM 9.6 kbps\n\n1.4 NS-1 Subsystem Design 29\n\n\n\n? Two diplexers;\n? Two front-end RF receivers (receiving band pass filter and low noise\n\namplifier);\n? A four-port network;\n? Two emission filters.\n\n2. Receiver\n? Two RF receiver modules;\n? Two IF FM receivers;\n? Two FSK baseband processing units.\n\n3. Transmitter\n? Two RF transmitter modules;\n? Two error correction coding and scrambling baseband processing\n\nunits.\n\nTable 1.10 Main Specifications of a Receiving Subsystem\n\nChannel S Channel\n\nFrequency 2094.417 MHz\nAntenna Gain: $21.5 dB\n\nDirectionality:\nomnidirectional\nPolarization: circular\nImpedance: 50 ?\nSWR: 1:1.5\n\nNet Insertion loss: #5 dB\nImpedance: 50 ?\nSWR: 1:1.5\n\nDecoding method PCM/CPFSK\nMaximum linear frequency offset 5 kHz\nG/T 230 dB/K\nReceiver sensitivity (to ensure that the data error rate is better\nthan 1026)\n\n2108 dBm\n\nDynamic range 50 dB\nFrequency tracking range 6110 kHz\nSpeed 9.6 kbps\nData error rate (under the condition of remote demodulation\nsensitivity)\n\n1026\n\nScrambling polynomial 11X121X17\n\nBaseband shaping cosine filter roll-off coefficient ? 5 1\nOutput PCM NRZ\u2014L\nPower consumption (nonrenewable energy) #1.4 W\nVolume 2503 240330 mm\nWorking temperature 225 to 155?C\n\n30 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n4. Block diagram\nA block diagram of the remote control receiver is shown in Fig. 1.19\n\n5. Telemetry transmitter\nThe telemetry transmitter is a dual-system cold backup. A block\ndiagram of a telemetry transmitter receiver is shown in Fig. 1.20.\n\nTable 1.11 Main Specifications of the Launch Subsystem\n\nFrequency 2274.48 MHz\nAntenna Gain: $21.5 dB\n\nDirectionality: omnidirectional\nPolarization: circular\nImpedance: 50 ?\nSWR: 1:1.5\n\nNet Insertion loss: #5 dB\nImpedance: 50 ?\nSWR: 1:1.5\n\nDecoding method PCM/DPSK\nFrequency stability Better than 613 1025\n\nFrequency accuracy Better than 653 1026\n\nHarmonic suppression $40 dB\nNoise suppression $60 dB\nImpedance 50 ?\nPCM code NRZ\u2014L\nSymbol asymmetry s10%\nError correction code Cascaded convolutional codes\n\n(2, 1, 7) and RS codes (255,\n223)\n\nScrambling polynomial IESS308\nError correction encoder input code speed 19.2 kbps\nBaseband shaping cosine filter roll-off coefficient ? 5 1\nPhase noise ?f Phase noise\n\n100 Hz 255 dBc/Hz\n1 kHz 270 dBc/Hz\n10 kHz 277 dBc/Hz\n100 kHz 282 dBc/Hz\n1 MHz 2100 dBc/Hz\n\nOutput power of PA $ 320 mW\nMaximum power consumption # 3.6 W\nVolume 250 mm3240 mm3 30 mm\nWorking temperature 225?C to 155?C\n\n1.4 NS-1 Subsystem Design 31\n\n\n\n1.4.7 GPS Subsystem\nSystem functional requirements and environmental uses include the following.\n\n1. Positioning and orbit determination\nThe nanosatellite\u2019s GPS receiver orbital position measurement and\nsolver give the current satellite position, including three-dimensional\nposition (X, Y, Z), velocity components (Vx, Vy, Vz), and other data.\n\n2. Standard time\nThe nanosatellite\u2019s GPS receiver simultaneously satisfies the GPS\nsatellite data management subsystem standard time.\n\n3. Software upload\nIn order to improve the GPS receiver\u2019s orbit measurement reliability,\nparticularly to overcome the consequences caused by space radiation\nSEU events, the GPS receiver should have the ability to upload\nsoftware.\n\nLocal Oscillator\n\nLocal Oscillator\n\nCombiner/\nsplitter\n\nAntenna\n\nFilter\n\nLNA\n\nLNA\n\nFilter\n\nAntenna\n\nRA\namplification\n\nFirst\ninverter\n\nRF\nfiltering\n\nRA\nfiltering\n\nLNA\n\nRF\namplifier\n\nIF\namplifier\n\nRF\nfiltering\n\nFM\nreceiver\n\nchip\n\nFSK\ndemodulation\n\nFSK\ndemodulation\n\nFM\nreceiver\n\nchip\n\nRF\nfiltering\n\nRF\namplifie\n\nRF\namplification\n\nLNA\nRF\n\nfiltering\nFirst\n\nInverter\nRF\n\nfiltering\n\nFIGURE 1.19\nBlock diagram of the receiver.\n\n32 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n4. Environment\nOrbiting speed: 7.8 km/s.\n\n5. The main technical performance and indicators include:\na. Satellite orbit: 600?1100 km quasi sun-synchronous orbit;\nb. Three-dimensional positioning accuracy (2?): better than 50 m;\nc. Three-dimensional velocity accuracy (2?): better than 1.5 m/s;\nd. Time: seconds/pulse, the pulse width is greater than 1 ms, TTL\n\nlevel.\n\nAsynchronous\n\nFIFO FPGA\n\nBuffer\n\nRF\n\nLock indicator\n\nSupply current\ntelemetry (except PA)\n\nSplitters\n\nFeeder Feeder\n\nTransmitting\nantenna\n\nTransmitting\nantenna\n\nWave\namplification\n\nPower indication\n\nRemote\ntemperature\n\namplifier\nDC-DC\n\nDC-DC voltage indication\n\nDAC LPF\n\nSynchronous data\n\nDate\n\nBPSK\nmodulator\n\nF\nfiltering Ixer\n\nF\nfiltering\n\nF\namplific\n\nF\nfilter\n\nRe-\namplifie\n\nMplifier\nF\n\nfilter\n\nCrystal\noscillato\n\nFIGURE 1.20\nBlock diagram of the transmitter.\n\n1.4 NS-1 Subsystem Design 33\n\n\n\ne. Time accuracy (UTC): 1 ?s (the GPS receiver calculates the\ndifference between the results and the leading edge of the pulse\nUTC seconds);\n\nf. Solver output: standard time (seconds/pulse) for the satellite at 84\nthree-dimensional position coordinates (X, Y, Z) and the velocity\ncomponents (Vx, Vy, Vz).\n\ng. Acquisition time: #3 min (there are circumstances under auxiliary\ndata); #40 min (no auxiliary data, and long after the initial boot off);\n\nh. Data update rate: 1 Hz;\ni. Dynamic characteristics: speed 7.8 km/s, acceleration 2 g;\nj. Antenna: hemispherical coverage;\nk. Power supply voltage: 15 V;\nl. Signal: 12 channels, L-band, C/A code receiver absolute\n\npositioning;\nm. Power: #2.5 W (single).\n\nA block diagram of a GPS subsystem is shown in Fig. 1.21.\n\n1. Signal channel device\nSignal channel devices are designed to complete amplifying filtering,\nfrequency conversion, and A/D conversion function of the signal,\nmainly consisting of a reference source, downconvert combination,\nand a combination of broadband IF and other components. A GPS\nreceiver channel schematic is shown in Fig. 1.22.\n\n2. Channel device\nChannel device comprises a spread spectrum despreading channel\nprocessor, which contains 12 channels. Each channel contains the\nfollowing functional blocks: the NCO carrier, the code NCO, C/A code\ngenerator, and a carrier correlator code correlator.\n\nA GPS receiver channel device schematic is shown in Fig. 1.23.\n\nA GPS channel processor internal functional block diagram is shown in\nFig. 1.24.\n\nFIGURE 1.21\nBlock diagram of GPS subsystem.\n\n34 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n1.4.8 Camera Subsystem\nThe NS-1 satellite has two missions: ground photography and flight demon-\nstration test. The photographic camera payload details for the CMOS NS-1\nsatellite are listed here.\n\n1. Performance indicators:\n? Focal length: 50 mm;\n? Full field of view angle: 11.7 degrres3 11.7 degrees;\n? Relative aperture: 1:4;\n? Imaging spectrum: 400?800 nm;\n? Ground pixel resolution: 110 m (track height related);\n\nFIGURE 1.23\nA GPS receiver channel devices schematic.\n\nFIGURE 1.22\nA GPS receiver signal channel schematic.\n\n1.4 NS-1 Subsystem Design 35\n\n\n\n? Ground cover: 113 km3 113 km (about the height of the track);\n? Power: ,0.7 W;\n? Volume: ,140 mm3 80 mm3 80 mm.\n\n2. Camera structure:\nBecause the nanosatellite has to satisfy the structure\u2019s size limit, CEIS\nvolume requirements must be less than 140 mm3 80 mm3 80 mm.\nThe lens parts are about ?70 mm 3 80 mm, where ? is the diameter\nof the lens. The size of the electronic system is usually less than\n60 mm3 80 mm3 80 mm. Therefore, the circuit board size is not\ngreater than 80 mm3 80 mm. Multiple boards must be stacked\ntogether to accomplish this condition. An initial design was for three\ncircuit boards. The overall structure is shown in Fig. 1.25.\n\n3. The optical module:\nThe camera lens is the key component of the entire camera. The image\nquality, structural mechanics, thermodynamic stability, and material\ncomposition are all related to the final image quality and the ability to\n\nFIGURE 1.24\nGPS channel processor internal functional block diagram.\n\n36 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nself-focus. Therefore, selection of the most suitable lens from the\ncommercial market is of critical importance. The requirements are:\n? Performance parameters and image quality indicators meet the\n\nrequirements;\n? Structure is made of metal;\n? Optical parts are of a glass material, that can withstand temperatures\n\nin normal operation of 2200?C to 1500?C;\n? Can not have a wear-resistant material between the flexible screw;\n? The focusing ring on the lens barrel and screw;\n? Weight less than 250 g.\n\n4. Camera electronic system design:\nThe nan-satellite\u2019s CMOS camera circuit consists of the following\nmodules:\n1. Imaging module: according to the instructions of the\n\nmicrocontroller, under the control of FPGA to complete imaging\nand image data storage capabilities, and outputs the image data in\nthe TTC controller requirements;\n\n2. Microcontroller: completing camera system power switch and\ntemperature control, current detection, and communication with\nthe OBC, complete camera control and data transfer functions. The\nelectronic system block diagram is shown in Fig. 1.26.\n\nLens \n\nCircuit boards\n\nShell \n\nFIGURE 1.25\nOverall structure of camera.\n\nCMOS\n\nFP\n\nSR\n\nLens \n\nCo\n\nCAN \n\nCamera\n\nFIGURE 1.26\nElectronic system block diagram.\n\n1.4 NS-1 Subsystem Design 37\n\n\n\nThe entire camera system includes a lens, CMOS sensor, FPGA, SRAM, and a con-\ntroller. FPGA is responsible for control and data storage output operation of the\nCMOS sensor. The controller is responsible for receiving external control com-\nmands and following the instruction content for the control FPGA operation, and\nis also responsible for external image output. The interface between Controller\nand external communication is CAN bus (Figs. 1.27 and 1.28).\n\nFIGURE 1.27\nFree rollover state: the power output of the solar arrays in one orbital period.\n\nFIGURE 1.28\nA three-axis stabilized state: the power output of the solar arrays in one orbital period.\n\n38 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n1.4.9 Propulsion Subsystem\nThe NS-1 propulsion subsystem task is to provide incremental speed in order\nto maintain or achieve the satellite orbit.\n\nIts performance requirements include:\n\n1. System: liquefaction propulsion system, the system is not less than the\ntotal impulse 200 Ns;\n\n2. The quality of the system (including propellant): 1.36 0.1 kg;\n3. System configuration: a tank, a combination of a main thruster 1\n\nequipment, a number of other members (a filling valve, a pressure\nsensor 2, the temperature sensor 2, a filter system isolation valve 2,\nseveral pipeline);\n\n4. The thruster: 50?100 mN;\n5. System works: pulsed operation, the minimum impulse 0.75 mNs,\n\nswitching frequency is not less than 1E5; continuous operation\n(maximum uptime 5 min), the switching frequency is not less than\n1E4;\n\n6. Power consumption: average power consumption during operation\n2.6 W, peak 6 W;\n\n7. Temperature: 225?C to 155?C;\n8. Security: fully consider the safety factors, compatibility requirements,\n\nhaving two or more disable functions;\n9. Reliability: 0.99.\n\n1.5 EMC DESIGN AND PROPULSION SUBSYSTEM\nSAFETY DESIGN\n\n1.5.1 EMC Design\nSatellite EMC design is aims to ensure that on-board subsystem co-\nordination works, meeting one of the important measures of electrical perfor-\nmance. This is done by grounding, shielding, coordination, and control of\nthe interface isolation power output impedance between subsystems.\nElectromagnetic compatibility testing is an important means of testing the\ndesign effect.\n\n1.5.1.1 EMC Design Requirements\n1. Ground and isolation\n\na. The system mainly uses a secondary power supply. The equipment\nshould distinguish between analogue and digital ground. Both the\nequipment has to be linked to a single point grounding line in the\n\n1.5 EMC Design and Propulsion Subsystem Safety Design 39\n\n\n\ndevice. Then the shortest path to this point is connected to the\nsatellite system ground;\n\nb. Shield cable, usually link to the ground by the tail cover. In special\ncases could be pinned to the shell\u2019s grounding point.\n\n2. Overlapping\nIn the metal structure, we often use overlapping to reduce the\nimpedance ground plane.\n\nThe inter star structure impedance should be less than 2.5 m?.\nHousing and other electrical equipment should have a potential\n\noverlap with the stars and the rest of the structure. Lap resistance\nshould be less than 10 m?, socket housing should also ensure that the\nlap resistance of the structure of the stars is no more than 10 m?, and\noverlap resistance between the solar wings and the structure should be\nno more than 30 ?.\n\nExposure to the components outside the stars should prevent the\nspace plasma from being charged by the insulating appearance. It can\nalso use lap to ensure mechanical components and thermal control\ncladding layer and the contact resistance between the star structure\nmeet requirements.\n\n3. Cable laying\nIn order to meet the requirements of radiation emission and\nsensitivity, shielded, twisted-pair cables and correct cables should be\nused. The cable bundles should be classified as much as possible;\nthese lines should be sorted and bound, separated and segregated\nif necessary; The internal trace should also separate the signal line\nfrom the power cord.\n\n4. Shielded\nInterconnect electronic devices should be shielded to reduce the effects\nof electromagnetic interference, using a different cable shielding\nmethod.\n\n5. Signal interface design requirements\nFor receiving and transmitting models of the interface circuit interface\ncircuit model, use different immunity circuitry to ensure minimal\ninterference.\n\n6. Power input filter requirements\nThe filter design should consider a variety of factors generated by the\nripple voltage and ripple current caused by the interference.\n\n7. Electromagnetic compatibility test\nElectromagnetic compatibility test is related to the test subjects, test\nitems, conducted emissions and sensitivity and radiation. Shooting and\nsensitivity of the extreme size of the provisions of the relevant\nrequirements.\n\n40 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\n1.5.2 Promoting Security Subsystem Design\nThe propulsion subsystem is a high-pressure, toxic system, in order to ensure\nthe safety of person, the satellite, rocket, and satellite launch site security sub-\nsystem must be designed with safety.\n\n1. The structure of key components and materials\ntanks, pressure piping, and components must conform to safety\nrequirements. Direct exposure or due to single point of failure exposed\nto harmful propellant materials, pressure sensors, valves, etc.\nPropellant contact material must be considered for compatibility\ndesign requirements.\n\n2. Power off and insurance\nPowered satellites should not produce false starts to the instruction\nthruster.\nThe thruster should not start in the event of electrical interference or\n\nmalfunction.\nTo prevent system failures before the satellite has reached orbit,\n\nsystems and subsystems must be designed to ensure that there are\nmore than two series of independent insurance (disable functions).\n\n3. Filling\nA propulsion subsystem should extrude propellant gas to avoid it\nfilling between the launch site and to prevent any propellant leak that\nmay arise in the process of filling.\n\n1.6 NS-1\u2019s TECHNICAL CHARACTERISTICS AND\nPARAMETERS OF DISTRIBUTION\n\n1.6.1 The Main Technical Characteristics of Satellites\nNS-1\u2019s overall technical indicators are listed in Table 1.12.\n\n1.6.2 Satellite Characteristic Parameter Assignment\n1.6.2.1 Satellite Mass Distribution and Quality Characteristics\nThe Carolina star mass distribution is shown in Table 1.13.\n\n1.6.2.2 Power System Dynamic Simulation\nThe NS-1 configuration is a hexagonal prism, with simulation of the moment\nof inertia of [0.67 0.68 0.44]. Installation of solar array area:\n\n? Side surface (6): 40 mm3 20 mm3 70 mm;\n? Top surface (1): 40 mm3 20 mm3 35 mm.\n\n1.6 NS-1\u2019s Technical Characteristics and Parameters of Distribution 41\n\n\n\nTable 1.12 Overall Technical Indicators\n\nTrack Types of\nHeight\n\nSun-synchronous orbit\n599 km\n\nEccentricity 0.00017\nCycle 96.66 min\nWhen descending node local 11:00 a.m.\n\nEmission Launch vehicle CZ-2C\nEmission mode Piggyback launches\n\nStructure Body size envelope 400 mm3 440 mm (excluding adapter)\nQuality and power\nconsumption\n\nQuality 256 1 kg (excluding Xingjian adapter)\nLong-term consumption About 10 W (normal mode)\n\nLife and reliability Working life 6 months\nDesign and reliability Greater than 0.65 (end of 6 months, the\n\nminimum system)\nCamera Sensor CMOS\n\nSpectral range 0.4?0.78 ?m\nNumber of pixels 10243 1024\nOptical lens focal length 50 mm\nOptical F number 2.8?4\nGradation image 256\nFOV 11.7 degrees\nStar in the transmission mode CAN bus\n\nGPS receiver Number of channels 12\nRange accuracy (2?) Better than 50 m\nMeasurement precision (2?) Better than 1.5 m/s\nTime accuracy 1 ?s\nCapture time # 3 min (circumstances under auxiliary data)\nData update rate 1 Hz\n\nPower supply Power supply system Solar array\u2014battery-powered joint\nBus voltage 14 V\nSolar array Body equipment, a total of seven\n\nwindsurfing (six sides, one face)\nMonolithic windsurfing size 182.5 mm3 440 mm (side), 182.5 mm (top,\n\nhexagonal)\nSolar cell dimensions 40 mm3 20 mm3 0.175 mm\nType of solar cell sheet Single-junction GaAs\nThe average conversion efficiency of the\nsolar cell sheet\n\n18.5%\n\nNumber of film solar cells 455\nEach output power windsurfing Side.13.4 W, top. 6.7 W (AM0, 25?C)\nBattery type NiCd battery\nThe number of single battery 10\nBattery capacity monomer 3 Ah\nBattery discharge depth 40% (max)\nSecondary power supply 15 V\\112 V\\212 V\n\nContinued\n\n42 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nTable 1.12 Overall Technical Indicators Continued\n\nAttitude control Control method Three-axes stabilized (1stable bias\nmomentum magnetron)\n\nAttitude measurement accuracy (3?) 61 degree\nAttitude control accuracy (3?) 62 degrees\nPosture stability (3?) 0.02 degree/s\nExecutive body Momentum wheel (1) and magnetorquer (4)\nSensor Magnetometer (2)\n\nAdvance The number of propellant tanks 1\nThrust size 50?100 mN\nPropellant type Ammonia\nSystem quality (including propellant) 1.36 0.1 kg\nNumber of thrusters 1\nTotal impulse Not less than 200 Ns\n\nData management TTC subsystem\nInstruction capacity\nAnalogue telemetry channel count 34 Road\nNumber of telemetry channels 46 Road\nAnalogue measurement accuracy 16\nOBC 1%\nCPU SA1110\nClocked 133 MHz\nEPROM 512K\nRAM 6 M (data)1 1.5 M (program) CAN bus,\n\nUART, HDLC\nInternal communication satellite\n\nMIMU Accelerometer bias ,6 7 mg\nAccelerometer bias stability 30 ?g (3 months)\nAccelerometer scale factor 1.256 0.10 mA/g\nAccelerometer scale factor stability 80 ppm (3 months)\nAccelerometer measurement range 6 25 g\nAcceleration resolution ,1025 g\nGyro linearity ,0.05% range\nGyroscope scale factor 50 mV/degree/s\nGyro resolution ,0.004 degree/s\nGyro output noise ,0.02 degree/s/\n\nffiffiffiffiffiffi\n\nHz\np\n\nGyroscope measurement range 6100 degree/s\nControl and\ncommunication\n\nRemote control\nNumber of receivers Dual hot backup\nCarrier frequency 2094.417 MHz\nModulation PCM/CPFSK\nCode rate 9.6 kbps\nBER 13 1026\n\nContinued\n\n1.6 NS-1\u2019s Technical Characteristics and Parameters of Distribution 43\n\n\n\nDynamic input condition analogue power supply and demand situation is as\nfollows:\n\n? Orbital altitude: 600 km;\n? Descending node place local time: 11:00;\n? Side solar array output power (tested data): 14.16 W;\n? Top surface of the solar array output power (tested data): 7.08 W.\n\nAs the satellite separates from the carrier, the stars triaxial angular rate is not\ngreater than 4 degrees/s, with the attitude angle being uncertain. Accordingly\nthe simulation initial value is determined as follows: three-axes angular rate\nis 4 degrees/s or 24 degrees/s; three-axes attitude angle between 2180 and\n180 degrees any value. Calculation results show that when the satellite is in a\n\nTable 1.12 Overall Technical Indicators Continued\n\nReceiver sensitivity demodulation instruction 2108 dBm\nTelemetry PCM/DPSK\nModulation Dual cold backup\nNumber of transmitters 2274.480 MHz\nCarrier frequency Better than 6 13 1025\n\nFrequency stability Convolution coding (2, 1, 7), RS (255, 223)\nError correction coding\nCode rate 19.2 kbps\nTransmit power No less than 320 mW\nAntenna 2 anntenas for send and 2 anntenas for\n\nreceive\nAntenna type $21.5 dB\nGain\nDirectivity Omnidirectional\nPolarization Circular polarization\nImpedance 50 ?\nVSWR Better than 1:1.5\nNetwork (including diplexers, filters, four-port\nnetwork and feeder)\n\nInsertion loss: # 5 dB\nImpedance: 50 ?\nSWR better than 1:1.5\n\nStructure The basic way bearing Wear contact module case\nSolar cell substrate Aluminum honeycomb core aluminum panels\nModule case Aluminum\n\nThermal control Approach The combination of passive and active\nTemperature range (cabin) 225?C to 155?C\nBattery 0?C to 140?C\nExtraterrestrial components 280?C to 180?C\n\n44 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nfree rollover state, for all of the above cases, poor power supply for the initial\nattitude (40 degrees, 240 degrees, 240 degrees), the initial angular rate\n(4 degrees/s, 4 degrees/s, 4 degrees/s).\n\nUnder this light district average power can provide initial conditions for\nwindsurfing at 21.8 W and full track average power of 13.9 W. Light district\naverage power windsurfing in the three axes stabilized to provide for 23.8 W\nand full track average power of 15.2 W (Tables 1.14 and 1.15).\n\nTable 1.13 Satellite Physical Quality Measurement Statistics\n\nComponent\nName\n\nMass\n(g) Number\n\nTotal\nQuantity\n(g) Notes\n\nPayload bay 7052 1 7052 Including: a payload bay module compartment, propulsion\nsystems, MIMU module, battery pack, the momentum\nwheel, camera, RF antenna\n\nBCR module case 1408 1 1408 Including: BCR module boxes, BCR circuit board module\ncompartment floor, Z-axis magnetorquer\n\nPCM/PDM module\ncase\n\n1458 1 1458 Including: PCM/PDM module box structure, PCM/PDM\nboard\n\nRF module\nassembly\n\n4902 1 4902 Including: RF0 modules and module RF1\n\nGPS module case 724 1 724 704\nOBC module case 878 1 878 Including: OBC module box structure, OBC board\nTTC module case 1052 1 1052 Including: TTC module box structure, TTC board\nADCS module case 1016 1 1016 Including: ADCS module box structure, ADCS board\nModule cover plate\nassembly\n\n968 1 968 Comprising: propulsion system wiring boxes, modules\ncover plate, windsurfing fixed side pod\n\nTop windsurfing\nassembly\n\n994 1 994 Comprising: a top windsurfing, magnetometer, GPS\nantenna, RF antenna\n\nSide windsurfing\n(with magnetorquer)\n\n610 3 1830\n\nSide windsurfing\n(without\nmagnetorquer)\n\n418 3 1254\n\nCable network 930 1 set 930 Comprising: a bus cable networks and promote the cable\nOther structural\nconnector\n\nSeveral 438 Comprising: a screw coupling sleeve, pin\n\nTotal quality satellite\nmissions\n\n24,904\n\nStar Arrow adapter 4266 1 4266\nTotal quality satellite\ncarrier\n\n29,170\n\n1.6 NS-1\u2019s Technical Characteristics and Parameters of Distribution 45\n\n\n\nTable 1.14 Satellite Power Distribution (Unit: W)\n\nSubsystems or\nInstrument\n\nLong-Term\nConsumption Short-Term Power\n\nAssign a Value (W) Power (W) Working Time (min)\n\nPower supply , 2.5\nTTC\nRX (dual hot backup) 4\n\n2.6 After separation and each over the top\nOBC ,1.5\nAttitude control ,2.9\nCamera 0.41\n\n(photographic)\n, 10 min/time\n\n0.65\n(transmission)\n\nMIMU ,2.4 ,2 min/time\nAdvance 2.65 ,5 min/time\nGPS receiver 2.5 ,5 min/time\n\nTable 1.15 Satellite Energy Margin (Unit: W)\n\nWorking\nCondition\n\nPower Requirements\nEquivalent Time\n\nWindsurfing Output\nRequirements\n\nEnergy\nMargin Explanation\n\nSmallest system ,9.1 10.71 3.19 Orbit mode\nTransmitter\nnormally open\n\n,10.9 12.82 2.38 Platform testing and attitude\nacquisition mode\n\nTable 1.16 Nanosatellite Reliability Allocation\n\nSubsystems or Instrument Flight Reliability\n\nStructure 0.995\nThermal control 0.995\nPower supply 0.97\nMonitoring and control communication 0.97\nAttitude control 0.95\nAdvance 0.99\nNumber of tubes 0.97\nCamera 0.98\nGPS receiver 0.98\nMIMU 0.99\nThe entire star .0.65 (smallest system)\n\n46 CHAPTER 1: Micro/Nano Satell i te System Technology\n\n\n\nTransfer project\ntasks assigned\n\nOverall\nconception\n\nInitial\ndesign\n\nPreliminary\nengineering\n\ndesign review\n\nC1 stage\n\nC2 stage\n\nEMS TEST\n\nGround station\nrevamping\n\nManufacturing stage\n---D stage\n\nSatellite review\n\nFlight readiness review (FRR)\n\nTechnical\ncooprehensive test\n\nFlight control task\npreparation\n\nStar-ground combat\ncharacter docking\n\nMechanical\nenvironmental\n\nresting\n\nHeat balance and thermal\nvacuum test\n\nOverall interface final\ndefination\n\nSubsystem final design\nreview\n\nDocking with launch vehicle\nfairing\n\nSatellite\nlaunch\n\nSatellites in orbit\ntest\n\nSatellite running\n\nSatellite flight test phase---E stage\n\nEmitting\nregion test\n\nStar magnetic test\nflight\n\nSystem level\ncritical design\nreview (CDR)\n\nImproved design and\nmanufacture of flying stars\n\nFlying star portion of\nloading, assembly\n\nComprehen\nsive test\n\nStar to\nprogramma\n\ntic\ndocking\n\nGruound stations to\nimprove the design and\n\nmanufacturing test \n\nEGSE improved\ndesign and\n\nmanufacturing \n\nElectrical\nproperties star\ndesign process\n\nand \n\nMold and die\ndesign and\ncrocessing \n\nMGSE design\nmanufacturing\n\nand test\n\nStar arrow mold\nand coupling\nmeans test\n\nAntenna pattern\nand gain\n\nmeasurement\n\nEGSERevamping\n\nFIGURE 1.29\nNS-1\u2019s development of technological processes.\n\n1.6 NS-1\u2019s Technical Characteristics and Parameters of Distribution 47\n\n\n\n1.6.2.3 Propellant Distribution\nNano-satellite propulsion system is a kind of test load, mainly for the use of\nsmall satellites network technology tests, and can be used in the satellite\norbit correction, track maintenance, and other tasks; the propellant is 0.3 kg.\n\n1.6.2.4 Satellite Reliability Allocation\nA nanosatellite\u2019s lifetime and reliability are influenced by the level of tech-\nnology, development, and progress of funding constraints. Therefore it is nec-\nessary to determine both a certain nature, and reliability through all possible\nefforts. Nano satellite is a small satellite platform with very high density tech-\nnology, which must use reliable design. The design principles are as follows:\n\n1. Strengthen the integrated design of electronic circuits and enhance the\nintegration of electronic systems;\n\n2. Use filtered highly integrated highly reliability electronic components,\nto reduce their number;\n\n3. Make full use of ground and flight-proven design with strict\nenvironmental assessment;\n\n4. Redundant design of electronic circuits.\n\nThe subsystem reliability index distribution is shown in Table 1.16.\n\n1.7 NS-1 SATELLITE TECHNOLOGY DEVELOPMENT\nPROCESS\n\nNS-1\u2019s development of technological processes is shown in Fig. 1.29.\n\nReferences\n[1] W. Xiji, L. Dayao, Satellite Design, Shanghai Scientific & Technical Publishers, Shanghai,\n\nDecember 1997.\n\n[2] J.R. Wertz, W.J. Larson, Space Mission Analysis and Design, third ed, Kluwer Academic\nPublishers, Dordrecht, The Netherlands, 1999.\n\n[3] Y. Houman, F. Hanlin, Achievements and prospect of spacecraft system design technology,\nSpacecr. Eng. 17 (4) (2008) 1?24.\n\n[4] P. Chengrong, Spacecraft System Design, Science and Technology of China Press, Beijing,\nNovember 2010.\n\n[5] Y. Zheng, L. Tao, Application of CMOS image sensor in space technology, Opt. Tech. 28 (1)\n(January 2002) 42?60.\n\n[6] M.N. Sweeting, C. Fang-Yun, Network of low cost small satellites for monitoring and mitiga-\ntion of natural disasters, in: 47th International Astronautical Congress, paper number\nIAF-96-C.1.09, Beijing, China, October 7?11, 1996.\n\n[7] G. Yuksel, C. Ozkaptan, U. Orlu, A. Bradford, L.M. Gomes, M.N. Sweeting, BILSAT-1: a low-\ncost, agile, Earth observation microsatellite for Turkey, IAF-01, IAA, 11.4.01, in: 53rd\nInternational Astronautical Congress, Houston, TX, USA, October 2002.\n\n48 CHAPTER 1: Micro/Nano Satell i te System Technology\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref5\n\n\n[8] M.N. Sweeting, Micro satellite and mini satellite programmes at the University of Surrey for\nEffective Technology Transfer and Training in satellite engineering, in: Proceedings of the\nInternational Symposium on Satellite Communications and Remote Sensing, Xi\u2019an, China,\nSeptember 20?22, 1995.\n\n[9] C. Underwood, G. Richardson, J. Savignol, SNAP-1: a low cost modular COTS-based nano-\nsatellite\u2014design, construction, launch and early operations phase, in: 15th Annual Small\nSatellite Conference, Logan, UT, USA, August 2001.\n\n[10] J. Xun, X. Jianping, Y. Zheng, Error correcting system of satellite data memory with variable\nmode realized by FPGA, Appl. Electron. Tech. 28 (8) (2002).\n\n[11] D. Yanwei, F. Junming, Y. Zheng, Design and simulation for thermal control system of\nnanosatellite, J. Syst. Simul. 18 (1) (January 2006) 89?97.\n\n[12] X. Jianping, Y. Zheng, L. Jian-Hua, J. Ward, W. Sun, CAN network application as a backbone\nbus in micro-satellite, Spacecr. Eng. 9 (1) (2000) 107?112.\n\n[13] Y. Zheng, Y. Shijie, L. Yang, Remote sensing system for nanosatellite with CMOS imaging\nsensor, J. Tsinghua Univ. 44 (8) (2004) 1047?1050.\n\nReferences 49\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00001-1/sbref9\n\n\nCHAPTER 2\n\nMultidisciplinary Design Optimization\nof a Micro/Nano Satellite System\n\n2.1 OVERVIEW\n\nCurrently, satellite technology has shown a main trend towards being less\nheavy and much smaller, accompanied with the development of advanced\ntechniques and ideas, causing the naissance of the micro/nano satellite. With\nthe help of integration techniques and flexible design methods, the\nmicro/nano satellite is becoming much more intensively integrated and\nmultidisciplinarily coupled. As a consequence, its design has inevitably\nbecome a procedure of iteration, as with the traditional satellite.\n\nHow to fully assemble all subsystems to obtain an integrated optimum satel-\nlite, reduce researching cost effectively, and enhance the holistic performance,\nhas been a major consideration for satellite developers and end users. For\nmedium-sized and large satellites, in most cases, the subsystems are separated,\nand the satellite is separated from the whole system, which means having to\nconstruct with an over-reliance on expert experience. However, when it comes\nto micro/nano satellites, their fast upgrading and low-cost requirements have\nmade the development significantly different from traditional ones.\n\nTo achieve a faster, cheaper and lower-cost process of micro/nano satellite\ndesign, researchers should not only explore novel technologies, but also\nimprove the existing traditional way to build satellites, by studying and\nadopting a new designing method.\n\nIn general, the desired functions and environmental adaptability are two\nbasic considerations for micro/nano satellite design. A specific function can\nbe achieved by several solutions, and an effective solution may conflict with\nthe environmental requirements. Therefore, the design and optimization of a\nsatellite have to be adjusted to adapt to the particular working and natural\nenvironment, which brings many constraints for spacecraft design.\n\nThe design and optimization of micro/nano satellites is a process starting with\napplication requirements and physical restrictions, optimizing and selecting\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00002-3\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n51\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00002-3\n\n\nsolutions with systematic engineering methods, studying characteristics of each\nconstituting element and subsystem, determining interfaces and interrelation-\nships between subsystems, and adjusting the technical parameters and opera-\ntion indicators of the entire system. These can be concluded as a method of\nsystematic construct and optimization, with various specifications [1], which is\nknown as Multidisciplinary design optimization (MDO) today.\n\nThe MDO method of micro/nano satellites studied and discussed in this\nchapter aims at building a man?machine cooperative computing system to\nassist effectively spacecraft design and shorten the design period significantly.\nThe related thesis and method in this chapter can be further developed and\nadopted for other satellite systems.\n\n2.1.1 Introduction of Complex Systems Modeling\nA scientific methodology of complex system analyzing and design is crucial\nfor satellite design, analysis, optimization, construction, integration, and\noperation. As the problems appearing in satellite R&D are becoming more\ncomplicated and much larger in scope, a series of new methodologies has\nbeen developed, such as the IDEF series methods, architectural framework\ntechnology, and object-oriented development method (OODM) [2], etc.\n\n2.1.1.1 IDEF Series Modeling Methods\nIDEF modeling methods [3], which were proposed by the US Air Force in\nthe late 1970s, are series methods for system analysis and design, and have\nbeen widely used in manufacturing and aerospace systems. The widely used\nIDEF0?IDEF4 are described in Table 2.1.\nOf all these methods, the IDEF0 method describes the functional activities and\ninterrelationships between different complex systems. Its principal ideas came\nfrom structured-analysis theory, systematology, and information theory.\n\nThe IDEF0 method describes the relationship between the system and its parts.\nThe IDEF0 chart is the model built with IDEF0. In an IDEF0 chart, system\n\nTable 2.1 IDEF Modeling Methods\n\nName Main Functions\n\nIDEF0 System structure and function modeling\nIDEF1 Information modeling\nIDEF2 Simulation model design\nIDEF3 System workflow and process description capture\nIDEF4 Object-oriented design\n\n52 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\nstructures and all complicated interrelationships between each subsystem are\ntop-down decomposed and aredescribed clearly with standard figures.\n\n2.1.1.2 Architectural Framework Technology (AFT)\n\u201cArchitecture,\u201d which refers to the satellite constitution structures and their\ninterrelationship, is a basic principle for system design and development.\n\u201cArchitecture framework\u201d is the guidance to regulate architecture design.\n\nThe United States summarized its successful experience on complex system\ndevelopment, which is represented by C4ISR, and published the C4ISR\nArchitecture Framework [4] in 1996. Later, in 2003, the US presented the DoD\nArchitecture Framework and Software Architecture Workshop Report [5]? in which\nit proposed the epoch-making theory of systematic engineering. So far, the\nAFT has become an important weapon design method for the American mili-\ntary and was soon implemented and followed by many countries.\n\nAt present, the United States and some other countries have built up an\nentire set of practical system engineering techniques. Many supporting soft-\nware programs and complementary tools such as DOORS, System Architect,\nTAU, G2, and DOCExpress etc., have been developed.\n\n2.1.2 Domestic Studies on Satellite System Design\nand Optimization\nSpace technology has had a history of more than 50 years in China. A series\nof practice-proven system design methods, standards, and regulations, such as\nsatellite system design specification, general designing standard for communi-\ncation satellite, design guidelines for satellite orbit, spacecraft system design\nevaluation data packet guideline, and satellite reliability design guideline, etc.\nhave been developed. In domestic satellite systems, the basic system engineer-\ning process of each research stage includes: project analysis, function analysis\nand distribution, comprehensive design, system verification, and relative man-\nagement activities. The comprehensive design is to design and optimize at the\nsystem level, which means working out a systematic physical structure accord-\ning to the output of the procedure function analysis and allocation. In China,\nthe system is verified by analysis (modeling and stimulation), demonstrative\nexperimentation, and testing (on the ground and on board).\n\nDomestically, there are seven stages in the development of a new spacecraft\nmodel, including: project demonstration, feasibility demonstration, project\ndesign, prototype development, spacecraft development, application experi-\nment, and product improvement.\n\nHere we take nano satellite NS-1 of Tsinghua University as an example to\nintroduce the typical design process of micro/nano satellites.\n\n2.1 Overview 53\n\n\n\nNS-1 nano satellite was launched on April 18, 2004. Its research flow is\nshown in Fig. 2.1. Firstly, a top-level design program is settled according to\nthe research requirements, then the nano satellite platform, effective load,\nreliability, and launching trajectory scheme are designed in parallel. Herein,\nsatellite platform and effective load are determined by each subsystem and\nelement, restrained by the reliability requirements. Finally, a proper trajectory\nand launch tool are chosen for system test and satellite launching.\n\nAs shown in Fig. 2.2, a micro/nano satellite system contains many subsys-\ntems and involves complex multidisciplinary calculations. To optimize our\n\nRequirement\ndetermined\n\nSystem\ndesign \n\nSubsystem\ndesign \n\nSubsystem\nmanufacture\n\nSubsystem\ntest \n\nPrototype\nintegration\n\nEnvironment\nstimulation\nexperiment \n\nSatellite\nimprovement\n\ndesign\n\nSatellite\nmanufacture \n\nSatellite\ntest \n\nSatellite\nintegration\n\nEnvironment\nstimulation\nexperiment\n\nLaunch\ntest\n\nIn-orbit\noperation\n\nSystem\ninterface\ndesign\n\nEnvironment\nadaptability\n\ndisign\n\nStimulating\nassembly\n\nSystematic\ndocking \n\nEnvironment\nadaptability\n\nimprovement\n\nFIGURE 2.1\nMicro/nano satellite research flow.\n\nPneumatical\n\nLayout\n\nPropulsion\n\nTrajectory\n\nThermal\ncontrol\n\nMass\ncharacteristic\n\nReliability\n\nEcnomical\n\nFIGURE 2.2\nSystem architecture matrix of a nano satellite.\n\n54 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\ndesign, the coupling relationship between each subsystem and every disci-\npline must be seriously considered. The coupling relationship above can be\ndemonstrated in the system architecture matrix.\n\nAccordingly, micro/nano satellite overall design and optimization is a multi-\ndisciplinary design process, which requires researchers to figure out the\ninterrelationship between the satellite system and each subsystem multidisci-\nplinary parameter, and to optimize the overall system under restrictions of\nguidelines on satellite performance and function. In recent years, the MDO\nhas been developing rapidly, featuring its great advantage in multitarget opti-\nmization of an intricately coupled system, and is particularly fitting for\nmicro/nano satellite overall design.\n\n2.2 MICRO/NANO SATELLITE MDO\n\n2.2.1 Overview\nMicro/nano satellite MDO is a new study area which was gradually formed in\nthe late 1980s. Since the first AIAA/ISSMO Multidisciplinary Analysis and\nOptimization Conference [6] in 1986, which is now held twice a year, the world\nhas witnessed an upsurge in MDO research, where many universities, research\ninstitutions, and companies are involved. So far, rich productions have been\nobtained and theoretical study is being transformed into engineering applica-\ntion. A number of institutions, such as AIAA, NASA, USAF, and ISSMO, etc.,\nhave successfully held many international conferences on MDO research, such\nas the biennial World Congress of Structural and Multidisciplinary Optimization.\n\nIn 1991, the AIAA MDO Technical Committee (MDO TC) published the\nAIAA White Paper, where they introduced MDO in detail, and pointed out\nthe orientation for future MDO studies. In the white paper, MDO is defined\nas a methodology for the optimal design of complex engineering systems\nand subsystems that coherently exploits the synergism of mutually interact-\ning phenomena using high-fidelity analysis with formal optimization. The\nmain ideology of MDO is: ?Design 5\n\nP\ni ?Discipline;i\n\n? ?\n1?MDO, i.e., the whole is\n\ngreater than the sum of the parts [7].\n\nIn general, MDO in micro/nano satellite design can be described mathemati-\ncally as:\n\nmax=min F\u00f0X\u00de\ns:t: ai # gi\u00f0X\u00de# bi\nwhere F\u00f0X\u00de is objective function, gi\u00f0X\u00de is constraint condition, and X is design\nvariable.\n\nThe MDO conceptual components were first brought up in 1995 by Sobieski\n[8], a Polish-American scientist. Later, in 2001, the MDO TC revised the\n\n2.2 Micro/Nano Satellite MDO 55\n\n\n\ndescription by adding a new category of \u201cmanagement and culture practice\u201d\ninto MDO conceptual components and highly summarized each aspect of\nMDO research and its industrial applications [9]. As can be seen in Table 2.2,\nChen from the National University of Defense Technology summed up the\nspecific content and requirements of each conceptual component [10].\n\nFig. 2.3 demonstrates an evolutionary process of satellite design, which is\ndepicted as phases from conceptual to preliminary to detail design and then\nmanufacturing and production [11]. As this process evolves, design freedom\n\nTable 2.2 MDO Conceptual Components\n\nInformation\nManagement and\nProcessing\n\nAnalysis Ability and\nApproximation\n\nDesign Formulation\nand Solution\n\nManagement and Culture\nPractice\n\nMDO framework and\nsystematic structure\n\nCalculation requirements\n\nVisualization of designing\nspace\n\nAnalysis and sensitivity\n\nParameterized geometric\nmodel\n\nApproximation and\nmodification\n\nBroadness and deepness\nrequirements\n\nHigh fidelity and analysis and\nexperiment integration\n\nObjectives\n\nProblem\ndecomposition and\norganization\n\nOptimization and\nassumption\n\nOrganization structure\n\nMDO practice\n\nAcceptation, confirmation,\ncost and benefit training\n\nFIGURE 2.3\nMDO in micro/nano satellite design.\n\n56 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\ndecays rapidly, while knowledge about the object of design increases. The dashed\nline projection from the \u201cKnowledge about design\u201d curve reflects the require-\nment that more knowledge will have to be brought forward to the conceptual\nand preliminary design phases. The dashed line projection from the \u201cDesign free-\ndom\u201d curve reflects the need to retain experimentation, and human reasoning.\n\n2.2.2 MDO Development\nMDO technology for micro/nano satellites optimizes a complex spacecraft sys-\ntematically by exploiting and taking advantage of the synergetic mechanisms\nbetween each subsystem (or disciplinary). The core idea of the technology can\nbe expressed as: a complex system design process which organizes and man-\nages the design process with proper optimization strategy, decomposing the\ncomplex system into several modern engineering organization-consistent sub-\nsystems, taking advantage of existent industrial multidisciplinary analyzing\ntools to unite the abundant knowledge and experience of subsystems by a dis-\ntributed computer network, to shorten the design period, lower development\ncosts, and improve product quality and competiveness [12].\n\nIn general, MDO research can be summarized into three aspects: integration\nof design-oriented multidisciplinary analyzing software, concurrent multidis-\nciplinary design for system optimization, and supporting environment of dis-\ntributed MDO computing.\n\nAs an important research area, study of the MDO developing environment\nhas made great progress while a series of MDO-based program developing\nsystems are already in operation, some of which had been commercialized.\nSome overseas software enterprises have provided a number of world-\nfamous MDO integration tools such as iSIGHT, Modelcenter, Optimus,\nBossQuaur, and so on. Some well-known MDO softwares and their develo-\npers are listed in Table 2.3.\n\nTable 2.3 Some Computing Software for MDO\n\nGeneral Computing Tools Embedded Optimization Tools Process Integration Tools\n\nExcel (Microsoft)\n\nMATLAB (Mathworks)\n\nMathematica (Wolfram)\n\nSolidWorks-Cosmos\n\nGENESIS (VRD)\n\nModelCenter, CenterLink (Phoenix Int.)\n\niSIGHT, FIPER (Engineous)\n\nmodel FRONTIER (Esteco)\n\nOptimus\n\nBossQuaur\n\n2.2 Micro/Nano Satellite MDO 57\n\n\n\n2.2.3 Domestic MDO Research and Applications\nCompared with overseas, MDO research in China began late. However, in\nrecent years, the country has seen a flourishing development of the aerospace\nand shipbuilding industries, making MDO a new favorite of the Chinese gov-\nernment and companies. So far, Tsinghua University, National University of\nDefense Technology, and many other institutions have done much funda-\nmental research into MDO.\n\nAt present, the study and application of DMO in China are mainly in com-\nplex systems such as aircraft and missiles. In terms of satellite system design-\ning, especially with micro/nano satellite systems, MDO is worth significant\nstudy. In the government\u2019s 11th Five-Year Spacecraft planning, optimization\ntechnology of satellite systems was listed as one of the key technologies. The\napplication of MDO in satellite system design can be concluded into the fol-\nlowing three aspects:\n\n1. Modeling of satellite system parameters;\n2. Digital stimulation platform of satellite;\n3. Specific mission target-based optimization algorithm.\n\n2.2.4 Characteristics of MDO for Micro/Nano Satellite\nThe MDO process of micro/nano satellites has its own characteristics:\n\n1. Different from regular satellites, micro/nano satellites usually have\nsimilar payloads. Therefore, optimization of micro/nano satellite\nsystems requires taking account of the entire effective payload system\ninto the computing process, rather than considering only the satellite\nplatform.\n\n2. Micro/nano satellites usually perform as a stellar or a formation, thus\nthey should be designed at a system level, which will unavoidably\nincrease the analyzing complexity.\n\n3. Micro/nano satellites are relatively very light and are usually launched\ntogether with other spacecraft, making the cost on launching\nnegligible.\n\n4. Micro/nano satellites have a short design period and fast updating rate,\nwhich requires mature optimization and a design platform to\naccelerate production.\n\n2.3 MDO ALGORITHM FOR MICRO/NANO SATELLITES\n\nThe optimization algorithm is basically a searching process/rule following\nsome theory or mechanism to find solutions to customer requirements.\n\n58 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\nMultidisciplinary design optimization (MDO) aims at building a reasonable\noptimization system by modeling some particular problems, and working\nout a proper optimization strategy for minimal calculation and communica-\ntion burden, thus structurally reducing the calculation complexity and man-\nagement complexity of MDO. The main subject of MDO is the description of\nthe problem, which includes decomposition and coordination of the prob-\nlem, transmission method of designing information, etc. When the MDO\nmethod is settled, it can be combined with an optimizer and algorithm of\nthe method to solve the MDO problem. In conclusion, the MDO algorithm\nis the core of MDO, and the most important and active subject in the MDO\narea. This section explains the collaborative optimization method and its\nimprovement.\n\n2.3.1 Overview\nCollaborative optimization (CO) is an MDO method originally suggested by\nProfessor Kroo and others from Stanford University in the mid-1990s\n[13?15]. To some extent, the appearance of CO can be attributed to con-\nstraints of the consistency optimization, which had been taken advantage of\nin CO. However, there are distinct differences between CO and consistency-\nconstrained optimization: the former is a multistage process, where each sub-\nsystem will both be analyzed and optimized, while the latter is a single-stage\nprocess without subsystem optimization.\n\n2.3.1.1 Basic Theory of CO Methodology\nWhen considering subsystem design optimization, the effect of other subsys-\ntems can be temporarily ignored. That is, the purpose of subsystem MDO is\nto minimize the difference between its real optimization solution and sys-\ntematically settled target solution. Then, the inconsistencies between each\nsubsystem or discipline are collaborated by systematically optimization, in\nwhich systematically and disciplinary optimization are iterated multiple\ntimes to finally reach a proper solution which meets the subsystem consis-\ntency requirements.\n\n2.3.1.2 Basic Framework of CO Methodology\nAccording to its fundamental theory, the basic framework of CO is demon-\nstrated in Fig. 2.4.\n\nAs can be seen from the diagram, the original MDO problem is decomposed\ninto N multidisciplinary units, each of which becomes an independent sub-\nproblem. Each subproblem consists of two parts: a subsystem optimizer and\nan analysis submodule. Accordingly, the design parameters of the task are\ngrouped into N subsets: \u00bdX1;X2; . . .;XN ?. To be more specific, each of these\nsubsets consists of two kinds of parameters: single disciplinary design\n\n2.3 MDO Algorithm for Micro/Nano Satellites 59\n\n\n\nparameters xi and multidisciplinary design parameters xi. Likewise, the origi-\nnal constraint sets c are also grouped into N nonintersecting subsets, named\nlocal constraints of MDO subproblems. Meanwhile, the analysis output of\nsubmodules provides multidisciplinary effected coupling parameters yi. To\ndesignate target values passed to the subspace optimizer, the CO methodol-\nogy adds a system-level optimizer; this optimizer specifies the target values\nof the design parameters and passes them to each of the subproblems. The\nsystem-level optimizer\u2019s objective is to adjust the parameter values so that\nthe objective function is minimized while the system-level constraints are\nsatisfied.\n\n2.3.1.3 Solution of CO Methodology\nTo solve a CO problem, assume that the system-level optimizer chooses an\ninitial set of design parameters z. These parameters are grouped and passed\non to subsystems as fixed input zi. Then their corresponding analysis module\naccepts the optimizers\u2019 output xi and xi as input to generate parameter yi,\nlocal constraints ci, and the difference between local variable values and the\n\nFIGURE 2.4\nBasic framework of CO methodology.\n\n60 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\ntarget values is passed to the subsystem optimizer gi. The objective of disci-\nplinary optimization is to minimize gi\u00f0xi\u00de while the local constraints\nci\u00f0xi; xi \u00de$ 0 are satisfied. After that, the solution of disciplinary optimization\ngi? will be submitted to the system-level optimizer, which will reevaluate the\noptimization strategy and update the system design parameter z. Then a new\niteration starts with new design parameters passed to each subsystem opti-\nmizer. The process stops when a system-level solution which satisfies all con-\nsistency restraints is obtained.\n\n2.3.2 Disadvantages of CO Methodology\nEven though the CO methodology is especially suitable for satellite MDO\nproblems, several of its shortcomings have been perceived through compari-\nson of large numbers of numerical examples and analysis of mathematical\nprinciples of the CO algorithm. Some of these are:\n\n1. The CO algorithm optimizes each subsystem toward an objective value\nindependent from the system value to reduce systematical analysis,\ntherefore, the optimization objective value will probably oscillate\nsignificantly as the system value approaches an optimal number,\nresulting in an increase in the iteration number.\n\n2. The CO algorithm uses systematic equality constraints to ensure\nconsistency between subjects, and optimizes the problem with lower-\nlevel optimization to minimize disciplinary inconsistency. However,\nsince highly nonlinear consistent equality constraints are introduced\ninto systematical optimization, the Lagrange multiplier may not exist,\nor the Jacobi matrix of consistency constraints may be discontinuous at\nthe optimized solution, which means the systematic optimization fails\nto meet the requirements of the Kuhn?Tucker condition. As a result,\nthe CO algorithm often fails to provide a global optimal solution, or\neven diverges sometimes.\n\n3. The CO algorithm provides a practical optimal solution only when all\nthe equality constraints are satisfied, rather than output a better\nsolution after each iteration.\n\n4. The CO algorithm solves optimization problems with continuous\nparameters only, however, there are large numbers of discrete\nparameters (decision variables) in spacecraft designs, which cannot be\nsolved by the CO algorithm.\n\n2.3.3 Improvement of CO Methodology\nAccording to Section 2.3.2, an improvement process of the CO methodology\nis inevitably required before it is applied in satellite MDO problems.\n\n2.3 MDO Algorithm for Micro/Nano Satellites 61\n\n\n\nAt present, there are two main approaches: reformulate optimization and\napply a modern optimization algorithm into the optimizers.\n\n2.3.3.1 Reformulate Optimization\nAs mentioned above, the system-level nonlinear consistency constraints of the\nCO process often result in local optimization or convergence failure, mean-\nwhile, as an inherent shortage of the special formulae of CO, the relative opti-\nmizing independence between subsystems and the whole system will lead to\nexcessive analysis. Therefore, the CO method has to be reformulated.\n\nReformulate the original system-level CO problem:\n\nmin F\u00f0z\u00de\ns:t: J?i \u00f0z\u00de5\n\nP \u00f0x?j 2zj\u00de2 1\nP \u00f0y?j 2zj\u00de2 5 0\n\nwhere F\u00f0z\u00de is the system target function, and J?i \u00f0z\u00de is the subsystem optimiza-\ntion objective.\n\nApparently, the most effective way to eliminate the effect of system nonlinear\nconsistency constraints and relate the optimization target of the subsystem to\nthat of the entire system is to include J?i \u00f0z\u00de in the expression. A penalty func-\ntion is added and the MDO problem reformulated as follows:\n\nmin F0\u00f0z\u00de5 F\u00f0z\u00de1\nX\n\n?iJ?i \u00f0z\u00de\n\nThe new expression is a constraints free nonlinear optimization formula,\nwhich is much easier to solve.\n\n2.3.3.2 Application of a Modern Optimization Algorithm\nGenerally, standard CO methodology uses traditional numerical optimiza-\ntion method, such as sequential quadratic programming (SQP). However,\nthese algorithms have stringent constraints on problem structure, therefore\nthey unable to offer solutions for a discrete problem, and so the advanced\nmodern optimization algorithm was introduced in Ref. [16].\n\nThe genetic algorithm (GA) [17?22] is a general optimization algorithm\nwhich is in high parallel, random and self-adapted. It adopts biogenetic\npoints of view, and mimics mechanisms of natural selection, heredity, and\nvariation to increase individual fitness. This process embodies Darwin evolu-\ntionism: \u201csurvival of the fittest.\u201d\n\nThe GA describes problems as the most fit survival process of the \u201cchromo-\nsome.\u201d At first, it is necessary to select an initial population that may contain\nthe potential solution, which is composed of a certain amount of genetic\ncoded individuals. Each individual is a unit with the \u201cchromosome.\u201d The\npopulation will be generated by operations including copying, crossing, and\nvariation, making better genes for individuals, until the fittest unit is deter-\nmined and brought up.\n\n62 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\n2.4 RESEARCH OF THE MICRO/NANO SATELLITE MDO\nFRAMEWORK\n\nThe design of a satellite is usually divided and carried out by several geo-\ngraphically separated teams of different disciplines, using their own analyses\nand design software to perform the optimization. To achieve the coordina-\ntion of various disciplines and maintain the autonomy of each team at the\nsame time, which will utilize the full experience of experts in various disci-\nplines, MDO must organize the design optimization effectively by full use of\na modern computer network, achieving optimum solutions with concurrent\ncomputation. Therefore, it is necessary to study a better framework of MDO,\nand to develop the distributed MDO platform.\n\n2.4.1 The Ideal Development Environment of MDO\nSome characteristics of satellite design, including difficulty to find the solu-\ntion, complexity of computation and distribution organization, put forward\na significant request to the MDO development environment, including the\nframework, structure of problems, selection of optimization methods, execu-\ntion of the framework, design information acquirement, as Table 2.4 shows.\n\nTable 2.4 Features of Ideal MDO Development Environment\n\nFeatures Requirement\n\nRequirement of developing environment Good GUI\nObject-oriented technology\nExtendibility of structure\nLarge-scale data handling\nDistributed collaborative design\nStandardization of architectural elements\n\nSetting up principles Avoiding the bottom driver programming\nEasy to reconfigure\nCode reusable\nAvoiding fully integrated unchangeable\nDebugging tools\n\nSelection of optimization methods Adapt to the mathematical model\nSupport multiple optimization methods\nTolerate expensive cost of function estimates\nRobustness\nThe ability to characterize the design space\nProvide sensitive data\n\nExecution of the framework Batch process and optimize automatically\nParallel optimization\nHeterogeneous distributed network\nHigh-performance computing\nInteractive process monitor and control\n\nDesign data acquirement Database management\nVisualization of result\nExecution status monitoring\nFault-tolerant mechanism\n\n2.4 Research of the Micro/Nano Satellite MDO Framework 63\n\n\n\n2.4.2 The Framework of MDO\nThere are three main kinds of MDO framework to select. The general MDO\nframework includes FIDO, iSIGHT, LMS, Optimus, etc. Frameworks with spe-\ncific techniques include Fiper, CSD, Caffe, etc. Frameworks for specific opti-\nmization problems include AMESim, CJOopt, etc.\n\n1. iSIGHT\niSIGHT is an important MDO tool that can automate the process\nand optimize for several objects. It provides a visual and smart\nprocess for the user to set up the optimization platform. At the same\ntime, it also provides a software interface for most mainstream CAE\nanalysis tools. On the platform, users can easily and quickly drag and\ndrop elements to create the complex process flow, to set and modify\nthe design parameters and the solution objective, and to\nautomatically carry out the analysis for multiple cycles. iSIGHT also\nprovides software packages to carry out experiment design,\noptimization method selection, approximation model selection,\nand six-sigma design, which can help users understand the product\nsystem and make up the interface of design variables and\noptimization objectives.\n\n2. Fiper\nFiper is an enterprise tool which was extended from iSIGHT, providing\nmultidisciplinary simulation and optimization system for commercial\nuse. Its framework and functions are shown in Fig. 2.5. By the web\nform, users can modify the simulation parameters, execute the analysis\nprocess, and manage and analyze the entire workflow, component\nlibrary and running environment, etc. Fiper also allows staff to share\ntheir workflow and establish a complex workflow collaboratively.\nDifferent groups also can work together by information exchange at\nthe enterprise level. Fiper has advanced features to integrate product\nlife-cycle management (PLM) systems and simulation life-cycle\nmanagement (SLM) systems, to acquire CAD models from PLM and\nSLM, manage the simulation data, and balance and evaluate the results\nfrom different schemes.\n\n3. AMESim\nAMESim was released in 1995 by IMAGINE, to provide professional\nsolutions for hydraulic/mechanical systems modeling, simulation,\nand dynamic analysis. Based on the expertise of IMAGINE, AMESim\nhas good performance in engineering design. Especially for\nhydrodynamic (fluid and gas), mechanical, fluid thermal, and\ncontrol systems, AMESim provides a superior simulation\nenvironment and flexible total solution, allowing users to set up an\nengineering design platform to finish multidisciplinary modeling\nand developed analysis.\n\n64 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\n2.5 THE MDO PLATFORM FOR MICRO/NANO\nSATELLITES\n\nThe MDO platform for micro/nano satellites discussed here was established\nby Tsinghua University, and named SDIDE (Spacecraft Distributed Integrated\nDesign Environment) [23], which is based on a cooperative method and dis-\ntributed technology. SDIDE is set up on iSIGHT, integrating analysis tools\nfrom various disciplines, including STK, MATLAB, UG NX, I-DEAS, ANSYS,\netc. With the help of iSIGHT-Net module, distributed modeling and computa-\ntion can be done easily. SDIDE can help shorten satellite development time,\nand improve design work. On the SDIDE platform, a collaborative optimiza-\ntion algorithm is improved with a genetic algorithm and local optimization\ntechnique. For the launched satellites \u201cHangtian Tsinghua 1\u201d and \u201cNS-1,\u201d\nrelated models and data result, with better field temperature and the weight\nset as the objectives, obtaining a good solution after optimization on SDIDE.\n\n2.5.1 The Basic Framework of SDIDE v1.0\nThe first version of SDIDE is v1.0. In SDIDE v1.0, the basic framework is set\nup. The platform contains seven modules: System Data Manage module,\n\nWeb top\n\nHandset\n\nDesign\ninterface\n\nSystem\nmonitor \n\nPlug-in\ncomponents\n\nApplication\nengineer \n\nWorkflow designer\n\nAdministrator\n\nPlug-in developer\n\nApplication\nserver \n\nApplication\ncontroller \n\nPlug-in\nlibrary\n\nCooperation units\n\nFiper workstations\n\nInternet\n\nLAN/WAN/VPN\n\nFiper core\nmodules \n\nFiper clients\n\nFIGURE 2.5\nArchitecture and functions of Fiper.\n\n2.5 The MDO Platform for Micro/Nano Satellites 65\n\n\n\nTask Control module, System Monitoring module, Configuration module,\nSystem Optimization module, Database module, and Discipline/Design\nSubnet, as illustrated in Fig. 2.6.\n\n1. System Data Manage module\nThe System Data Manage module handles data on a system level, and\ncan send, receive and manage system data. The module automatically\n\nFIGURE 2.6\nFramework of SDIDE v1.0.\n\n66 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\nreceives data from every discipline, updates and saves it to the\nDatabase module, to real-time update the system data. At the same\ntime, the System Data Manage module records the previous system\ndata and status, and sends data renew instructions to all modules to\nstart an update.\n\n2. Task Control module\nThe Task Control module manages, monitors, and controls the whole\ntask procedure, acquires the task status, and starts or stops services and\nthe Discipline/Design Subnet when needed.\nInteractive GUI is an important part of the Task Control module. By\n\nthe GUI, users can start the task when the MDO problem and objective\nare configured. Then the module operates as indicated in the task flow,\nstarting the Discipline/Design Subnets in sequence or in parallel. The\nstatus of each Discipline/Design Subnet and subtask are shown on the\nGUI, by which the user can operate and handle events.\nWhile the optimization task is working, users can pause the system\n\ntask or Subnet, and the previous system data and status will be saved\nand sent to the System Data Manage module and Discipline/Design\nSubnets, allowing the computation to hibernate until needed to\ncontinue to run or stop.\n\n3. System Monitoring module\nThe System Monitoring module is set up to acquire and monitor the\ndesign information during the optimization, and to show the process\ndata and the final result.\nFor satellite design and optimization, the process of optimization\n\niteration is very important as the final optimum solution. Therefore,\nthe System Monitor module must support users to get necessary\ninformation and data at any moment in time, including design\nvariables, constraints, object functions, and any other values that may\nbe required. The module also provides analysis function for users to\ndiscover features and evaluate feasibility of the design.\n\n4. Configuration module\nThe first action is carried out in the Configuration module to begin a\nMDO task. In this module, users can define and configure design\nvariables, initial values, object functions, constraints, and optimization\nstrategy. The process flow and information interactions are also defined.\nWhen users finish their configuration work, many elements,\n\nincluding blocks and figures and values, are shown in the GUI. Then\nthe Configuration module translates and compiles those elements to\nASCII format files. This kind of ASCII file is \u201cexecutable\u201d for software\ninside SDIDE.\nAs mentioned above, when optimization starts, users can pause the\n\nprocess and configure parameters as needed.\n\n2.5 The MDO Platform for Micro/Nano Satellites 67\n\n\n\n5. System Optimization module\nThe System Optimization module is the key and energy source of the\nsystem that can be optimized. It is a library of MDO methods and\noptimization algorithms, providing basic strategies to construct the\nMDO task, and providing functions to the optimizer.\n\nFor users, the System Optimization module is a kind of black box,\nproviding services to upper modules. The MDO methods include single-\nlevel optimization, concurrent subspace optimization (CSSO) and\ncollaboration optimization (CO), etc. The optimization algorithms\ninclude numerical algorithms such as the feasible direction method,\nsteepest descent method, sequence linear programming (SLP) method,\nsequential quadratic programming method, etc.; and search algorithms\nsuch as random search algorithm, genetic algorithm, simulated annealing\nalgorithm, etc. More numerical algorithms and search algorithms can\neasily link up and integrate in the System Optimization module.\n\n6. Database module\nThe Database module stores all data and information during satellite\ndesign and optimization, playing the role of data center in the SDIDE\nframework.\n\nThe Database module is operated by instructions from the System\nData Manage module, including actions such as reading, storing,\nsearching, etc. In some cases, the System Data Manage module can\ntransfer file pointers to other module, allowing the specific module to\noperate on the Database module. Most modules are separated in a\ndistributed framework, but the Database module must be set up to be\na kind of network database.\n\nMassive amounts of data are produced during satellite design and\noptimization. For example, the finite element method is widely used in\nmechanical analysis and thermal analysis, containing hundreds and\neven tens of thousands of nodes in the finite element model. Huge\nmatrices are necessary to handle the data of these nodes as a whole. To\nensure continual read and write operations, the Database module must\nhave strong store and search ability and perfect performance.\n\n7. Discipline/Design Subnet\nThe Discipline/Design Subnet of SDIDE is a kind of distributed\ncomputing network, consisting of several separated computers for\ndifferent disciplines. Each computer is in charge of one kind local\ndiscipline design and analyze, following instructions from the System\nData Manage module, using data from other modules and local input.\nAll the process data and final data are sent to the System Data Manage\nmodule.\n\nAll needed disciplines, corresponding professional database, design and ana-\nlyze software, computers for satellite design and optimization are included in\n\n68 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\nthe Discipline/Design Subnet. The network is star-based, and there are no\ndirect connections or channels between different disciplines. To exchange\ndesign data and other information between each other, a discipline must\nsend the request to the System Data Manage module.\n\n2.5.2 Improvement of SDIDE\nAfter SDIDE v1.0 was launched, a great deal of progress was made in the\nMDO framework, optimization method, etc., from which SDIDE v2.0 was\ndeveloped. The architecture of SDIDE v2.0 is shown in Fig. 2.7.\n\nCompared with SDIDE v1.0, the SDIDE v2.0 has some new features:\n\n1. SDIDE v2.0 was developed from Fiper, containing existing\noptimization algorithms which are provided by Fiper and MATLAB.\nSome more algorithms were introduced and improved upon, including\nCO, CSSO, MOPCSSO, which will expand the facilities of SDIDE.\n\n2. SDIDE v2.0 is enhanced for conceptual design, and satellite overall\ndesign scheme selection, comparison, and optimization are realized.\nThis version can manage multitarget models to satisfy a variety of\noptimization needs.\n\n3. Professional toolkits are developed based on Fiper, including STK\ncomponents, UG components, ANSYS components, and MATLAB\ncomponents, which is of benefit for CAD/CAE analysis.\n\n4. A new web module was added, providing better service for distributed\ncooperative design and optimization. It also has some new features,\nincluding people management, knowledge management, project\nmanagement, etc., and the GUI is now more user-friendly.\n\n5. SDIDE v2.0 has two types of new service: local resource service and\ndistributed resource service, providing various documents, reports, and\nvideos for developers.\n\n2.5.3 Features and Function of SDIDE 2.0 System\n2.5.3.1 Main Features\n\n1. Technical features: developed with C# language on Microsoft. NET\nframework, introduced in WCF technology of service-oriented\narchitecture (SOA) to issue and invoke local and distributed resource\nservices.\n\n2. Functional features: providing more key functions including\nrequirement management, people management, project management,\nsolution building, local resource service, distributed resource service,\netc., by which users can acquire various information/data.\n\n3. Easy to integrate: by using modular approaches, modules and their\nfunctions are defined clearly, making them easy to rebuild.\n\n2.5 The MDO Platform for Micro/Nano Satellites 69\n\n\n\nFIGURE 2.7\nFramework of SDIDE v2.0.\n\n70 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\n4. Componentization: componentization of resource services of each\ndiscipline provides good features for resource discovery, release, and\nintegration.\n\n5. Externalization of tacit knowledge: allowing users to acquire tacit\nknowledge which is presented as solutions and maintenance by the\nsystem in SDIDE v2.0.\n\n2.5.3.2 Main Functions\n1. Function of requirement modeling and analysis during satellite design.\n\nQualitative and quantitative methods are both provided to transform\nbetween application requirements and technical requirements.\n\n2. Function of team building and knowledge acquirement. This function\nallow users to build up team and necessary knowledge as the project\nproceeds.\n\n3. Function of resource knowledge discovery, release, and usage. By this\nfunction, the resource knowledge provider and consumer come into\nbeing and exchange resource knowledge naturally.\n\n4. Function of knowledge integration. Different users can acquire\nintegrated knowledge from local and distributed resource\nenvironments.\n\n2.5.4 Integration of CAD/CAE and Further Development\nIn SDIDE v2.0, professional toolkits are provided for CAD/CAE analysis,\nsuch as UG, ANSYS, STK, MATLAB, etc. By these toolkits, the design and opti-\nmization have the ability for total parametric modeling, command stream\ncontrol, and process automation. Fig. 2.8 shows how these work.\n\nThese professional toolkits are developed by the following methods.\n\n1. Toolkits for UG\nThe toolkits for UG are developed and integrated by UG/Open API\nmodule, which is also called the User Function. This is an assembly\nthat can be accessed by programs and change UG models. It contains\nnearly 2000 library functions, by which the corresponding UG\nfunctions can be operated in C and C11 programs, such as GUI\noperation, file operation, and database operation.\n\n2. Toolkits for ANSYS\nThe toolkits for ANSYS arranges ANSYS commands by APDL (ANSYS\nParametric Design Language), providing parametric programs to users.\nThis kind of program can actualize the whole process of ANSYS\noptimization, including CAD parameter modeling, grid division and\ncontrol, material definition loading, boundary conditions, parametric\ncontrol and solve.\n\n2.5 The MDO Platform for Micro/Nano Satellites 71\n\n\n\nIn these toolkits, the system can perform finite element analysis of\nforce, heat, electromagnetism, and their couplings.\n\n3. Toolkits for STK\nThe toolkits for STK are developed by STK/Connect module in Visual\nC11 environment. The STK/Connect module is a set of API functions\nthat can embed in VC programs to operate and respond to STK\ncommands.\n\nThe toolkits can calculate and display on-orbit operation status,\ncover ratio, and sunshine hours of satellites.\n\n4. Toolkits for MATLAB\nThe toolkits for MATLAB are developed with MATLAB Web Services\ntechnology, which allows MATLAB to run as a pure calculation engine\non the server. The client calls the Web Services in SDIDE, transferring\nparameters and commands to the server, and getting the results after\ncalculation.\n\nFIGURE 2.8\nWorkflow between SDIDE and the toolkits.\n\n72 CHAPTER 2: Mult idiscipl inary Design Optimization\n\n\n\nReferences\n[1] J.R. Wertz, W.J. Larson, Space Mission Analysis and Design, Microcosm Press, El Segundo,\n\nCA, 1999.\n\n[2] W. Heijenga, View definition in OODBS without queries: a concept to support schema-like\nviews, in: Proceedings of 2nd International Conference on Databases and Information\nSystems, 1996.\n\n[3] R.J. Mayer, M.K. Painter, P.S. Dewitte, IDEF Family of Methods for Concurrent Engineering\nand Business Re-engineering Applications, Knowledge Based Systems Inc, College Station,\nTX, 1994.\n\n[4] C4ISR Architecture Working Group, C4ISR Architecture Framework Version 2.0, Carnegie\nMellon University, Pittsburgh, PA, 1997.\n\n[5] W.G. Wood, M. Barbacci, P. Clements, et al., DoD architecture framework and software\narchitecture workshop report [EB/OL], March 2003 (February 2008). ,http://www.ichnet.\norg/DODAF%20SEI%20report.pdf..\n\n[6] OL, ,http://www.aiaa.org/content.cfm?pageid5 230&lumeetingid51384..\n\n[7] AIAA Multidisciplinary Design Optimization Technical Committee, Current state of the art\non multidisciplinary design optimization (MDO). An AIAA White Paper, 1991.\n\n[8] J. Sobieszczanski-Sobieski, T. Haftka, Multidisciplinary aerospace design optimization: sur-\nvey of recent developments, Struct. Optim. 14 (1) (1997) 1?23.\n\n[9] S. Kodiyalam, Multidisciplinary aerospace systems optimization-computational aerosciences\n(CAS) project. NASA/CR-2001-211053, 2001.\n\n[10] C. Qifeng, Distributed coevolutionary multidisciplinary design optimization methods for\nflying vehicles. National University of Defense Technology, April 2003.\n\n[11] Z. Wang, X. Chen, W. Luo, M. Design, Optimization Theory and Applications, National\nDefense Industry Press, Beijing, 2006.\n\n[12] E.R. Taylor, Evaluation of multidisciplinary design optimization techniques as applied to\nspacecraft design, in: Proceedings of Aerospace Conference, IEEE, Oakland, CA, 2000, pp.\n371?384.\n\n[13] R.D. Braun, A.A. Moore, I.M. Kroo, Collaborative approach to launch vehicle design,\nJ. Spacecr. Rockets 34 (4) (1997) 478?486.\n\n[14] R.D. Braun, Collaborative optimization: an architecture for large-scale distributed design.\nPhD thesis, Department of Aeronautics and Astronautics, Stanford University, May 1996.\n\n[15] R.D. Braun, I.M. Kroo, Development and application of the collaborative architecture in a\nmultidisciplinary design environment. Virginia, NASA Langley Technical Report Seroer,\n1995.\n\n[16] W. Ling, Intelligent Optimization Algorithms with Applications, Tsinghua University Press,\nBeijing, 2004.\n\n[17] L. Yong, K. Lishan, C. Yuping, Nonnumerical Parallel Algorithm (Volume 2): Genetic\nAlgorithm, Science Press, Beijing, 2000.\n\n[18] M.A. Stelmack, N. Nakashima, S.M. Batill, Genetic algorithms for mixed discrete/continuous\noptimization in multidisciplinary design, in: AIAA: Symposium on Multidisciplinary\nAnalysis and Optimization, 1998:984771.\n\n[19] R.A.E. Makinen, J. Periaux, J. Toivanen, Multidisciplinary shape optimization in aerodynam-\nics and electromagnetics using genetic algorithms, Int. J. Numer. Methods Fluids 30 (1999)\n149?159.\n\n[20] G. Rudolph, Convergence analysis of canonical genetic algorithms, IEEE Trans. Neural\nNetw. 5 (1) (1994) 96?101.\n\nReferences 73\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref3\nhttp://www.ichnet.org/DODAF%20SEI%20report.pdf\nhttp://www.ichnet.org/DODAF%20SEI%20report.pdf\nhttp://www.aiaa.org/content.cfm?pageid=230&lumeetingid=1384\nhttp://www.aiaa.org/content.cfm?pageid=230&lumeetingid=1384\nhttp://www.aiaa.org/content.cfm?pageid=230&lumeetingid=1384\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref10\n\n\n[21] T. Back, H.P. Schwefel, Evolution strategies I: variants and their computational implementa-\ntion, Genetic Algorthms in Engineering and Computer Science, John Wiley & Sons Ltd,\nChichester, 1995.\n\n[22] J. Morrison, F. Oppacher, A general model of co-evolution for genetic algorithms, Artificial\nNeural Nets and Genetic Algorithms, Springer Vienna, Wien, 1999, pp. 262?268.\n\n[23] F. Junming, Research on Applying Collaborative Optimization to the Multidisciplinary\nDesign Optimization of Satellites Design, Tsinghua University, Beijing, 2006.\n\n74 CHAPTER 2: Mult idiscipl inary Design Optimization\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00002-3/sbref13\n\n\nCHAPTER 3\n\nAttitude Determination and Control\nSystem of the Micro/Nano Satellite\n\nThe high-precision and high-performance attitude determination and control\nsystem (ADCS) of the micro/nano satellite are the basic conditions for a sat-\nellite to run efficiently as the accomplishment of the mission of satellites\nrelies on the performance of this instrument as well as being determined by\nthe precision of the attitude control. From the international development\ntrend, ADCS are approximately 40% of total development costs and this\nis the critical technology in the development of the micro/nano satellite.\n\nTo enhance the performance of ADCS, we should take advantage of new\ntechnology to develop lightweight and high-performance attitude-sensing\nand measurement devices and actuators [1?5], because of the limitation\nof power consumption and volume, while optimizing this comprehensive\nsystem by excavating the capacity of sensors when designing the system\n[6?10] to enhance the density of functionality of the satellite. Researching\nnew data fusion and control methods to decrease the demand on hardware\nthrough software compensation is an effective and significant measure.\n\nIn this chapter, a comprehensive satellite was modeled, including environ-\nmental disturbance, kinematics, dynamics, attitude sensors, actuators, etc.,\naccording to the design of the NS-2 satellite. The attitude and control meth-\nods were researched on the basis of models used to fulfill the requirements\nof this task and to enhance the performance of the attitude control system.\nReasonable and effective control schemes were proposed. The context in the\nchapter is necessary guidance for and demonstration of this appliance in\nengineering.\n\n3.1 SPACE ENVIRONMENT OF THE MICRO/NANO\nSATELLITE\n\nDesigners of ADCS should understand the dynamics of the controlled object\ncomprehensively, as well as the space environment and the mathematics of\ndisturbance control. Understanding the environment [11] is very important\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00003-5\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n75\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00003-5\n\n\nfor choosing control laws and actuators to take full advantage of the space\nenvironment for passive and semiactive attitude control.\n\nSpace environment torque consist of the solar radiation pressure, gravity gra-\ndient, magnetic fields, and aerodynamics. The magnitudes of these depends\non the orbit height, mass distribution, shape, surface, solar activity, atmo-\nsphere density, magnets on the satellite, and attitude motion.\n\n3.1.1 Gravity Environment\nBodies are subjected by gradient moment if they have asymmetric mass dis-\ntribution and are in a gravitational field that is inversely proportional to the\nsquare of the distance that was researched by D\u2019Alembert and Euler in 1749.\nLagrange explained why there is always a dark side of the moon in 1780.\nAfter that Laplace and others illustrated the equation to express the gravity\ngradient moment when researching the libration of the moon. It is relatively\ncomplex to calculate gravity and gravity moment since they depend not only\non the mass distribution of the satellite and the mass distribution of the\nattractive body but also the location and the attitude of the satellite. To\nobtain a practical and precise enough equation in engineering, we assume\nthe following. There is a single attractive object, the Earth. The distribution of\nthe attractive object is one of spherical symmetry. The size of the satellite is\nfar less than the size of the attractive object. The satellite itself is a single\nobject. The equation of gravity gradient moment is as follows:\n\nNd;g 5\n3?\nr3\n\nR3 IR \u00f03:1\u00de\n\nwhere ? is the gravitational constant of the Earth ?5 398,600.44 km3/s2, r is\nthe distance from the center of the Earth to the centroid of the satellite, R is\na unit vector that points from the center of the Earth to the centroid of the\nsatellite, and I is the moment of the inertia matrix of the satellite.\n\nWhen the attitude angles are infinitesimal, the two order and high-order\ninfinitesimal are neglected, we obtain:\n\nNd;g 5 3?20\n\u00f0Iz 2 Iy\u00de?1 Iyz 2 Ixz?\n\u00f0Iz 2 Ix\u00de?2 Ixz 2 Ixy?\n\nIyz?1 Ixz?\n\n2\n4\n\n3\n5 \u00f03:2\u00de\n\nWhen I is a diagonal matrix, Eq. (3.2) can be reduced to Eq. (3.3).\n\nNd;g 5 3?20\n\u00f0Iz 2 Iy\u00de?\n\u00f0Iz 2 Ix\u00de?\n\n0\n\n2\n4\n\n3\n5 \u00f03:3\u00de\n\n76 CHAPTER 3: Att i tude Determination and Control System\n\n\n\n3.1.2 Atmosphere Environment\nThe gas movement beyond 120 km above sea level can be treated as free\nmolecule flow, that is, the mean free path of molecules is far larger than the\ncharacteristic size of the satellite. Aerodynamic forces and torque rely on the\natmospheric density, the size and the shape of the satellite, surface character-\nistics, the velocity of the gas flow, and the attitude of the satellite, etc. In\nphysics, aerodynamic forces and torque are caused by collisions between the\nsatellite and gas molecules. Gas molecules that hit the satellite are generally\nemitted again. However, there is no interaction between the secondary mole-\ncule and the incidence molecule under the conditions of free molecule flow.\nTherefore, the total momentum can be calculated by adding the independent\ncalculation of the incident flow and the secondary flow. Meanwhile, the free\nmolecule flow method can simplify the calculation of satellites, of which the\naerodynamic shape is complex, by dividing it into several simple parts for\ncalculation.\n\nTo obtain a practical equation with the aerodynamic torque calculation, we\nassume the following. Gas molecules reaching the surface transfer all their\nmomentum to the satellite. Thermal motion average speed calculated by the\nmaximum Maxwell speed in probability is 1 km/s approximately, which is\nless than the speed of the satellite. The impulse caused by molecules leaving\nthe surface is negligible. The simplified equation is as follows:\n\nNd;a 5\n?V2R\n2\n\nCDApUcp 3 v \u00f03:4\u00de\n?V2R\n2 denotes the dynamic head, CD is the drag coefficient within 2.2?2.6. Ap\nis the cross-sectional area, cp is the vector from the centroid to the center of\npressure, and v is the unit vector of the air flow.\n\nThe following is an example:\n\nAltitude 630 km: ?5 4:313 10213 kg=m3\n\nVelocity of the satellite: v5\nffiffiffi\n?\nr\n\nr\n5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n3:9863 1014\n\n7008:1373 103\n\nr\n5 7:54173 103 m=s\n\nAssume the drag coefficient as: CD 5 2:5\nMagnitude of vector from the centroid to the center of pressure:\ncp 5 0:2 m\nThen, Na 5 1:59343 1025 Nm.\n\n3.1.3 Electromagnetic Environment\nMagnetic moment is caused by the interaction between the effective dipole\nmagnetic moment and the local geomagnetic field. The dipole magnetic\nmoment of the satellite is caused by the loop current as well as by residual\n\n3.1 Space Environment of the Micro/Nano Satellite 77\n\n\n\nand permanent magnetism in the magnetic material. The geomagnetic field at\nthe location of the satellite has a relationship with the orbit height, longitude,\nlatitude, attitude, and solar activity. The magnetic torque can be used to\ndampen the nutation, eliminate the rotation, control the precession (though\nit is a disturbance torque), and can have a positive effect on attitude.\n\nUnderstanding and modeling the geomagnetic field are necessary to estimate\nthe geomagnetic torque. Geomagnetic fields are classified into inner-originated\nfields and outer-originated fields according to the origin of the field. Inner-\noriginated fields are caused by the inner structure of the Earth, while outer-\noriginated fields originate from the current system around the Earth, such as\nthe ionospheric current, the ring current, magnetic top layer current, etc. These\ncurrent systems are changing constantly. They are influenced by solar activity,\nmagnetic storms, etc. Inner-originated fields contain a basic magnetic field and\nan inducted magnetic field. The basic magnetic field is very stable as it is caused\nby the core of the Earth. The magnetic pole on the surface of the Earth moves\nvery slowly despite being caused by a change of current. The primary compo-\nnent in the harmonic function model of the geomagnetic field or the simplified\ndi-inducted magnetic field is expressed by a dipole model.\n\nResidual magnetic torque is caused by the interaction of the residual magnet\nof the satellite and the geomagnetic field. The basic geomagnetic field that is\na potential field in the space outer the Earth satisfies the Laplace equation. It\nis expressed as spheric harmonic function, as in Eq. (3.5).\n\n?5Re\nXN\nn51\n\nXN\nm50\n\nRe\nr\n\n? ?n11\n\u00f0gmn cosm?1 hmn sin?\u00dePmn \u00f0cos?\u00de \u00f03:5\u00de\n\nRe 5 6378:14 km is the radius of the Earth at the equator, gmn and h\nm\nn are the\n\nharmonic coefficients, ? is the geographic longitude, and ? is the geocentric\ncolatitude. Pmn \u00f0x\u00de is the associated Legendre function as:\n\nPmn \u00f0x\u00de5 \u00f021\u00dem\n\u00f012x2\u00dem2\n2nn!\n\ndn1m\n\ndxn1m\n\u00f0x221\u00den \u00f03:6\u00de\n\nIn the geographic coordinate system, magnetic induction of the geomagnetic\nfield B? is defined as:\n\nB? 52r?5\n1\nr\nU\n@?\n@?\n\n2\n1\n\nrsin?\nU\n@?\n@?\n\n@?\n@r\n\n? ?T\n\u00f03:7\u00de\n\nFrom the relationship of the geographic coordinate, the inertial coordinate,\nand the body coordinate, we obtain Bb 5AbiAi?B?. Assuming the residual\nmagnetic moment is Mb (Am\n\n2), then the residual magnetic torque is:\n\nNd;m 5Mresidual 3Bb \u00f03:8\u00de\n\n78 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nEstimating the residual magnetic torque as follows:\n\nOrbit radius: r5 7:0081373 108 cm\nGeomagnetic torque: M5 83 1025 Gcm3\n\nResidual magnetic moment of the satellite: D5 0:15 Am2\n\nThen: Nm 5 6:9733 1026 Nm\n\n3.2 ATTITUDE DYNAMICS OF THE MICRO/NANO\nSATELLITE\n\nThe movement of the attitude of satellites can be expressed in a series of dif-\nferential equations. These differential equations express the process of atti-\ntude movement about time. There are two groups of equations: kinetics\nequations and dynamics equations. Kinetics equations describe the move-\nment of the satellite, while dynamics equations show the relationship\nbetween the attitude movement and torques on the satellite. A description of\nthe movement of satellites and coordinate systems, as well as modeling\nkinetics and dynamics equations of satellites, is given in this section.\n\n3.2.1 Coordinate System\nAccording to the requirement of tasks and modes of the ADCS [12?17], the\nfollowing coordinate systems would be used to describe the attitude\nmovement.\n\nEarth centered inertial coordinate system OeXiYiZi (ECI)\nThe origin of ECI is at the center of mass of the Earth. The OeXi axis\n\npoints to the mean equinox, OeYi points to the 90 degrees angle of right\nascension. OeZi points to the North Pole.\nBody coordinate system OXbYbZb (body system)\n\nThe origin of the body system is located at the center of the mass of\nsatellites. OXb, OYb, and OZb are permanently fixed on the satellite\nbody. OZb points to the observation orientation. OXb points to the\nsolar panel, the heading direction. OYb points to the surface without\nthe solar panel that constructs a right-headed coordinate system with\nOXb and OZb.\nFlight coordinate system (body inertial system) OXfYfZf (flight system)\n\nThe origin of the flight coordinate system is located at the center of the\nmass of satellites. OZf points to the object to be observed. OXf, OYf, and\nOZf construct an inertial coordinate system and the flight moves in\nconstant velocity in the ECI and the transform matrix is a constant\nmatrix. The flight system is the reference system of satellites, while the\nachievement of the ADCS is to coincide the flight system and body\n\n3.2 Attitude Dynamics of the Micro/Nano Satellite 79\n\n\n\nsystem when satellites run in a three-axes stable inertial orientation\nmode.\nEarth orbit coordinate system OXoYoZo (orbit system)\nThe origin of the orbit system is located at the centroid of the mass of\nsatellites. OZo points to the centroid of the Earth. OYo is perpendicular\nto the plane of the orbit points to the negative direction of the angular\nspeed. OXo is perpendicular to and right-handed to OYo and OZo. For\ncircular orbit, OXo points to the direction of the velocity of satellites. The\norbit system would be the reference system when the satellite works in\nan assistant orientation mode.\n\n3.2.2 Representation of Attitude\nMathematic equations to express attitude have been used and developed for\na long time. Many methods were introduced successively, such as direction\ncosine matrix, Euler angle, quaternion, and modified Rodrigues parameters\n(MRPs). These methods have their advantages, disadvantages, and\nsuitable occasions for use. Quaternion is used to describe the attitude in this\nbook, while direction cosine matrix, Euler angle, and MRPs are used in some\nsituation when necessary.\n\n1. Direction cosine matrix\nConsidering two right-handed orthogonal coordinate systems as\nfollows:\n\nr?f g ?\nr?1\nr?2\nr?3\n\n8<\n:\n\n9=\n;; b?\n\nn o\n?\n\nb?1\nb?2\nb?3\n\n8<\n:\n\n9=\n;; \u00f03:9\u00de\n\nwhere fr?g is the reference coordinate system, fb?g is the body coordinate\nsystem, r?i and b?i (i5 1, 2, 3) are three unit vectors along their axis\ndirection, respectively.\n\nAssume the transformation matrix from reference system to body\nsystem is Abr 5 fAbr;ijg33 3, then:\nAbr;ij 5 cos?ij 5 hb?i; r?ji; \u00f03:10\u00de\n\nwhere ?ijA\u00bd2?;?\u00de is the angle between b?i and r? j; i; j5 1, 2, 3.\nAbr is the direction cosine matrix and is also called the attitude\n\nmatrix. Abr , of which the determinate equals 1, is an orthogonal matrix\nthat Abr has to satisfy to the following conditions:\n\nATbrAbr 5AbrA\nT\nbr 5 I3 \u00f03:11\u00de\n\ndetAbr ? 1 1 \u00f03:12\u00de\n\n80 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nDirection cosine matrix corresponds to physics attitudes. Its advantage\nis that there is no singular solution and it is not necessary to solve a\ntriangular equation but six redundancy parameters.\n\n2. Axis-angle parameters\nAccording to Euler\u2019s rotation theorem, in three-dimensional space,\nany displacement of a rigid body, such that a point on the rigid\nbody remains fixed, is equivalent to a single rotation with angle ?\nabout some axis that runs through the fixed point. The axis is called\nthe Euler axis and is expressed in unit vector e5 \u00bde1 e2 e3?T and ?\nis defined as the rotation angle. The attitude of the body system in\nthe reference system can be expressed as rotation from the reference\nsystem to the body system. The axis-angle parameters are defined\nas:\n\n?5 e? \u00f03:13\u00de\nThe most outstanding advantage of axis-angle parameters is their\ndirect physical meaning since the attitude is expressed as an angle ?\nwith direction and without redundancy. It is convenient to describe\nattitude in single parameters, therefore it is often used to express the\nerror vector of the attitude. Assuming the angles between the\ncorresponding axis of the body system and the reference system are\n?x;?y; and ?z, the total error of attitude is as in Eq. (3.14) for small\nattitude angles:\n\n?5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n?2x 1?\n\n2\ny 1?\n\n2\nz\n\n2\n\ns\n\u00f03:14\u00de\n\nHowever, axis-angle parameters correspond to physical attitude. It can\nbe expressed as a globe attitude.\n\n3. Euler angles\nAccording to the Euler\u2019s rotation theorem, the rotation of a rigid body\nabout a fixed point can be divided into several types of rotation. The\nbody system can be obtained by rotating the reference system three\ntimes, with each rotation about the axis of the system that would be\nrotated. The angle of each rotation is the Euler angle. The Euler angles\nof three rotations are ?;?; ?. According to the sequence of rotation,\nthere are 12 types of sequence to rotate. In general, a 3?1?2 sequence\nis often used in describing the attitude of three-axes stable satellites. In\nthis situation, ?;?; ? express the yaw, the roll, and the pitch,\nrespectively.\nForm the definition, the direction cosine matrix from the body\n\nsystem to the reference system is as follows:\n\n3.2 Attitude Dynamics of the Micro/Nano Satellite 81\n\n\n\nAbr 5A312\u00f0?;?; ?\u00de5 L2\u00f0?\u00deL1\u00f0?\u00deL3\u00f0?\u00de\n\n5\n\ncos? 0 2sin?\n\n0 1 0\n\nsin? 0 cos?\n\n2\n664\n\n3\n775\n\n1 0 0\n\n0 cos? sin?\n\n0 2sin? cos?\n\n2\n664\n\n3\n775\n\ncos? sin? 0\n\n2sin? cos? 0\n\n0 0 1\n\n2\n664\n\n3\n775\n\n5\n\ncos?cos?2 sin?sin?sin? cos?sin?1 sin?sin?cos? 2sin?cos?\n\n2cos?sin? cos?cos? sin?\n\nsin?cos?1 cos?sin?sin? sin?sin?2 cos?sin?cos? cos?cos?\n\n2\n664\n\n3\n775\n\u00f03:15\u00de\n\nThe known direction cosine matrix Abr 5 fAbr;ijg33 3, and the Euler\nangles (3?1?2 sequence) are:\n\n?5 arcsin\u00f0Abr;23\u00de; ?5 arctan 2\nAbr;13\nAbr;33\n\n? ?\n;?5 arctan 2\n\nAbr;21\nAbr;22\n\n? ?\n\u00f03:16\u00de\n\nwhere ?;?; ?A\u00bd2?=2;?=2?, when ?5?=2, ?; ? are singular values.\nWhen ?;?; ? are small angles, Eq. (3.15) can be expressed as:\n\nAbr 5\n1 ? 2?\n2? 1 ?\n? 2? 1\n\n2\n4\n\n3\n5 \u00f03:17\u00de\n\nThe most serious problem with Euler angles is their singular value.\nWhen ?5 90 degrees, the direction of the first rotation and the third\nrotation coincide. In a kinetic equation, zero occurs in the\ndenominator of fractions. On the other head, there is a large amount\nof triangle function calculations to get the attitude matrix from Euler\nangles and this brings a heavy computational load. However, it has\nintuitive physical meaning without redundancy and is suitable for\nexpressions such as plots in this book.\n\n4. Quaternion\nAccording to the Euler\u2019s rotation theorem, any displacement of a rigid\nbody is equivalent to rotation about an axis. Assuming the vector\ndescribing the Euler axis is e5 \u00bde1 e2 e3?T and the rotation angle is\n?, the quaternion is defined as:\n\nqbr 5\nqbr\nq4\n\n? ?\n5\n\nq1\nq2\nq3\nq4\n\n2\n664\n\n3\n7755\n\ne1sin\n?\n2\n\ne2sin\n?\n2\n\ne3sin\n?\n2\n\ncos\n?\n2\n\n2\n66666666666664\n\n3\n77777777777775\n5\n\nesin\n?\n2\n\ncos\n?\n2\n\n2\n66664\n\n3\n77775 \u00f03:18\u00de\n\n82 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nqbr is the vector part of qbr , q4 is the scalar part of qbr . From the\ndefinition, qbr and ?qbr correspond to the same physical attitude. To\navoid ambiguity, all q4 . 0 in this book.\nQuaternion must be normalized because only three components can\n\nexpress whole attitudes and are not independent:\n\n:qbr:5\nffiffiffiffiffiffiffiffiffiffiffiffi\nqTbrqbr\n\nq\n5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n:q:2 1 q24\n\nq\n? 1 \u00f03:19\u00de\n\nThis limitation is called the constant norm constraint. Calculation need\nto satisfy strictly this constraint.\nAccording to the rule of quaternion, qbr is the negative inverse\n\ncalculation. Assuming the attitude matrix is Abr 5 fAbr;ijg33 3, then the\nquaternion is:\n\nq21br 5\n2qbr\nq4\n\n? ?\n5\n\n2q1\n2q2\n2q3\nq4\n\n2\n664\n\n3\n775 \u00f03:20\u00de\n\nThe attitude matrix expressed by the quaternion is:\n\nAbr 5\n\n\" q21 2 q22 2 q23 1 q24 2\u00f0q1q2 1 q3q4\u00de 2\u00f0q1q3 2 q2q4\u00de\n2\u00f0q1q2 2 q3q4\u00de 2q21 1 q22 2 q23 1 q24 2\u00f0q2q3 1 q1q4\u00de\n2\u00f0q1q3 1 q2q4\u00de 2\u00f0q2q3 2 q1q4\u00de 2q21 2 q22 1 q23 1 q24\n\n#\n\u00f03:21\u00de\n\nq4 5 6\n1\n2\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nAbr;11 1Abr;22 1Abr;33\n\np\nq1 5\n\nAbr;23 2Abr;32\n4q4\n\nq2 5\nAbr;31 2Abr;13\n\n4q4\n\nq3 5\nAbr;12 2Abr;21\n\n4q4\n\n8>>>>>>>>>>>>><\n>>>>>>>>>>>>>:\n\n\u00f03:22\u00de\n\nFrom Eq. (3.22), the quaternion calculated from the attitude matrix\nAbr 5 fAbr;ijg33 3 has two solutions. To avoid this, we define q4 $ 0 as\nq4 5 \u00f01=2\u00de\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nAbr;11 1Abr;22 1Abr;33\n\np\n.\n\nWhen ? is small enough, we obtain:\n\nAbr 5 I3 22\u00bdqbr 3 ? \u00f03:23\u00de\nIn Eq. (3.23), I3 is a 33 3 identity matrix and \u00bdqbr 3 ? is the skew-\nsymmetric matrix of qbr , which is also called the product matrix such that:\n\n\u00bdqbr 3 ?5\n0 2q3 q2\nq3 0 2q1\n2q2 q1 0\n\n2\n4\n\n3\n5 \u00f03:24\u00de\n\n3.2 Attitude Dynamics of the Micro/Nano Satellite 83\n\n\n\nWhen ? is small enough, the vector part has a relationship with the\nEuler angles as follows:\n\nqbr ?\n1\n2\n\n?\n?\n?\n\n2\n4\n\n3\n5 \u00f03:25\u00de\n\nAccording to the equation of the direction cosine matrix and the\nEuler angle, the equation to calculate Euler angles from quaternion\ncan be obtained as:\n\n?5 arcsin 2\u00f0q1q2 1 q3q4\u00de\n? ?\n\n?5 arctan 2\u00f0q1q3 2 q2q4\u00de=\u00f02 q21 2 q22 1 q23 1 q24\u00de\n? ?\n\n?5 arctan 2\u00f0q1q2 2 q3q4\u00de=\u00f02 q21 1 q22 2 q23 1 q24\u00de\n? ?\n\n8>><\n>>: \u00f03:26\u00de\n\nOnce the Euler angles are known, the quaternion can be calculate\nusing quaternion multiplication. The quaternions of three times\nrotations (Eq. 3.27) rotate from reference system to body system in the\nsequence 3?1?2.\n\nqz 5\n0 0 sin\n\n?\n2\n\ncos\n?\n2\n\n\" #T\n;\n\nqx 5\nsin\n\n?\n2\n\n0 0 cos\n?\n2\n\n? ?T\n;\n\nqy 5\n0 sin\n\n?\n2\n\n0 cos\n?\n2\n\n\" #T\n\u00f03:27\u00de\n\nFrom the definition and rules of quaternion multiplication, we\nobtain:\n\nqbr 5 qz ? qx ? qy \u00f03:28\u00de\n\nThus:\n\nq1 5 cos\n?\n2\nsin\n\n?\n2\ncos\n\n?\n2\n2 sin\n\n?\n2\ncos\n\n?\n2\nsin\n\n?\n2\n\nq2 5 cos\n?\n2\ncos\n\n?\n2\nsin\n\n?\n2\n1 sin\n\n?\n2\nsin\n\n?\n2\ncos\n\n?\n2\n\nq3 5 sin\n?\n2\ncos\n\n?\n2\ncos\n\n?\n2\n1 cos\n\n?\n2\nsin\n\n?\n2\nsin\n\n?\n2\n\nq4 5 cos\n?\n2\ncos\n\n?\n2\ncos\n\n?\n2\n2 sin\n\n?\n2\nsin\n\n?\n2\nsin\n\n?\n2\n\n8>>>>>>>>>>>>>><\n>>>>>>>>>>>>>>:\n\n\u00f03:29\u00de\n\n5. Modified Rodrigues parameters\nThe normalization of quaternions is limited in its application on some\noccasions. To avoid this, a parameter which is without redundancy and\n\n84 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nthat corresponds to the physical attitude is necessary. Modified\nRodrigues parameters (MRPs) satisfy the above constraints. This is a\ndimensionality reduction transform for axis-angle parameter which is\ndefined as:\n\npbr 5 e sin\n?\n4\n\n.\n11 cos\n\n?\n4\n\n? ?? ?\n5 etan\n\n?\n4\n\n\u00f03:30\u00de\n\nThe conversion between quaternions and MRPs is as follow:\n\npbr 5\nqbr\n\n11 q4\n\u00f03:31\u00de\n\nqbr 5\n1\n\n11 :pbr:\n2\n\n2pbr\n12 :pbr:\n\n2\n\n? ?\n\u00f03:32\u00de\n\nThat is:\n\nq4 5\n12 :pbr:\n\n2\n\n11 :pbr:\n2 ; qbr 5 \u00f011 q4\u00depbr \u00f03:33\u00de\n\n3.3 MICRO/NANO SATELLITE ATTITUDE CONTROL\nSYSTEM\n\nThe satellite attitude control system is a core part of micro/nano satellites; its\ntechnology development played a key role in improving the development\nlevel of micro/nano satellites. The hardware of the satellite attitude control\nsystem [12?17] includes three parts: attitude sensors, control computer, and\nactuators, and its software includes the attitude determination algorithm and\nthe calculation of control law. Currently, micro/nano satellites tend to use\nintegrated design, an attitude control system, and other subsystems con-\nnected as closely as possible to achieve structural reuse, with the introduction\nof new technologies and new devices to achieve high accuracy, low power\nconsumption, and miniaturization.\n\nThis section contains detailed design and simulation verification of attitude\ncontrol systems, in accordance with the flight mission and design indicators\nof the NS-2 satellite.\n\n3.3.1 Task Analysis of the NS-2 Satellite\u2019s ADCS Subsystem\nThe main task of the attitude determination and control system (ADCS)\nis to ensure that antenna pointing meets the requirements of satellite\n\n3.3 Micro/Nano Satellite Attitude Control System 85\n\n\n\ncommunications and the successful completion of the satellite payload\nflight mission.\n\nThe main flight mission of the satellite payloads is as follows:\n\n? Intersatellite communication (one of the formation flying test\nmissions);\n\n? Ground imaging;\n? Intersatellite laser ranging;\n? MEMS devices flight test: MIMU, magnetometer, and microthruster;\n? In-orbit test of new attitude control sensor: star sensor, analogue sun\n\nsensor, digital sun sensor.\n\nThe communication between satellites has no special requirements in regard\nto attitude control, therefore it will be mainly the design of the ADCS subsys-\ntem in ground imaging, intersatellite laser ranging, and MEMS devices flight\ntest, to ensure that the control accuracy of the ADCS subsystem meets the\nnormal requirements of the CMOS camera and the laser rangefinder, and\nalso to ensure that the measurement accuracy meets the normal job require-\nments of the microthruster.\n\nTaking into account that the exposure time of the CMOS camera is generally\nless than 200 ms during normal working, the satellite\u2019s attitude control\naccuracy and stability must be at least 2 degrees, 0.02 deg/s. At the same\ntime, the laser-ranging missions require the nano satellite to have higher atti-\ntude determination accuracy and have a higher attitude maneuver ability to\nfollow its target satellite MEMSat, meanwhile microthruster tests require the\nsatellite to have a higher angular rate measurement accuracy, which is why\nthe star sensor and MIMU is needed.\n\nIn addition, since the satellite is launched on board a rocket, the angular rate\nof the satellite after separation from the carrier will be relatively large, and\nmay reach 5 deg/s.\n\nBased on the above analysis, we can determine that the main task of the\nnano satellite\u2019s ADCS subsystem is:\n\n? Elimination of rotation, namely eliminating the angular rate of the\nsatellite after separation from the carrier, and establishing a basic\ncontrolled attitude;\n\n? Establishing and maintaining an Earth-directional three-axes stabilized\nattitude, to ensure normal communication between the satellite and\nEarth, and successful completion of the task of the CMOS camera;\n\n? Having the ability to track the target satellite MEMSat, and ensuring the\ntasks of laser ranging are competed.\n\n86 CHAPTER 3: Att i tude Determination and Control System\n\n\n\n3.3.2 Technical Specifications of the NS-2 Satellite\u2019s ADCS\nSubsystem\nAccording to the design task and flight test requirements of the NS-2 satellite,\nthe accuracy specifications of its attitude determination and control system\nare set at two levels. The first is the basic specifications of the platform,\nwhich must be maintained. Second, it is the test specifications that a closed\nloop test can achieve under the premise of all attitude sensors working prop-\nerly in open-loop conditions (see Tables 3.1 and 3.2).\n\n3.3.3 Attitude Determination and Control System Design\n3.3.3.1 Functional Modules\nBased on the requirements analysis of the control software for the NS-2 satellite\u2019s\nADCS subsystem, we divided the control software into four functional modules:\n\n1. Command processing module. Completing reception, interpretation,\njudgment, and execution of control instructions from the ground\nstation and the OBC.\n\n2. Attitude determination module. Gathering information from the\nattitude measurement section, and making corresponding filter\ncalculations to determine the satellite\u2019s current attitude and angular\nrate, providing a basis for attitude control.\n\n3. Attitude control module. According to control law this generates a\ncontrol signal to drive the corresponding gesture actuator, and then\ncontrols the attitude of the satellite.\n\nTable 3.1 The Basic Precision Specifications of a Platform\n\nContent Technical Specifications\n\nControl method Earth-directional three-axes stabilized attitude\nAttitude determination accuracy 1 degree\nAttitude control accuracy 2 degrees\nAttitude stability 0.02 deg/s\n\nTable 3.2 Test Accuracy Specifications\n\nContent Technical Specifications\n\nControl method Earth-directional three-axes stabilized attitude\nAttitude determination accuracy 0.02 degree\nAttitude control accuracy Better than 1 degree\nAttitude stability Better than 0.01 deg/s\n\n3.3 Micro/Nano Satellite Attitude Control System 87\n\n\n\n4. Information collection module. Gathering information about the\nsystem hardware and software, and sent to ground along with software\ninformation, which will be used to determine the working status of the\nADCS subsystem.\n\nThe relationship between the four functional modules shown in Fig. 3.1.\n\n3.3.3.2 Operating Modes\nThe NS-2 satellite\u2019s ADCS control software has three operating modes: oper-\nating mode 1, operating mode 2, and operating mode 3. The specific mean-\nings of these three operating modes are as follows:\n\n? Operating mode 1: Attitude determination mode and control mode of\nthe ADCS control software are remotely selected by the ground station;\n\n? Operating mode 2: The ADCS control software independently selects\nthe attitude determination mode and the control mode in accordance\nwith certain conditions;\n\n? Operating mode 3: Attitude determination mode of the ADCS control\nsoftware is remotely selected by the ground station, the control law\ndoes not run, and the instructions for the momentum wheel speed and\nmagnetorquer\u2019s duty cycle are remotely determined by the ground\nstation.\n\n3.3.3.3 Task Stages\nSince the NS-2 satellite needs to complete in-orbit testing tasks of the star\nsensor, sun sensor, and MIMU, this simulation system was designed in two\ntask stages. The first stage lets the satellite achieve Earth-directional three-axes\nstabilized attitude, complete in-orbit tests of payloads. In the second stage,\naccording to the results of in-orbit tests, the control circuit has access to\n\nCommand \nprocessing\n\nmodule\n\nInformation\ncollection module\n\nAttitude\ndetermination\n\nmodule\n\nAttitude\ncontrol module\n\nFIGURE 3.1\nControl software of the NS-2 satellite\u2019s ADCS subsystem.\n\n88 CHAPTER 3: Att i tude Determination and Control System\n\n\n\npayloads which work properly, to achieve Earth-directional three-axes stabi-\nlized attitude or observation target directional attitude.\n\n3.4 SOFTWARE DESIGN OF THE ATTITUDE\nDETERMINATION MODULE AND ATTITUDE\nCONTROL MODULE\n\n3.4.1 Software Design of the Attitude Determination Module\nThe basic attitude component of the NS-2 satellite is a magnetometer. The\nfunction of the attitude determination module is to collect the magnet-\nometer\u2019s measurement information and make corresponding filter calcula-\ntions to determine the satellite\u2019s current attitude and angular rates, providing\nthe basis for attitude control. Different control modes will use different filters\nto determine the satellite attitude.\n\nThe software process of the attitude determination module is shown in\nFig. 3.2.\n\n3.4.1.1 Rate Filter\nThe rate filter is used to estimate the angular rate of the satellite. It uses the\nmagnetometer\u2019s measurement data (strength of magnetic field in the satellite\nbody coordinate system: Bm) as input and has the characteristics of\nstable operation. As the accuracy requirement for the rate filter is not very high,\nit is not necessary to introduce the disturbing moment in the state equation.\nThe rate filter is used to estimate the satellite\u2019s three-axes angular rate (projec-\ntion of inertial angular rate in the satellite body coordinate system). The state\nvector (inertial angular rate) and the kinetic equation of the satellite are:\n\nX5?5 ?x ?y ?z ?T\n? \u00f03:34\u00de\n\nI _?bi 1 \u00bd?bi 3 ?\u00f0I?bi 1 h\u00de5T2 _h \u00f03:35\u00de\nUsing the spindle coordinate system, the satellite kinetic equation can be\nexpanded as follows (only control torque of MT and MW are considered, the\ndisturbance torque is negligible):\n\n_?bi1 5\nIy 2 Iz\nIx\n\n?bi2?bi3 1\nTx\nIx\n\n1\nhy\nIx\n?bi3\n\n_?bi2 5\nIz 2 Ix\nIy\n\n?bi3?bi1 1\nTy\nIy\n\n2\n_hy\nIy\n\n_?bi3 5\nIx 2 Iy\nIz\n\n?bi1?bi2 1\nTz\nIz\n\n2\nhy\nIz\n?bi1\n\n8>>>>>>>>>><\n>>>>>>>>>>:\n\n\u00f03:36\u00de\n\n3.4 Software Design of the Attitude Determination Module and Attitude Control Module 89\n\n\n\nThe observation vector\u2019s value of the rate filter is the difference between the\ntwo adjacent magnetometer measurement values. The current magnetometer\nmeasurement value and the previous magnetometer measurement value are\ndenoted by B, Bprev, the observation vector is:\n\nZ5B2Bprev 5\nBx 2Bprev x\nBy 2Bprev y\nBz 2Bprev z\n\n2\n4\n\n3\n5 \u00f03:37\u00de\n\nThe observation equation is the conversion equation of the geomagnetic vec-\ntor B between the two coordinate systems (the orbital coordinate system and\n\nEntry\n\nEffective sampling period? Back\n\nMM check is correct?\n\nMT torque estimate\n\nswitch(Filter)\n\nRateFilter\n\nPitchFilter\n\nRateFilter+PitchFilter\n\nPitchFilter+OakFilter\n\nOakFilter\n\ncase 1\n\ncase 2\n\ncase 3\n\ncase 4\n\ncase 5\n\nBack\n\nBack\n\nBack\n\nBack\n\nSS check is correct?\n\nST check is correct?\n\ncase 6\n\ncase 7\nST Filter\n\nMM+SS Filter\n\nFIGURE 3.2\nSoftware process of the attitude determination module.\n\n90 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nthe satellite body coordinate system). During the sampling period T, the sat-\nellite rotates from the original attitude to the current posture. In the period\nT, the angular rate of the satellite is denoted by ?5 \u00bd?x ?y ?z?, rotation\nangle is denoted by ?5 \u00bd?x ?y ?z?, and the transformation matrix\nbetween two coordinate systems rotating before and after is denoted by A.\nThere following is the transforming relationship:\n\nB2Bprev 5 \u00f0A2 I\u00deBprev\n\n5\n\n0 ?z?T 2?y?T\n\n2?z?T 0 ?x?T\n\n?y?T 2?x?T 0\n\n2\n664\n\n3\n775\n\nBpx\n\nBpy\n\nBpz\n\n2\n664\n\n3\n775\n\n5\n\n0 2Bpz?T Bpy?T\n\nBpz?T 0 2Bpx?T\n\n2Bpy?T Bpx?T 0\n\n2\n664\n\n3\n775\n\n?x\n\n?y\n\n?z\n\n2\n664\n\n3\n775\n\n5HX\n\n\u00f03:38\u00de\n\nEq. (3.38) is the observation equation of the system.\n\nBy linearizing the state equation, we obtain transfer matrix of the system:\n\n?5\n\n1\nIy 2 Iz\nIx\n\n?z\n\n0\n@\n\n1\nA?T Iy 2 Iz\n\nIx\n?y 1\n\nhy\nIx\n\n0\n@\n\n1\nA?T\n\nIz 2 Ix\nIy\n\n?z\n\n0\n@\n\n1\nA?T 1 Iz 2 Ix\n\nIy\n?x\n\n0\n@\n\n1\nA?T\n\nIx 2 Iy\nIz\n\n?y 2\nhy\nIz\n\n0\n@\n\n1\nA?T Ix 2 Iy\n\nIz\n?x\n\n0\n@\n\n1\nA?T 1\n\n2\n6666666666664\n\n3\n7777777777775\n\n\u00f03:39\u00de\n\nAfter obtaining the above state space of the system, the filter calculation can\nbe made in accordance with the generic algorithm of the extended Kalman\nfilter (Fig. 3.3).\n\n3.4.1.2 Pitch Filter\nPitch filter is used to estimate the satellite\u2019s pitch angle and pitch angular\nrate. It uses three parameters as input: the magnetometer\u2019s measurement data\n(in the satellite body coordinate system), reference magnetic field strength\nvalue (in the orbital coordinate system) calculated from the IGRF model\naccording to current orbital parameters, and control torque in the pitch axis\ndirection from MT and MW.\n\nIn a rotating object, its moment of inertia for rotation of a rod about this\naxis is denoted by I, the torque of the object received is denoted by T, the\n\n3.4 Software Design of the Attitude Determination Module and Attitude Control Module 91\n\n\n\nobject\u2019s initial angular rate about the axis is denoted by ?0, and angular rate\nat time t is denoted by ?t . Therefore:\n\n?t 5?0 1\nT\nI\n\u00f0t2 t0\u00de \u00f03:40\u00de\n\nThe object\u2019s average angular rate is denoted by ?, the initial angle about the\naxis is denoted by ?0, and angle at time t is denoted by ?t , therefore:\n\n?t 5 ?0 1?\u00f0t2 t0\u00de \u00f03:41\u00de\n\nFIGURE 3.3\nAlgorithmic process of the MM attitude filter.\n\n92 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nAccording to Eq. (3.41), the pitch angular rate ?y and the pitch angle ? of\nthe satellite can be calculated as follows:\n\n?y\u00f0k\u00de5?y\u00f0k2 1\u00de1\nTm 1Tw\n\nIy\nT\n\n?\u00f0k\u00de5 ?\u00f0k21\u00de1 1\n2\n\n?y\u00f0k\u00de1?y\u00f0k2 1\u00de\n? ?\n\nT\n\n8>>><\n>>>:\n\n\u00f03:42\u00de\n\nThe magnetic field vector in the orbital coordinate system and the satellite\nbody coordinate system are denoted by Bo and Bb, respectively, giving the fol-\nlowing relationship:\n\nBb 5AboBo \u00f03:43\u00de\nwhere Abo is the attitude matrix of the satellite.\n\nAbo 5\ncos? 2sin?\nsin? cos?\n\n? ?\n\u00f03:44\u00de\n\nAfter expanding and transposing the formula above, we obtain\n\n?5 arctan\nBozBbx 2BoxBbz\nBoxBbx 1BozBbz\n\n? ?\n\u00f03:45\u00de\n\nFrom the analysis above, the algorithmic process of the pitch filter is as\nfollows:\n\nEstimating pitch angular rate\n\n?y\u00f0k\u00de5?y\u00f0k21\u00de1\nTm 1 Tw\n\nIy\nT \u00f03:46\u00de\n\nEstimating pitch angle\n\n?\u00f0k\u00de5 ?\u00f0k2 1\u00de1 1\n2\n\n?y\u00f0k\u00de1?y\u00f0k21\u00de\n? ?\n\nT \u00f03:47\u00de\n\nCalculating correction value\n\n?correct\u00f0k\u00de5 arctan\nBoz\u00f0k\u00deBbx\u00f0k\u00de2Box\u00f0k\u00deBbz\u00f0k\u00de\nBox\u00f0k\u00deBbx\u00f0k\u00de1Boz\u00f0k\u00deBbz\u00f0k\u00de\n\n? ?\n2 ?\u00f0k\u00de \u00f03:48\u00de\n\nRegulating the correction value\n\n?correct\u00f0k\u00de5 arctan\nsin?correct\u00f0k\u00de\ncos?correct\u00f0k\u00de\n\n? ?\n\u00f03:49\u00de\n\nCorrecting estimated value\n\n?y\u00f0k\u00de5?y\u00f0k\u00de1 k1?correct\n?\u00f0k\u00de5 ?\u00f0k\u00de1 k2?correct\n\n(\n\u00f03:50\u00de\n\n3.4 Software Design of the Attitude Determination Module and Attitude Control Module 93\n\n\n\nRegulating the pitch angle\n\n?\u00f0k\u00de5 arctan sin?\u00f0k\u00de\ncos?\u00f0k\u00de\n\n? ?\n\u00f03:51\u00de\n\n3.4.1.3 MM Attitude Filter\nThe MM attitude filter can simultaneously estimate the attitude angles and\nangular rates of the satellite. Taking into account the advantage of quaternion\nin numerical calculation, we choose to use quaternion to represent the satel-\nlite\u2019s attitude. Therefore, the state vector of the system is composed of the\nattitude quaternion and the attitude angular rates:\n\nX5 qbo ?bi ?T 5 qbo1 qbo2 qbo3 qbo4 ?bi1 ?bi2 ?bi3 ?T\n?? \u00f03:52\u00de\n\nThe kinetic equation of the satellite is:\n\nI _?bi 1 \u00bd?bi 3 ?\u00f0I?bi 1 h\u00de5 T2 _h \u00f03:53\u00de\nThe kinematic equation is:\n\n_qbo 5\n1\n2\n?\u00f0?bo\u00deqbo \u00f03:54\u00de\n\nAccording to Eqs. (3.53) and (3.54) and the defined state vector of the sys-\ntem, we obtain the state equation of the system:\n\n_qbo 5 0:5 ?\u00f0?bo\u00deqbo\n_?bi 5 I21\u00bdT2 h\u00bd?bi 3 ?\u00f0I?bi 1 hw\u00de?\n\n(\n\u00f03:55\u00de\n\nwherein, ??bo can be obtained by computing ??bo 5 ??bi 1A\u00f0q?bo\u00de?ooi, and we can\nassign the magnetometer measurement value Bb to the observation vector of\nthe system. Then the observation equation of the system is a conversion\nequation of the geomagnetic vector between the two coordinate systems (the\norbital coordinate system and the satellite body coordinate system).\n\nBb 5Abo\u00f0qbo\u00deBo 5 h\u00bdX; t? \u00f03:56\u00de\nHere, the matrix H is derived as follows:\n\nV?\nb\n5A\u00f0q?\u00deV r\n\nVbmeas 5A\u00f0q?1 ?q\u00deV r 1?\n.\n\n(\n\nz5Vbmeas 2 V?\nb\n5\n\n@A\u00f0q\u00de\n@q1\n\nV r ;\n@A\u00f0q\u00de\n@q2\n\nV r ;\n@A\u00f0q\u00de\n@q3\n\nV r ;\n@A\u00f0q\u00de\n@q4\n\nV r\n\n2\n4\n\n3\n5?q1 v.\n\nz5H?x1 v;H5\n@A\u00f0q\u00de\n@q1\n\nV r ;\n@A\u00f0q\u00de\n@q2\n\nV r ;\n@A\u00f0q\u00de\n@q3\n\nV r ;\n@A\u00f0q\u00de\n@q4\n\nV r ; 0333\n\n2\n4\n\n3\n5\n\nA\u00f0q?1 ?q\u00de ? A\u00f0q?\u00de1 @A\u00f0q\u00de\n@q1\n\n;\n@A\u00f0q\u00de\n@q2\n\n;\n@A\u00f0q\u00de\n@q3\n\n;\n@A\u00f0q\u00de\n@q4\n\n2\n4\n\n3\n5?q\n\n\u00f03:57\u00de\n\n94 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nAccording to the system state model identified above, we get the whole algo-\nrithmic process of MM attitude filter as shown in Fig. 3.3.\n\n3.4.1.4 MM1SS Attitude Filter\nThe MM1 SS attitude filter can simultaneously estimate the attitude angles\nand angular rates of the satellite. Here we use the same state variable and the\nsame kinetic model as in the MM attitude filter. Assigning the magnetometer\nmeasurement value Bb and the sun sensor\u2019s measurement value Db to the\nobservation vector of the system, the observation equation of the system is a\nconversion equation of the geomagnetic vector and sun vector between the\ntwo coordinate systems (the orbital coordinate system and the satellite body\ncoordinate system).\n\nTheoretical derivation of the magnetometer\u2019s H matrix can be seen in\nSection 3.4.1.3, the derivation of sun sensor\u2019s H matrix is similar to the mag-\nnetometer\u2019s H matrix.\n\n3.4.1.5 ST Attitude Filter\nThe status update section of the ST attitude filter is similar to the MM atti-\ntude filter. For the measurement update, the measurement equation is:\n\nZbostt 5 ?qbo 1 v \u00f03:58\u00de\nwhere, Zbostt 5 q?bo\n\n21 ? q?oi\n21 ? qmeas.\n\nOn the other hand, the best estimate of the difference between the measure-\nments does not need to be cut off, which is H5 eye\u00f04\u00de.\n\n3.4.2 Attitude Control Module\nThe satellite attitude control system hardware is composed of an attitude sen-\nsor, control computer, and actuator, while the software includes an attitude\ndetermination algorithm and control law calculation. As the core part of a\nNanosatellite, its technological development plays a key role in improving\nmicrosatellite developing level. In order to enhance structure reusability,\nNanosatellites tend to adopt an integrated design at present, with close con-\nnection between the attitude control system and other subsystems.\nSimultaneously, new technologies and devices are introduced to achieve high\naccuracy, low power consumption, and miniaturization.\n\nThis section gives detailed design and simulation of the attitude control\nsystem [18?21] based on the NS-2 Nanosat\u2019s flight mission and design\nindices.\n\n3.4 Software Design of the Attitude Determination Module and Attitude Control Module 95\n\n\n\n3.4.2.1 Magnetorquer Control Module\n1. Nutation damping\n\nIf the triaxial magnetorquer of the satellite is produced according to\nthe following formula\n\nM52K _B \u00f03:59\u00de\nthen the function of nutation damping can be achieved. \u201cK\u201d in this\nformula is a constant greater than zero. Generally, K takes large values\nbecause magnetorquers usually work in a saturated state in the rate-\ndamp mode. Each axis component of the geomagnetic field in the\nsatellite system can be obtained from a direct difference method:\n\n_Bi 5\nBi\u00f0k\u00de2Bi\u00f0k2 1\u00de\n\nT\n\u00f03:60\u00de\n\nThe damping control algorithm in the above representation has a low\namount of calculation required and fast convergence speed, which\napplies to the despun stage after satellite?launcher separation.\nHowever, this algorithm is directly affected by measurement noise\nfrom each axis magnetometer, which leads to low control accuracy. To\nenhance control accuracy, the angle between each magnetic component\nand the magnetic field can be determined at first\n\n?i 5 arccos\nBiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\nB2x 1B\n2\ny 1B\n\n2\nz\n\nq \u00f0i5 x; y; z\u00de: \u00f03:61\u00de\nThe derivative of ?i is\n\n_?i\u00f0k\u00de5\n?i\u00f0k\u00de2?i\u00f0k21\u00de\n\nT\n\u00f03:62\u00de\n\nAnd the control law is given by\n\nM52K _?i \u00f03:63\u00de\nwhere K is a constant greater than zero. This can reduce the effects of\nmagnetometer noise and improve control accuracy.\n\nRemark: B dot is different from B product. B product needs\ninformation about angular velocity while the control objective of B dot\nis to keep triaxial angular velocity at 0.\n\n2. Pitch axis vortex\nIf the reference angular rate of the satellite\u2019s pitch axis is ?y and the\n\nactual angular rate is ?0y, the angular rate error is defined by\n\n??y 5?0y 2?y \u00f03:64\u00de\n\nThe angular rate of the satellite\u2019s pitch axis can be controlled by the\nfollowing formula\n\n96 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nMz 5 Sign\u00f0Bx\u00deK??y \u00f03:65\u00de\n\nor\n\nMx 5 Sign\u00f0Bz\u00deK??y: \u00f03:66\u00de\n\nMagnetorquer control in the momentum wheel spinning process is\ndefined as\n\ne5\nex\ney\nez\n\n2\n4\n\n3\n55 0kdy\u00f0?2?0\u00de\n\n0\n\n2\n4\n\n3\n5 \u00f03:67\u00de\n\nAnd the output of the magnetic momentum is\n\nM5bb 3 e \u00f03:68\u00de\nAfter the three-axes stabilized y bias momentum wheel starts spinning\n(which means unloading saturation in the y direction), the control\nerror of the three-axes magnetorquer is defined as\n\ne5\nex\ney\nez\n\n2\n4\n\n3\n55 kdx?x 1 kpz?kdy\u00f0?2?0\u00de\n\nkdz?z 1 kpx?\n\n2\n4\n\n3\n5 \u00f03:69\u00de\n\nwhere k represents the control coefficient, ?;?0 are actual and rated\nspeed of the momentum wheel, ? is yaw, ? is pitch, and ? is roll.\nThe normalized vector of the geomagnetic field under the satellite\u2019s\ncoordinate system is bb and the control law of three-axes\nstabilization is\n\nM5bb 3 e \u00f03:70\u00de\nRemark: for the control mode of MT, the torque needs to be calculated\nat first (which is supposed to be in a negative direction). Then, the\nmagnetic momentum is given by M5bb 3 e where y wheel\ndeceleration takes the same control as in the preceding part and ?0\n\nis set differently.\nZero-momentum controls yields (three-axes magnetorquer unloads\n\nthree-axes wheel):\n\ne5\nex\ney\nez\n\n2\n4\n\n3\n55 hxhy\n\nhz\n\n2\n4\n\n3\n55 Jhx?hxJhy?hy\n\nJhz?hz\n\n2\n4\n\n3\n5 \u00f03:71\u00de\n\nRemark: unloading the momentum wheel means controlling the\npredetermined angular momentum (angular velocity) of the\nmomentum wheel (Fig. 3.4).\n\n3.4 Software Design of the Attitude Determination Module and Attitude Control Module 97\n\n\n\n3.4.2.2 Control Module of the Momentum Wheel\n1. Bias momentum state\n\nThe momentum wheel is used for controlling the attitude and angular\nrate of the satellite\u2019s pitch plane. Letting pitch angular rate and pitch\nangle of the body be ?y and ?, the demanded control momentum is\ncalculated as\n\nM5 kp?1 kd?y \u00f03:72\u00de\n\nwhere kp; kd are control coefficients.\nThe momentum wheel of the NS-2 Nanosatellite is under speed\n\ncontrol mode. The demanded increment of rotational speed can be\nderived from Eq. (3.72)\n\n??5\nMU?T\n\nJ\n5\n\n\u00f0kp?1 kd?y\u00deU?T\nJ\n\n\u00f03:73\u00de\n\nwhere ?T is the sampling period. The control instruction of the\nmomentum wheel is\n\n?5?prev 1?? \u00f03:74\u00de\n\nwhere ?prev is the previous control instruction of rotational speed.\nThe flow chart of the momentum wheel control module is illustrated\n\nin Fig. 3.5\n2. Zero-momentum state\n\nLet the Euler angular rate and angle of the body be ?x;?y;?z and\n?x; ?y; ?z. The demanded control momentum is calculated as\n\nEntrance\n\nChoose control law based on control mode\n\nPut amplitude restriction on control instruction\n\nGenerate actual pulse width control instruction\n\nReturn\n\nFIGURE 3.4\nFlow chart of MT control module.\n\n98 CHAPTER 3: Att i tude Determination and Control System\n\n\n\ne5\nex\ney\nez\n\n2\n4\n\n3\n55 kdx?x 1 kpx?xkdy?y 1 kpy?y\n\nkdz?z 1 kpz?z\n\n2\n4\n\n3\n5 \u00f03:75\u00de\n\n3.5 NS-2 NANO SATELLITE ADCS SUBSYSTEM\nSIMULATION\n\nAfter the ADCS subsystem design is complete, mathematical simulation is\nrequired to verify its correctness, control accuracy, control stability, and sta-\nbility of the main control software. The environmental torque acting on the\nsatellite in simulation is almost the same as the actual environmental torque\nwhere the body is located.\n\nThe relevant parameters in simulation are shown in Table 3.3.\n\n3.5.1 Control Mode 1\nAfter the separation of the satellite and the carrier (or without attitude control\nfor a long time), three axes have a certain angular rate and attitude will also be\nin a random state. According to the carrier information provided by the satel-\nlite system, here it is assumed that the stars triaxial angular rates are 24 deg/s\nand attitude angles are 40 degrees when the attitude control starts. According\nto flight procedures of the NS-2 satellite ADCS subsystem, the ADCS subsys-\ntem should first enter control mode 1. Mode 1 is used to control the angular\nrate of the satellite X-axis and Z-axis by damping, so that the angular rates of\nthe two axes are small enough to enter the next control mode. Control mode\n\nEntrance\n\nSolve demanded control momentum\n\nTorque control is transformed into rotational speed control\n\nPut amplitude restriction on rotational speed control\n\nReturn\n\nFIGURE 3.5\nFlow chart of the MW control module.\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 99\n\n\n\n1 may last the time period from 0 to 15,000 seconds. The curves of the satel-\nlite orbital angular rate and three-axes magnetic torque output during this\ntime are shown in Figs. 3.6 and 3.7, respectively.\n\nThe control cycle of this mode is 1 second.\n\nAs shown in the satellite angular rate curve (Fig. 3.6), control mode 1 can\neffectively dampen the angular rates of satellite X-axis and Z-axis, so that the\nrates are reduced to near zero, to create a good state for entering the next\ncontrol mode. Therefore, control mode 1 is correct and effective.\n\nControl mode 1 only dampens angular rates of the X-axis and, Z-axis, while\nthe Y-axis angular rate is uncontrolled. When the angular rates of the X-axis\n\nTable 3.3 Relevant Parameters in Simulation of the NS-2 Nano Satellite\n\nOrbit altitude 600 km\nAtmospheric density(600 km) 2.94310213 kg/m3\n\nAerodynamic drag coefficient 2.5\nProperties of the satellite Inertia of the satellite I [0.696 0.696 0.551] kg/m2\n\nMaximum moment of MT 0.7 Am2\n\nInertia of MW J 1.3431024 kg/m2\n\nMaximum moment of MW 6.73 1025 Nm\nDistance between pressure center and centroid 0.04 m\nRemanent magnetism 0.005 Am2\n\nReflection coefficient on surface ?5 0.6\nEnvironment torque Atmospheric resistance torque Fixed value [0.1 1.6 1.0]3\n\n1027 Nm\nSolar pressure torque Fixed value [5.6 5.6 5.6]3\n\n1028 Nm\nGeomagnetic torque Actual simulation\nGravity gradient torque Actual simulation\nTotal torque after stabilizing (3?) X-axis (22B3)31027 Nm\n\nY-axis (21B5)31027 Nm\nZ-axis (0B3)3 1027 Nm\n\nEarth\u2019s magnetic field Space environment simulation Earth\u2019s main magnetic field\ntakes 93 9 order (ignoring\nexternal magnetic field)\n\nSolving ADCS magnetic field Earth\u2019s main magnetic field\ntakes 63 6 order (ignoring\nexternal magnetic field)\n\nInitial conditions Initial angular rate (deg/s) [2 4, 24, 24]\nInitial attitude (degree) [40, 40, 40]\n\nMM noise Constant bias 0.1 uT\nRandom noise (3?) 0.4 uT\n\n100 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nFIGURE 3.6\nSatellite orbit angular rate of control mode 1 (deg/s).\n\nFIGURE 3.7\nThree-axes magnetic torque output of control mode 1 (Am2).\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 101\n\n\n\nand Z-axis dampen to near zero, the Y-axis angular rate will be maintained at\na substantially constant value (this may also be near a value of zero).\n\nAs shown in the Y-axis magnetic torque output curve (Fig. 3.7), during the\ndamping process in control mode 1 for damping of the angular rates of X-\naxis and Z-axis, the Y-axis magnetic moment is basically working at full\ncapacity, demanding a large power supply. In this mode, the X-axis magnetic\nmoment does not work and the magnetorquer of the Z-axis starts from\n10,500 seconds later.\n\n3.5.2 Control Mode 2\nAfter the process of control mode 1, the angular velocity of the X-axis and\nZ-axis has already been damped to near zero. But at this moment, the angu-\nlar rate and direction of the Y-axis will be in a random state, so the satellite\nattitude is still not captured. Control mode 2 is used to establish a rough Y\nThomson gesture for the satellite. The control process is to make the satellite\nrotate around the Y-axis while continuing to dampen the angular rate of the\nX-axis and Z-axis at the same time. Here the rotation around the Y-axis has\ntwo purposes: First, to process the astral Y-axis to a position which is perpen-\ndicular to the orbital plane; second, to reserve angular momentum for\nabsorbing disturbing moment when the momentum wheel starts. The cycle\nof this mode control is 1 second.\n\nAfter control mode 2, the angular velocity of the Y-axis should be in the\nvicinity of a predetermined value, angular rates of X-axis and Z-axis are still\nabout zero and the Y-axis should be in an approximately vertical posture to\nthe track surface.\n\nThe period of control mode 2 in the simulation lasts from 15,000 to\n19,000 seconds. The satellite angular rate curve for this mode is shown in\nFig. 3.8. The triaxial magnetic torque output curve is shown in Fig. 3.9.\n\nAs shown in the satellite angular velocity curve (Fig. 3.8), as long as the con-\ntrol mode 1 establishment can achieve the expected control objectives, con-\ntrol mode 2 will be able to successfully complete the task: to make the\nsatellite rotate around the axes in a predetermined speed; to dampen angular\nrates of X-axis and Z-axis to remain near zero; to make the satellite Y-axis be\napproximately perpendicular to the orbital plane. These preparations make it\nready for the momentum wheel to start working. Therefore, control mode 2\nis correct and effective.\n\nAs shown in the magnetic torque output curve for the Y-axis (Fig. 3.9), in\ncontrol mode 2, the magnetic moment of the Y-axis and Z-axis is essentially\nat full capacity, demanding great electrical power. In this mode, the X-axis\nmagnetic moment does not work.\n\n102 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nFIGURE 3.8\nSatellite angular velocity curve of control mode 2 (deg/s).\n\nFIGURE 3.9\nThree-axes magnetic torque output curve of control mode 2 (Am2).\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 103\n\n\n\n3.5.3 Control Mode 3\nIn control mode 2, the satellite Y-axis is already approximately perpendicular\nto the orbital plane and the angular rate of the Y-axis also remains in the\nvicinity of a predetermined value. Then the satellite can enter control mode 3\nand the momentum wheel starts to work. When the momentum wheel is\nmaintained near the rated speed (2800 rpm) and the triaxial angular rate of\nthe satellite remains near zero, control mode 3 is completed. The cycle of\nthis mode control is 1 second.\n\nThe period of control mode 3 in the simulation lasts from 19,000 to\n20,000 seconds. The satellite angular rate curve of this mode is shown in\nFig. 3.10; the three-axes magnetic torque output curve is shown in Fig. 3.11;\nand the speed curve of the momentum wheel is shown in Fig. 3.12.\n\nAs shown in the satellite angular velocity curve (Fig. 3.10), during the start\nprocess of the momentum wheel, the nutation of the Y-axis increases signifi-\ncantly. However, due to the short time of this process and the damping of\nY-axis magnetic torquer, the Y-axis can still keep approximately vertical pos-\nture with the track surface.\n\nAs shown in the speed curve of the momentum wheel (Fig. 3.11), the\nmomentum wheel can increase the speed to the rating speed stably and\nremain in the vicinity of the rating speed.\n\nTherefore control mode 3 is correct and effective.\n\nFIGURE 3.10\nSatellite angular rate curve of control mode 3 (deg/s).\n\n104 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nFIGURE 3.11\nThree-axes magnetic torque output curve of control mode 3 (Am2).\n\nFIGURE 3.12\nSpeed curve of the momentum wheel of control mode 3 (rpm).\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 105\n\n\n\n3.5.4 Control Mode 4\nAfter control mode 3, the satellite three-axes angular rates are about zero, the\nY-axis is approximately perpendicular to the orbital plane, and the momen-\ntum wheel has been maintained in the vicinity of the rated speed. At this\nmoment, the satellite can enter control mode 4\u2014the stabilized mode for\nbias momentum state of Y wheel to the oriented three axes.\n\nIn control mode 4, the Y wheel works under the polarization momentum\nstate to control the attitude of the pitch axis; Y-axis magnetic torque is used\nto control the attitude of the X-axis and Z-axis; magnetorquers of the X-axis\nand Z-axis are used to unload the momentum wheel, preventing lost control\ndue to saturation. The control cycle of this mode is 10 seconds.\n\nThe period of control mode 4 in the simulation lasts from 20,000 to 47,000 sec-\nonds. The satellite three-axes attitude angle curve of this mode is shown in\nFig. 3.13; the three-axes orbital angular velocity curve is shown in Fig. 3.14; the\nspeed curve of the momentum wheel is shown in Fig. 3.15; and the three-axes\nmagnetic torque output curve is shown in Fig. 3.16.\n\nFIGURE 3.13\nThree-axes attitude angle curve in the control mode of the Y wheel bias momentum (degree).\n\n106 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nFIGURE 3.14\nThree-axes orbital angular velocity curve in the control mode of the Y wheel bias momentum (deg/s).\n\nFIGURE 3.15\nSpeed curve of the Y wheel in control mode 4 (rpm).\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 107\n\n\n\nAs shown in the three-axes attitude angle curve (Fig. 3.13), the three-axes atti-\ntude control accuracy of the NS-2 satellite in this control mode is better than\n3 degrees.\n\nAs shown in the three-axes attitude angle rate curve (Fig. 3.14), the three-axes\nattitude angular rate of the NS-2 satellite in this control mode is less than\n0.01 deg/s.\n\nAs shown in the speed of the Y wheel (Fig. 3.15), under the influence of dis-\nturbance torque, the speed of the momentum wheel is always changing;\nhowever the magnetorquer keeps unloading the momentum wheel, so the\nrotational speed of the Y wheel decreases steadily, so that the satellite can\ncomplete a smooth transition from the bias momentum operating state of\nthe wheel Y to reaction wheel state of the Y wheel while the ground three-\naxes state remains at a relatively stable situation, providing the conditions for\nthe X-axis and Z-axis reaction wheel to start.\n\n3.5.5 Control Mode 5\nAfter control mode 4, the satellite has been working in the three-axes stabi-\nlized mode and the stability of three axes has been able to achieve the gen-\neral technical requirements, however the attitude determination and control\naccuracy of three-axes stabilization do not meet the general requirements,\n\nFIGURE 3.16\nThree-axes magnetic torque output curve in control mode 4 (Am2).\n\n108 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nwhile the speed of the Y wheel has been reduced to 500 rpm, providing suffi-\ncient preparations for the X, Y, Z wheel to work round the zero-momentum\ncontrol state.\n\nThe period of control mode 5 in the simulation lasts from 47,000 to\n100,000 seconds. The satellite three-axes attitude angle curve of this control\nmode is shown in Fig. 3.17; the estimation error curve of the three-axes atti-\ntude is shown in Fig. 3.18; the angular velocity curve of the three-axes orbital\nis shown in Fig. 3.19; the speed curve of the momentum wheel is shown in\nFig. 3.20; and the three-axes magnetic torque output curve is shown in\nFig. 3.21.\n\nAs shown in the three-axes attitude angle curve (Fig. 3.17), in this control\nmode, three-axes attitude control accuracy of the NS-2 satellites is better than\n1 degree, meeting the overall performance requirements.\n\nAs shown in the measurement error curve of three-axes attitude (Fig. 3.18),\nin this control mode, measurement error of the NS-2 satellite-axis attitude is\nless than 6 0.003 (3?), meeting the overall requirement index.\n\nAs shown in the angle rate curve of the three-axes attitude (Fig. 3.19), in this\ncontrol mode, the three-axes attitude angular rate of NS-2 satellites is less\nthan 0.01 deg/s, meeting the overall requirement index.\n\nFIGURE 3.17\nThree-axes attitude angle curve in control mode 5 (degree).\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 109\n\n\n\nFIGURE 3.18\nEstimation error curve of the three-axes attitude in control mode 5 (degree).\n\nFIGURE 3.19\nAngular velocity curve of the three-axes orbital in control mode 5 (deg/s).\n\n110 CHAPTER 3: Att i tude Determination and Control System\n\n\n\nFIGURE 3.20\nSpeed curve of the X, Y, Z wheel in control mode 5 (rpm).\n\nFIGURE 3.21\nMagnetic torque output curve in control mode 5 (Am2).\n\n3.5 NS-2 Nano Satellite ADCS Subsystem Simulation 111\n\n\n\nAs shown in the speed of momentum wheel (Fig. 3.20), due to the effects of\ndisturbance torque, the rotational speed of the momentum wheel is always\nchanging; however the magnetorquer keeps unloading the momentum\nwheel, therefore the speed of the momentum wheel is always maintained\nnear the rated speed without saturation.\n\n3.5.6 Simulation Conclusions\nThe simulation results of the various control modes are summarized in\nTables 3.4 and 3.5.\n\nThe following conclusions can be obtained from the above simulation\nresults:\n\n? The magnetorquer of the NS-2 satellite mission is capable of various\ncontrol modes;\n\n? The momentum wheel of the NS-2 satellite is capable of carrying out\nthe attitude control task. This mainly refers to two aspects: First, to\nprovide sufficient bias momentum to enable fixed axis character of the\nsatellite pitch axis; the second is when the magnetic torque is unloaded,\nthe angular momentum is sufficient to absorb the disturbance of the\npitch channel of the satellite, in order to ensure the control accuracy of\nthe pitch channel;\n\nTable 3.4 Torque Simulation Results of the NS-2 Satellite Under Normal\nCircumstances\n\nControl Mode Control Cycle (s)\n\nControl Results (3?)\n\nAngular Rate (deg/s) Attitude (degree)\n\n1 1 6 0.1\n\n6 0.1\n2 1 6 0.1 6 3\n\n266 0.1\n6 0.1 6 3\n\n3 1 6 0.05 6 3\n6 0.02 6 1\n6 0.05 6 3\n\n4 10 6 0.02 6 1\n20.05 to 20.07 0B2\n6 0.01 0B2\n\n5 10 6 0.003 6 0.2\n20.006 to 20.0065 0B0.05\n6 0.0025 20.1B0.4\n\n112 CHAPTER 3: Att i tude Determination and Control System\n\n\n\n? The control accuracy and stability of the ADCS subsystem for the NS-2\nsatellite are fully able to meet the design specifications and general\nrequirements;\n\n? Each control mode of the ADCS master control software for the NS2\nsatellite can perform its function and achieve the intended purpose,\nproviding favorable conditions for the next control mode;\n\n? The ADCS master software of the NS-2 satellite can run for a long time\nand has good robust stability.\n\nReferences\n[1] T. Li, Study on Microsatellite Magnetic Attitude Control and Three Axis Passivity\n\nStabilization, National University of Defense Technology, Changsha, 2002.\n\n[2] Y. Guo, Study on Bias Momentum Micro-Satellite Attitude Control System, Nanjing\nUniversity of Astronautics, Nanjing, 2008.\n\n[3] Y. Xie, Study on Micro-Satellite Attitude Control System, Nanjing University of\nAstronautics, Nanjing, 2007.\n\n[4] Y. Yang, Magnetic Control System on Small Satellite Design Simulation, National Space\nScience Center, CAS, Beijing, 2006.\n\n[5] L. Bo, Study on the Attitude Determination and Control System of Three Axis Stabilized\nSatellite, Northwestern Polytechnical University, Xi'an, 2001.\n\n[6] Z. Wang, The Attitude Control System Design and Simulation of Microsatellite, Nanjing\nUniversity of Astronautics, Beijing, 2007.\n\n[7] L. Liu, Simulation Technology of Control System of Satellite, China Astronautic Publishing\nHouse, Beijing, 2003.\n\n[8] S. Tu, Satellite Attitude Dynamics and Control, China Astronautic Publishing House,\nBeijing, 2006.\n\n[9] J. Yu, Technology and Application of Modern Small Satellite. 2004, Shanghai Science\nPopularity Press, Shanghai.\n\n[10] R. Zhang, Dynamics and Control of Satellite Orbit and Attitude, Beihang University Press,\nBeijing, 1998.\n\n[11] H. Du, Z. Ye, Handbook for Space Environment of Low Earth Orbit Spacecraft, National\nDefense Industry Press, Beijing, 1996.\n\n[12] X. Xu, Development of the Simulation Software Platform for Satellite Orbit and Attitude\nDynamics, Tsinghua University, Beijing, 2002.\n\n[13] J. Zhou, Spacecraft Principle, Northwestern Polytechnical University Press, Xi'an, 2001.\n\nTable 3.5 Stabilized Triaxial Measurement Accuracy of the NS-2 Satellite\nin a Normal Environment Torque\n\nAccuracy of attitude measurement (degree)\n(3?)\n\n6 0.003\n6 0.003\n6 0.003\n\nReferences 113\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref12\n\n\n[14] K. Zhao, Hangtian-Tsinghua 1 Satellite and Its Application, China Astronautic Publishing\nHouse, Beijing, 2002.\n\n[15] Y. Qian, Studies on the Attitude Determination and Control System of High-Precision\nThree-Axis Stabilized Satellite, Northwestern Polytechnical University, Xi'an, 2002.\n\n[16] X. Zhang, L. Lin, X. Suo, Satellite control system simulation technics, Comput. Simul. 17 (2)\n(2000) 57?59.\n\n[17] Y.-G. Jian, Z.-Q. Wang, B. Zhang, Simulation research of three-axis satellite attitude control\nperiod, Comput. Eng. Des. 29 (03) (2008) 716?718.\n\n[18] Y.-H. Geng, H.-T. Cui, Attitude control system design for small satellite earth acquisition\nwith active magnetic control, Acta Aeronaut. Astronaut. Sin. 21 (2) (2000) 142?145.\n\n[19] M. Chen, S.-J. Zhang, Y.-J. Xing, Y.-C. Zhang, Combined attitude control method of small\nsatellite in the case of reaction wheel failed, J. Harbin Inst. Technol. 39 (5) (2007) 811?816.\n\n[20] W. Wang, B. Zhang, J. Yang, Three-axis stabilization technology of NS-1 satellite, in:\nProceedings of 12th National Conference on Space and Motion Body Control Technology,\n2006.\n\n[21] C. Duan, Combined Attitude Control of Small Satellite by Using Reaction Wheels and\nMagnetorquers, National University of Defense Technology, Changsha, 2007.\n\n114 CHAPTER 3: Att i tude Determination and Control System\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref17\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref17\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref17\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref18\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref18\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref18\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref19\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00003-5/sbref19\n\n\nCHAPTER 4\n\nMicro/Nano Satellite Integrated\nElectronic System\n\n4.1 OUTLINE\n\nIn recent years, space missions have become more and more diverse and\ncomplex. This raises a higher requirement for the development of micro/\nnano satellites, especially on on-board electronic systems. The rapid develop-\nment of modern electronic technology, computing technology, control tech-\nnology, and information engineering provides a new implementation\napproach and implementation possibilities to meet these requirements. In\nthis context, the new field of micro/nano satellite integrated electronic tech-\nnology was born.\n\nA micro/nano satellite integrated electronic system refers to an on-board\ncomputer (OBC) for the management of the core, and for the information\nlink between various types of electronic equipment and payloads to provide\ninformation management services data processing and transmission.\nIntegrated electronic systems include the system layer component, the energy,\nand the information core satellite.\n\nFrom the traditional satellite design point of view, the satellite consists of\nsubsystems, such as construction, power, thermal control, attitude and orbit\nmonitoring and control, data management, etc. In accordance with the\nrequirements of the satellite, subsystems have their own characteristics for\nthe design, processing, debugging and then manufacture of a satellite. As sat-\nellite peripherals are managed by multiple independent crew members, so\nthe on-board computer is always managed by indirect peripherals. The disad-\nvantage of this approach is the management circuit complexity, as resources\ncan not be shared.\n\n4.1.1 Integrated Electronic Design Ideas\nThe idea of an integrated electronic system design is to share resources and\ninformation, beyond those of the various subsystems, hardware, and soft-\nware. Integrated electronic systems are not like a traditional satellite design\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00004-7\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n115\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00004-7\n\n\nwith the composition of a number of subsystems, but with the onboard\ncomputer as the core, each unit on the satellite is considered as a whole, con-\nnected through a smart bus before the hardware functions are implemented\nby the software. By adopting this integrated design to achieve the functional-\nity of the software, not only the types but also the quantities of electronic\ncomponents could be greatly reduced, so that both can meet the functional\nrequirements of the satellite and minimize the types and quantities of elec-\ntronic components that system required, simplifying the hardware complex-\nity and improving system reliability.\n\nAn integrated electronic system aims to be \u201cuniversal, series, modular,\u201d\norganically combined to achieve information sharing and integration of\nsatellites, so as to improve performance, reduce costs, accelerate the speed of\ndevelopment of space missions, and meet rapid response requirements [1].\n\n4.2 INTEGRATED ELECTRONIC SYSTEM MICRO/NANO\nSATELLITES\n\nAccording to the integrated electronic system of Tsinghua University NS-1\nsatellites, the advantages of an integrated electronic system can be summed\nup by the following five aspects (Sections 4.2.1?4.2.5).\n\n4.2.1 High Level of Integration\nUsing multiple integration technology, large-scale integrated circuit design\nand manufacturing methods of system integration are used. This enables the\nmechanical components and the sensors, actuators, microprocessors, and\nother electronic and optical systems to be integrated in a very small space\nsuch as a micro/nano satellite or subsystems. This design also improves the\nreliability of the satellite.\n\n4.2.2 High Processing Performance\nThe on-board computer is responsible for information collection, processing,\ndistribution and storage of platform, and for the satellite information and\nfunctional integration. With increase in requirements of the on-board com-\nputer performance in data processing capability, so the development of a\nhigh-performance on-board computer with a reconfigurable design becomes\nvery important. The main objective is to develop a reasonable selection of\nonboard computer architecture, without a significant increase in hardware\npremised by bus arbitration techniques and providing alternative resources\nby strict fault detection, improving system reliability, and the processing and\nfault tolerance to meet micro, nano satellite high processing capacity, high\nreliability, and long life demands.\n\n116 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\n4.2.3 Highly Modular\nThe modular technology for electronic systems and even micro/nano satel-\nlites, enhances the flexibility and scalability of the system, so that in a short\nperiod of time the design, production, assembly and upgrading of the satel-\nlite system becomes possible, so that the development significantly shortens\nthe cycle.\n\n4.2.4 Highly Intelligent\nTsinghua University NS-1 satellites can customize the stable operation of the\nmain remote intervention, supplemented by ground control. When a failure\noccurs, the system has independent switching capacity to maintain normal\noperation; this minimizes the dependence on ground stations, improving\nindependent operational capabilities.\n\n4.2.5 Relatively High Degree of Reliability\nMicro/nano satellites, due to their smaller size, low power consumption,\nin addition to the necessary hardware redundancy, but also by the means\nof software, appear to be effective in fault diagnosis and treatment to\nimprove system reliability. Microsatellite-integrated electronic system has\nimplemented a high degree of reliability [2].\n\n4.3 MICRO/NANO ELECTRONIC SATELLITE\nINTEGRATED ELECTRONIC SYSTEM ARCHITECTURE\n\nMicro/nano satellite structure is basically hierarchical distributed by bus to\nconnect the subsystems.\n\nTsinghua University NS-1 satellites, launched in 2004, are typical micro/\nnano satellites. Fig. 4.1 shows an electronic system architecture diagram for a\n\u201cNS-1\u201d satellite. The OBC module, telemetry, and telecontrol (TTC) module\nare core modules of the integrated electronic system. These modules commu-\nnicate with other subsystems via CAN bus and asynchronous serial interfaces.\nThe onboard computer hardware resources of the micro/nano satellite inte-\ngrated electronic system, the core management of the entire system, have the\nbasic function of providing time management and storage management, as\nthe key subsystems to achieve satellite platform and payload capabilities.\nOnboard computer requirements for the hardware system include high reli-\nability and flexibility. The onboard computer typically uses embedded com-\nputer systems, consisting of an embedded microprocessor, whose\nperformance determines the overall performance of the onboard computer.\nTelemetry and telecontrol (TTC) is a fundamental part of the micro/nano sat-\nellite integrated electronic system, and enables the ground station and the\n\n4.3 Micro/Nano Electronic Satellite Integrated Electronic System Architecture 117\n\n\n\nonboard computer control to manage the various operating modes. The\nmain task of the telemetry and telecontrol subsystem is to measure the satel-\nlite operating parameters, verify that the satellite is operating normally,\naccording to the requirements of the satellite\u2019s operating mode switching and\nsystem restructuring, and also transfer data payloads for ground use.\n\nAccording to the actual situation and the different mission requirements of\ndifferent stages, integrated electronic system controls the controllers of each\nfunction module by the system bus and makes functional reorganization,\nwhich enables satellites to achieve different modes of operation after com-\npleting self-working mode adjustment. The integrated electronic operating\nmode can be divided into two types: direct and indirect modes of operation.\n\n1. Direct application of several operating modes:\na. In the initial state, with the integrated electronic system under the\n\ndirect mode, the onboard computer is turned off, telemetry module\nis active and will periodically transmit satellite platform\ninformation to ground stations, is controlled by the ground station\nand transmits control results back to the ground station.\n\nb. Without much work or continuous data needs, the satellite will be\nswitched to the energy-saving mode; the integrated electronic\nsystem operates in direct mode, with only telemetry and telecontrol\nmodule default monitoring and control functions.\n\nCAN\n\nOBC\nsubsystem\n\nHDLC Uart\n\nEGSE\nCAN\n\nHDLC\nUart\n\nUart\n\nTTC\nsubsystem CAN\n\nTLM/TLC\n\nTLM/TLC\n\nPCM/PDM subsystem\n\nPower\noutput\n\nMagnetometer\n\nUart\nGPS\n\nsubsystem\n\nCAN\n\nCAN\n\nEIS\nsubsystem\n\nMagnetorquer\nmomentum wheel\n\nRF subsystem\n\nUartHDLC\n\nPropulsion\nsubsystem\n\nTLM/TLC\n\nUart\nADCS\n\nsubsystem\n\nCAN\n\nTLM/TLC\n\nMIMU\nsubsystem\n\nFIGURE 4.1\nNS-1 satellite electronic system architecture.\n\n118 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\n2. Then the application of several operating modes:\na. In the satellite\u2019s attitude initial adjustment phase: the integrated\n\nelectronic system will switch from the direct mode to working\nunder the indirect mode; the telemetry module is active, with on-\nboard computer in working condition. The onboard computer\nreplaces telemetry and telecontrol module function, starts attitude\ncontrol software implementation of satellite attitude control, and\nensures payload capabilities.\n\nb. In the payload experimental stage: After the completion of the\nsatellite attitude control functions, the satellite will be equipped\nwith the functions of load performance and functional verification\nexperiment. The onboard computer performs according to the\nspecific requirements of the load test, by control of telemetry and\ntelecontrol module restructuring satellite.\n\n4.4 TECHNICAL SPECIFICATIONS\nSpecifications of the on board computer\nCPU Intel SA-1110\nEPROM: 512 kB Bootloarder\n\n512 kB Program Memory\nProgram memory space: 1.5 MB (TMR)\nData memory space: 6 MB\nCAN node: 666 kbps\nCommunications controller: HDLC Uplink 9.6 kbps\n\nDownlink 19.2 kbps\nPower consumption: Less than 1.5 W (average)\n\nTelemetry/remote indicator\nDual-mode redundancy telemetry encoder\nTelemetry channels: 48 analogue channels (AN 0?AN 47), 16\n\ndigital input channels (DIN 0?DIN 15),\nremote commander feedback channel 32\n\nADC resolution: 12 bits\nAnalogue normal operating input voltage\nrange:\n\n0 to 15 V\n\nAnalogue maximum allowable input\nvoltage range:\n\n20.5 V to 110 V\n\nDigital inputs: Low voltage 0?0.8 V, high voltage\n3.5?5 V\n\nTMR remote decoder\nDesign of the remote command channel 128, with actual use of 32\nCommunication port: CAN bus interface 666 kbps\nAsynchronous serial port: 9.6 kbps\nRemote sensing and control module\npower consumption:\n\nPower consumption less than 0.8 W\n\n4.4 Technical Specifications 119\n\n\n\n4.5 SELECT COMPUTER ARCHITECTURE\n\nCommercial off-the-shelf computer technology has been used in many\napplications, but due to the microsatellite with its own characteristics,\ndesign with an onboard computer has created many differences.\n\nThese differences include:\n\n1. Since the implementation of microsatellite space missions, as failure is\ncostly, the addition of an OBC is required with high processing\nperformance and high reliability requirements, which is the main aim\nof high commercial computer processing performance.\n\n2. In order to achieve attitude control, the OBC needs to perform\nmathematical operations, task scheduling, and task management,\nwhich means that the service is not intensively computational, but has\nintensive management (or is control intensive).\n\n3. As the service management tasks (such as data access) are mostly\nconcurrent, to ensure the high real-time tasks running, the service\nmanagement software is generally designed in the form of\nmultitasking.\n\nThe main functions of the onboard computer main are \u201cgreater system\nreliability\u201d and \u201chigher management efficiency.\u201d These two points are the\nprinciples behind the selection of the OBC architecture [2].\n\n4.6 THE ON-BOARD COMPUTER DESIGN\n\n4.6.1 The Subsystem Block Diagram\nof an On-Board Computer\nThe schematic block diagram of an OBC subsystem is shown in Fig. 4.2.\n\n4.6.2 The Bus Architecture\nTwo different data buses (i.e., the unbuffered local bus and buffered bus) are\ndesigned in an OBC system.\n\n4.6.2.1 The Unbuffered Local Bus (USA, USD, UnOE, UnWE,\nURD_nWR)\nThe unbuffered bus has not been driven. It is connected to the Boot PROM.\nThis guarantees that the initializations of SA1110 and other peripherals can\nbe completed smoothly after powering on, as well as memory test, peripheral\nmonitoring, etc.\n\n120 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\n4.6.2.2 The Buffered Bus (SA, SD, nOE, nWE, RD_nWR)\nGeneral peripherals are connected to the buffered data bus, including\nEPROM, triple modular redundancy program memory, data memory, HDLC\ncommunication controller and DPRAM, etc.\n\n4.6.2.3 The CPU Clock and Reset Circuit Design\nThe CPU externally connects two crystals at 32.768 kHz (Y101) and\n3.686 MHz (Y102). The Y101 is used for the real-time clock, OS clock, and\nperipherals after being internally driven. Y102 is used for the core of SA1110\nafter frequency multiplication through a phase-locked loop.\n\nThere are three types of system resets, namely the power on reset, direct remote\nreset from TTC, and indirect remote reset from the CAN node. The three signals\nare connected by an \u201cAND\u201d gate, connected to the reset of SA1110.\n\n4.6.3 The Memory System Design\nThe memory system of the OBC consists of EPROM, TMR program memory,\nRAMDISK, and data memory.\n\n4.6.3.1 EPROM\nTwo pieces of EPROM respectively store the boot program and operating\nsystem with their applications. Their sizes are both 512 kB. The operating\nsystem can be loaded from EPROM directly or from the ground.\n\nSA1110\n\nBootPROM\n512K\n\nC515\n\nDPRAM\n\nData memory\n6M\n\nGround RF\nfacilities\n\nZ16C30\ncommunication\n\ncontroller\n\nTMR program\nmemory\n\n1.5M\n\nProgram stay\ninternal memory\n512K EPROM\n\nData bus\n\nAddress bus\n\nFIGURE 4.2\nThe block diagram of an OBC system.\n\n4.6 The On-Board Computer Design 121\n\n\n\n4.6.3.2 TMR Program Memory\nThe system has a 1.5 MB TMR program memory. The SRAM uses Cypress\ncompany\u2019s CY62146V (256K3 16 bits).\n\n4.6.3.3 Data Memory\nThe system design uses a 6 MB data memory, which is combined with 12\npieces of CY62146. The data width is 16 bits. The R/W signal of each chip is\ngenerated by BCU, and the chip select signal is generated by the nCSI and\naddress decoder of SA1110.\n\nThe data memory does not have a hardware check. The system memory map\nis shown in Fig. 4.3.\n\n4.6.4 The Communication Controller\nThe synchronous communication of OBC adopts the HDLC data link control\nprotocol. The HDLC control chip uses the universal serial communication\ncontroller Z16C30, produced by Zilog. This chip uses 16 bits data bus, data\nR/T modules, and CPU data buffer asynchronous operation. It has advanced\narchitecture and is convenient to use. This simplifies the connection with the\nCPU to the greatest extent possible.\n\nThe design adopts a data address nonmultiplexing method corresponding to\nthe bus. The 16 bits data lines are connected to the system bus.\n\nWhen accessing registers, accessing the channel command/address register\n(CCAR) in order to implement indirect addressing is first needed. Therefore,\neach access of one register is composed of two read/write (R/W) access cycles,\nfirst with the write CCAR for addressing, second by completing the content\n\nBOOTLOAD0\n\nBOOTLOAD1\n\nBACKUPEPROM\n\nDATASRAM\n\nTMRSRAM\n\nCANDPRAM\n1152M+16k\n\n0\n\n256K\n\n512K\n128M\n\n128M+512K\n\n136M+512K\n256M\n\n256M+1.5M\n1152M\n\nFIGURE 4.3\nThe OBC memory space allocation map.\n\n122 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\naccess of target register. When the implementation of data FIFO access,\naccording to the access mode is read or write, automatically address to the\ndata receive or transmit FIFO.\n\nThe bus access cycle of Z16C30 (up to 10 MHz) is slower than the system\nbus (66 MHz). Hence it is necessary to insert waiting cycles when accessing\nZ16C30.\n\nThe CPU accesses the HDLC controller by interrupt. The two interrupts INT\nA and INT B are generated by two channels entering the CPU through the\nGPIO. The interrupt vector is directly determined by the GPIO number.\n\n4.6.5 CAN Node\nThe system adopts a piece of C515 to control the CAN node. Fig. 4.4 shows\nits modular block diagram.\n\nThe data exchange between CAN and SA1110 is implemented through\none piece of DPRAM. The left side of DPRAM is controlled by C515, while\nits right side is controlled by SA1110. The DPRAM adopts IDT70V06 of\nIDT. The DPRAM provides MailBox on hardware, guaranteeing data safety.\nThe highest bit of DPRAM is the MailBox for CPU on the right side. When\nC515 writes the MailBox, INTR will be valid and an interrupt is generated.\nSA1110 can read the MailBox and operate the DPRAM. In the same way,\n\nFIGURE 4.4\nThe OBC CAN module design.\n\n4.6 The On-Board Computer Design 123\n\n\n\nthe next-highest bit is the MailBox for CPU at the left side, which SA1110\ncan use to communicate with C515.\n\nThe RXDC and TXDC output of C515 are converted by 82C250 into CAN\ndifferential signal, which is then transferred to the CAN network.\n\n4.6.6 The Power Supply Unit\nThe voltage of power supplied to the OBC is 15 V. SA1110 needs two work-\ning voltages: 11.5 and 13.3 V. The FPGA (Field?Programmable Gate Array)\non the orbiting satellite should be ACTEL A54SX16A, which also needs two\nworking voltages: 3.3 and 2.5 V. Therefore, the design adopts two pieces of\nMAXIM\u2019s MAX1755EEE, one of which provides 15 to 11.5 V and 13.3 V\nconversion, while the other provides 2.5 V power. The MAX1755 is a two-\noutput highly efficient DC-DC converter. The output conversion efficiency of\n13.3 V is up to 95%, and the load current is 2 A; the output conversion effi-\nciency of 11.5 V is up to 92%, and the load current is 1.5 A. Its quiescent\ncurrent is 170 ?A, and the operating temperature is 240 to 85?C. In order to\nreduce power consumption, MAX1755\u2019s SHDNC pin is connected to\nSA1110\u2019s power enable pin. When SA1110 is in sleep mode, it uses an\nSA_PWR_EN pin to shut down the MX1755 11.5 V voltage conversion, so as\nto reduce OBC power consumption.\n\n4.7 THE OPERATING PRINCIPLE OF TELEMETRY\nAND TELECONTROL\n\n4.7.1 System Function and Workflow\nThe structure of the TTC is shown in Fig. 4.5. It mainly consists of tele-\ncontrol instruction decoding and telemetry data acquisition. A remote\ncontrol decoder is responsible for receiving telecontrol data frames trans-\nmitted from the RF receiver, CAN bus, or an asynchronous serial inter-\nface, decoding and writing the corresponding control bits into the\ninstruction latch. Each bit of the instruction latch corresponds to a switch\nstate. The telemetry data acquisition system receives and packs the digital\ninformation on the satellite into frames. For analogue data, it applies\nA/D conversion first and then packs them. The packed data are provided\nto the RF downlink and then transmitted to the ground station or OBC\nfor further processing.\n\nBoth telemetry and telecontrol of TTC have two operating modes: direct\nmode and indirect mode.\n\n124 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nM\nU\n\nX\n\nFilter\n\nFilter\n\nADC\n\nADC\n\nFPGA0\n\nFPG\nA\n\n1\n\nTLM0 87C51)\n\nTLM1(C515C)\n\nDecoder01\n(87C51)\n\nDecoder02\n(87C51)\n\nDecoder03\n(87C51)\n\nM\nU\n\nX\nM\n\nU\nX\n\nM\nU\n\nX\nM\n\nU\nX\n\nP2.0-P2.7\n\nP0.0-P0.7\n\nP2.0-P2.7\n\nP2.0-P2.7\n\nP0\n.0\n\n-P\n0.\n\n7\n\nDigital\ninput\n\nbuffer \n\nTelecontrol Command\ndecoder and latch circuit\n\n(command pool)\nCMD\n\n32bits telecontrol\ncommand output\n\nRX0\n\nRX1\n\nD\nat\n\na\n\nA\ndd\n\nre\nss\n\nA\ndd\n\nr e\nss\n\nD\na t\n\na\n\nControl signal\n\nC\non\n\ntr\nol\n\n s\nig\n\nna\nl\n\nCAN bus\ntransceiver\n\nCAN_H\n\nCAN_L\n\n16bits digital input48 bits analog input\n\nTelecontrol \nscheduling timing \n\ncontroll circuit\n\nTelecontrol\nscheduling timing\n\ncontroll circuit\n\nWatch-\ndog0\n\nWatch-\ndog1\n\nWatch-\ndog2\n\nWatch-\ndog0\n\nWatch-\ndog0\n\nWatch-\ndog0\n\nCMD\ninternal\ndecode\n\nCMD \ninternal \ndecode\n\nMUX\n\nMUX\n\nR\nX\n\n0\n\nR\nX\n\n1\n\nO\nB\n\nC\n_T\n\nX\n_C\n\nM\nD\n\nU\nm\n\nbi\nlic\n\nal\n_T\n\nX\n_C\n\nM\nD\n\nT\nL\n\nM\n1_\n\nT\nX\n\nR\nX\n\n1\n\nR\nX\n\n0\n\nO\nB\n\nC\n_T\n\nX\n_C\n\nM\nD\n\nU\nm\n\nbi\nlic\n\nal\n_T\n\nX\n_C\n\nM\nD\n\nT\nL\n\nM\n1_\n\nT\nX\n\nSeveral \nMUXs & \n\nthree ssate \noutput \ngates\n\nSeveral\nMUXs &\nthree state\n\noutput\ngates\n\nACTEL FPGA1\n(A54SX32A-2PQ208M)\n\nACTEL FPGA1\n(A54SX32A-2PQ208M)\n\nP2.0-P2.7\n\n16\n\n12\n\n12\n\n4\n\n4\n\n8\n\n8\n\n8\n\n8\n\n8\n\n8\n\nDC-DC Converter\n\nDC-DC converter\n\n3.3V\n\n2.\n5V\n\n2 .\n5 V 3.\n3V\n\n12 MHz\n\n12 MHz\n\nDecoder03 asynchronous\nserial output\n\n16\n\n16\nM\n\nU\nX\n\n48\n\nAsynchronous \nserial input\n\nTLM2 analog input\n\nC\nom\n\nm\nC\n\nom\nm\n\nFIGURE 4.5\nTTC structure diagram.\n\n\n\n4.7.1.1 The Direct Mode\nDirect telecontrol mode: the ground station transmits basic telecontrol com-\nmand (in asynchronous simple data frame format) through RX0 or RX1 to\ndecoder01, decoder02, and decoder03. After decoding the control word is\noutput to latch, for latching and outputting. Decoder01 and decoder02 only\nwork in direct telecontrol mode.\n\nDirect telemetry mode: the ground station transmits basic telecontrol com-\nmands to the select telemetry channel (TLM0 or TLM1). Through the micro-\nprocessor of the chosen TLM0 or TLM1 channel, the telemetry data are\ncollected and packed in sequence. Then an asynchronous link is used to\ntransmit it to the RF downlink.\n\nThis mode is mainly used in the initial operating period after satellite\nseparation.\n\n4.7.1.2 The Indirect Mode\nWhen the OBC starts operating, satellite?Earth data communication\nbuilds synchronous and asynchronous links. In this mode, the telecon-\ntrol and telemetry data between the satellite and Earth are transmitted in\nsynchronous frame format through the OBC. Thus, the direct outputs of\nthe microprocessor of TLM0 and TLM1 are not used. However, the basic\ntelecontrol channel can still be used. These two situations are now\ndiscussed.\n\nIndirect telecontrol mode: only decoder03 can work at indirect telecontrol\nmode. OBC transmits data through the CAN bus (for asynchronous serial\ninterface, transmitting data directly to multichannel selective switch) to CAN\nnode in TLM1. TLM1 receives the data and converts them into an asynchro-\nnous serial format. Through the asynchronous serial interface, asynchronous\ndata frames are transmitted to the multichannel selective switch of\ndecoder03. Decoder03 receives data through the asynchronous serial input,\nthen decodes, latches and outputs them.\n\nIndirect telemetry mode: the OBC transmits data through the CAN bus to the\nCAN node in TLM1. TLM1 transmits all telemetry data through the CAN bus\nto the OBC.\n\n4.7.2 The Operating Principle of the Telecontrol Unit\nThe whole system frame structure mainly consists of three decoders\n(decoder01, decoder02, and decoder03), FPGA (FPGA0 and FPGA1) chips,\nand output interface.\n\n126 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\n4.7.2.1 Decoder01 and Decoder02\nThe decoder01 and decoder02 work in direct telecontrol mode. Their circuit\nstructures and functions are the same. They are implemented by two 8 bit\nmicroprocessors 87C52, two clocks, and two FPGA internal gate arrays. The\nspecific design is shown in Fig. 4.6. In order to achieve better redundancy,\nthe instruction decoded by SCM is output through the two ports of SCM to\nthe corresponding FPGA for processing. P0 and P2 ports are used for 8 bit\ncommand data bus output, while P1 port is used for control line output.\n\nDecoder01\n\nDecoder02\n\nRX0\n\nRX1\nMUX\n\nMUX\n\nTelecontrol scheduling \ntiming controll \n\ncircuit\n\nTelecontrol \nscheduling timing \n\ncontroll circuit\n\nTelecontrol command decoder \nand latch circuit\n(command pool)\n\nWatchdog0 Watchdog1\n\nWatchdog0 Watchdog1\n\nReset\n\nReset\n\nTriple state \nbuffer\n\nTriple state \nbuffer\n\nCMD\ninternal\ndecode\n\nCMD\ninternal\ndecode\n\nC\nM\n\nD\n4\n\n/C\nM\n\nD\n4\n\nP0.0-P0.7\n\nP2.0-P2.7\n\nP0\n.0\n\n-P\n0.\n\n7\n\nP2.0-P2.7\n\n8\n\n8\n\n8\n\n8\n\n12 MHz\n\n12 MHz\n\nD\nC\n\n-D\nC\n\nconverter\nD\n\nC\n-D\n\nC\nconverter\n\n2.5V\n\n3.3V\n\n2.5V\n\n3.3V\n\nDecoding request 01\n\nDecoding request 02\n\nDecoding request 02\n\nDecoding request 01\n\nACTEL FPGA0\n(A54SX32A-2PQ208M)\n\nACTEL FPGA1\n(A54SX32A-2PQ208M)\n\nFIGURE 4.6\nDecoder01 and decoder02.\n\n4.7 The Operating Principle of Telemetry and Telecontrol 127\n\n\n\nThe processing procedure: the telecontrol instruction from RX0 (or RX1)\nenters the SCM asynchronous serial interface of decoder01 (or decoder02)\nthrough an asynchronous serial interface. The data processed by SCM are\noutput through the P0 and P2 port. To implement the complete redundancy\nfrom decoder SCM to the FPGA circuit, the related control signals of the P0\nand P1 ports are connected to FPGA0, the related control signal of the P2\nand P1 ports are connected to FPGA1.\n\nThe inner sequential logic of FPGA0 (or FPGA1) makes the three telecontrol\ndecoders obtain the control of the bus circularly. The decoder which has the\ncontrol power puts the valid data onto the data bus. By FPGA0 (or FPGA1),\nthe data are output to the data decoding latch. Then the data are decoded,\nlatched, and formed into control instruction by internal buffer, finally output\nto plugin through 4.7 k? protective resistance.\n\n4.7.2.2 Decoder03\nThe decoder03 can select from one of five serial interface input data RX0,\nRX1, OBC, Umbilical, and TLM1 for processing, by controlling a multi-\nchannel switch. The selection method can be polling or remain in one\nspecific channel by telecontrol instruction. The selection method is con-\ntrolled by telecontrol instruction. In polling mode, the dwell time of\neach channel is 70 ms. After an instruction is decoded successfully,\nanother 70 ms dwell time is added in the same channel, so as to satisfy\ninstruction sequence decoding. The schematic diagram of decoder03 is\nshown in Fig. 4.7.\n\nThe SCM of decoder03 also uses 87C52. Its P0 and P2 ports are used for\ninstruction data output bus, the P1 and P3 ports are used for control signal\noutput, and the output data are all the same. The P1.5, P1.6, and P1.7 (P3.5,\nP3.6, and P3.7) of the P1 port (or P3 port) select one of the five serial inter-\nfaces by controlling the one-out-five switch of FPGA0 (or FPGA1). The chan-\nnel selection can be software polling or specified by telecontrol instruction.\nThe decoder03 decodes the valid data. For decoder03, redundancy is imple-\nmented on the communication channel (except SCM).\n\nThe five serial input channels of the multichannel switch are shown in\nTable 4.1.\n\nThe decoded results are transmitted into FPGA0 (FPGA1) through the P0\n(P2) port. The lower four bits of the P1 (P3) port are used to send a decod-\ning application signal. Together with the decoded result of decoder01 and\ndecoder02, wait for FPGA0 (FPGA1) to process. The following processing\nprocedure is the same with decoder01 and decoder02.\n\n128 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nDecoder03\n\nMUX\n\nMUX\n\nTelecontrol scheduling \ntiming controll\n\ncircuit\n\nTelecontrol \nscheduling timing\n\ncontroll circuit\n\nTelecontrol command decoder\nand latch circuit\n\n(command Pool) \n\nWatchdog2\n\nWatchdog2\n\nTriple state \nbuffer\n\nTriple state \nbuffer\n\nCMD\ninternal\ndecode \n\nCMD\ninternal\ndecode\n\nC\nM\n\nD\n4\n\n/C\nM\n\nD\n4R\nes\n\net\nR\n\nes\net\n\n12 MHz\n\n12 MHz\n\nD\nC\n\n-D\nC\n\nconverter\nD\n\nC\n-D\n\nC\nconverter\n\n2.5V\n\n3.3V\n\n2.5V\n\n3.3V\n\nACTEL FPGA0\n(A54SX32A-2PQ208M)\n\nACTEL FPGA1\n(A54SX32A-2PQ208M)\n\nThree state MUX\n\nThree state MUX\n\nR\nX\n\n0\n\nR\nX\n\n1\n\nO\nB\n\nC\n_T\n\nX\n_C\n\nM\nD\n\nU\nm\n\nbi\nlic\n\nal\n_T\n\nX\n_C\n\nM\nD\n\nT\nL\n\nM\n1_\n\nT\nX\n\nR\nX\n\n0\n\nR\nX\n\n1\n\nO\nB\n\nC\n_T\n\nX\n_C\n\nM\nD\n\nT\nL\n\nM\n1_\n\nT\nX\n\nU\nm\n\nbilical_T\nX\n\n_\nC\n\nM\nD\n\nSerial in\n\nP0\n.0\n\n-P\n0.\n\n7\nP2\n\n.0\n-P\n\n2.\n7\n\nDecoding request03\n\nP1.5-P1.7\n\nSerial out\n\nFIGURE 4.7\nThe schematic design of decoder03.\n\nTable 4.1 Serial Input Channels List\n\nChannel Number Connection Speed (bps)\n\n0 RX0 9600\n1 RX1 9600\n2 OBC 9600\n3 Umbilical 9600\n4 TLM1(CAN) 9600\n\n4.7 The Operating Principle of Telemetry and Telecontrol 129\n\n\n\n4.7.3 Working Principle of Telemetry Units\nThe working principle of a telemetry unit is shown in Fig. 4.8. This unit is\ncomposed of TLM0 and TLM1, which are mutually redundant. TLM0 is com-\nposed of SCM87C52, ADC (A/D conversion), and relevant circuits of FPGA0;\nwhile TLM1 is composed of SCMC515C, ADC, and relevant circuits of\nFPGA1. When measuring, we validate TLM0 or TLM1 through telemetry\ninstruction (0 or 1 of CMD4). An analogue channel is chosen by six lower\nbits of the address line from the P2 port of the SCM and then control several\nanalogue multiplexers. We can guarantee that one channel is chosen to be\nmeasured from 48 analogue channels. The chosen analogue is sent to the\nADC and the generated digital quantity is sent to the corresponding FPGA.\nThe digital data include two parts: one from other satellite\u2019s subsystem\n(abbreviated to be digital input in the following), which is sent to two\nFPGAs through the input buffer simultaneously; the other is called telecon-\ntrol instruction recovery, which is sent to two FPGAs after being coded simul-\ntaneously. According to the request from the valid telemetry channel, the\nlogic circuit in the FPGA provides telemetry analogue, digital input, and tele-\ncontrol instruction recovery to the corresponding SCM for framing, and then\noutputs those by an asynchronous-serial or CAN channel.\n\n4.7.3.1 Measurement of Analogue Data\nThere are nine signals coming from the resistance temperature sensor among\n48 analogs to be measured. To pick up these signals a constant-voltage power\nsupply is provided to transfer the resistance signal into the voltage signal.\nThe constant-voltage power supply is mainly composed by operational\namplifier (LM158) and precision voltage regulator (LM129).\n\nThe chosen analogue voltages are divided into two lines for redundancy,\nwhich are sent to two ADC lines, respectively. SCM87C52 and C515C,\nrespectively, control two ADCs from the processor. The conversion clocks of\ntwo AD7880s are provided by the corresponding FPGA.\n\nThe inner ADC (10 bits) of SCMC515C, forming the third telemetry channel,\nworks as the supplement of the TLM1. It can replace the TLM1 by switching\nthe instruction when AD7780 of the TLM1 is invalidated.\n\nThe result after A/D conversion is sent to FPGA0 (or FPGA1). The SCM\nchooses one from the analog conversion results, data input and the recovery\ndata of telecontrol instruction by controlling multiway switch. Then, the\nchose data is processed in microprocessor.\n\nThe result can be either output to OBC, RF, or Umbilical by an asynchronous\nserial port, or to the OBC or Umbilical by the CAN bus.\n\n130 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nFIGURE 4.8\nWorking principle diagram of a telemetry unit.\n\n\n\nBoth of these processors can receive asynchronous serial telemetry requests\nfrom the OBC and Umbilical. However, telecontrol instruction decides to use\nTLM0 or TLM1. The chosen telemetry channel chooses the corresponding\nanalogue or data channel to take the sample according to an asynchronous\nserial telemetry request and packages data to the OBC or Umbilical according\nto the asynchronous serial protocol.\n\nSCMC515C of TLM1 has a CAN processor of its own. SCM515C receives\ntelemetry requests from the CAN bus through a CAN transceiver 82C250.\nTLM1 chooses the corresponding analogue or data channel to take the sam-\nple according to the telemetry request of the CAN bus and packages data\naccording to the CAN protocol. Finally, TLM1 sends these to the CAN bus\nthrough the CAN transceiver 82C250.\n\nSCMC515C can also receive telecontrol instructions from the CAN bus.\nSCMC515C reorganizes telecontrol instructions according to an asynchro-\nnous serial protocol and outputs to the 03decoder of the telecontrol system\nby an asynchronous serial port for instructions after decoding.\n\n4.7.3.2 Measurement of Digital and Telecontrol Instruction Recovery\nDigital input is sent to FPGA0 and FPGA1 simultaneously after buffering.\nTelecontrol output instructions after being decoded, forming 8 bits of data,\nare sent to FPGA0 and FPGA1 simultaneously. Data of A/D conversion, tele-\ncontrol instruction recovery, and digital input inside the FPGA are chosen by\nthe relevant address of a multichannel data multiplexer and then provided to\nthe relevant telemetry SCM for data framing.\n\n4.7.4 FPGA Module Configuration\nFPGA0 and FPGA1 are the core of this system. Except the port, all the digital\nlogic circuits and work sequence circuits are achieved by programming on\nthe FPGA. The FPGA uses the A54SX32A2PQ208M antifuse device from\nACTEL to ensure the stability of the system. The main purpose of designing\ntwo FPGAs is to achieve redundancy since the logic of FPGA0 and FPGA1 is\nthe same. In view of the connection parts between FPGAs and telecontrol,\ntelemetry has been introduced; we mainly introduce the configuration circuit\nof the FPGA. The configuration circuit of the FPGA is shown in Fig. 4.9.\n\nBoth of the FPGAs are designed with three independent watchdog circuits to\nreset the three decoders. Corresponding watchdog outputs are put together by\na tristate gate to the SCM. If a decoder has no instruction output in the setting\ntime, the corresponding watchdog sends a reset pulse to reset the decoder.\n\nThe switch of the two FPGAs depends on the instruction to the tristate out-\nput gate. When the instruction is 0, the output of FPGA0 is valid while\nFPGA1 is in a high-impedance state. When the instruction is 1, the situation\n\n132 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nis contrary to the above. In order to reduce the influence of any one failure\nto another, we concatenate 4.7 k? resistance on connected pins of two\nFPGAs before connection.\n\n4.7.5 Voltage Conversion Module\nThe power supply voltage of the core inside FPGA is 2.5 V, while the power\nsubsystem provides 5 V. As a result, we design two lines of the same voltage\nconversion circuit from 2.5 to 5 V. The two FPGAs supply power separately,\nwhich is also designed with double redundancy.\n\n4.8 OBC SOFTWARE REQUIREMENTS ANALYSIS\n\n4.8.1 Requirement Specification\nThe OBC software system is the center which coordinates each subsystem on\nthe star and the bond which effectively connects the ground and the satellite.\n\nFIGURE 4.9\nConfiguration diagram of the FPGA.\n\n4.8 OBC Software Requirements Analysis 133\n\n\n\nThe OBC software system is the dispatching center, management center, and\ncommunication center of the entire satellite system. Its efficient operation\nensures the normal working of the satellite system and the function of other\nsubsystems. Nanosatellite OBC system software includes a bootstrap program\nand an application program in two parts. Nanosatellite OBC software works\non the OBC veneer, whose main function concludes the satellite\u2019s task proj-\nect, telecontrol and communication, management of satellite data, and the\nworking environment of the attitude control software.\n\n4.8.2 Uplink Telecontrol and Program Data Upload\nThis can uplink many indirect telecontrol instruction and upload data, show-\ning as follows: GPS time/orbit data input; program upload (including OBC\noperating system, attitude control program, MIMU data processing program);\nGPS program upload; GPS data input; attitude control configuration data\ninput; program control instruction; and indirect telecontrol instruction.\nDetailed descriptions follow.\n\n4.8.2.1 GPS Time/Orbit Data Frame\n1. Time frame: The OBC calibrates the OBC clock after receiving GPS time\n\nfrom the ground, which is known as the initial time.\n2. Orbit data frame: The OBC transfer orbit data to attitude control\n\nsoftware after receiving them from the ground, which are known as the\ninitial values of GPS data.\n\n4.8.2.2 Program Upload\nThe operating system and applications can be uploaded to prevent the failure\nof application and guiding from the OBC EPROM, as well as to add new\nfunctional modules to the application.\n\n4.8.2.3 GPS Program Upload\nThe OBC receives the GPS program and sends it to the GPS receiver by the\nCAN bus.\n\n4.8.2.4 GPS Receiver Data Input\nThe OBC receives GPS data input from the ground and sends it to the GPS\nreceiver by the CAN bus.\n\n4.8.2.5 Attitude Control System Data Input\nThe OBC receives attitude control system data from the ground and sends it\nto attitude control software.\n\n134 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\n4.8.2.6 Program Control Instruction\nThe program control instruction specifies an absolute GPS time and executes\nsome switch instructions. These instructions are sent to the TTC\u2019s telecontrol\nequipment by the OBC\u2019s CAN bus or operated by the OBC.\n\n4.8.2.7 Indirect Telecontrol Instruction\nThe OBC receives indirect telecontrol instructions from the ground and sends\nit to subsystem.\n\n4.8.2.8 Request Packet Downlink\nThe downlink request packet includes:\n\n1. GPS data request;\n2. Camera data request;\n3. Attitude control configuration data request;\n4. WOD data request;\n5. MIMU data request;\n6. Current position/velocity vector request;\n7. Attitude control log file;\n8. OBC log file.\n\n4.8.2.9 Data Flow Diagram\nThe data flow diagram shown in Fig. 4.10 is after OBC software runs\nnormally.\n\n4.9 SOFTWARE SYSTEM DESIGN\n\nThe OBC software is divided into boot program and application program\nparts, which are described in the following.\n\n4.9.1 Bootloader Design\nThe bootloader mainly works in initializing OBC hardware, receiving boot\ncommands from the ground, and making the operating system and applica-\ntion of the OBC run well. The bootloader is solidified on the PROM of the\nsatellite and is important for OBC applications. Consequently, the bootloa-\nder uses the procedure-oriented basic programming method rather than the\noperating system.\n\n4.9.2 OBC Power-On Boot Process\nThe OBC starts to execute the initialization program from PROM, which\nincludes initializing the register of the CPU and so on after OBC power on.\nTHe OBC moves the bootloader from PROM to RAM and starts to run the\n\n4.9 Software System Design 135\n\n\n\nbootloader after initializing hardware. The bootloader sends a self-check state\nto the ground constantly, then, the ground sends instructions to the OBC by\na synchronous serial port informing the OBC to boot the operating system\nand application from PROM or to upload from the ground.\n\nIf the OBC boots from PROM on star, the OBC will copy the operating sys-\ntem and applications from PROM to RAM and then execute in the RAM.\n\nIf the OBC uploads a program from the ground, it will run synchronous\ncommunication protocol and start to receive the operating system and\napplications from the ground. Then, it will put the program into RAM and\nexecute. Because the overhead time of the satellite is limited, we will\ndivide the program into several data blocks and upload by block if the\noverhead time is too short to upload all of the program. Finally, we inte-\ngrate on star.\n\nThe space allocation of PROM and the program storage area are shown in\nFig. 4.11.\n\nFIGURE 4.10\nThe data flow diagram on the star.\n\n136 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\n4.9.3 Bootloader Flow\nThe bootloader flow is shown in Fig. 4.12.\n\n4.9.4 Application Design\nThe application of OBC software develops on the platform of a Micro-\nController Operating System (uc/os) embedded real-time multitask operating\nsystem. The main function process shows as Fig. 4.13.\n\n4.9.5 Task Partitioning\nAfter the software runs, it creates nine tasks:\n\n1. Time disposal task;\n2. Synchronous data distributing task;\n3. Attitude controlling task;\n4. Synchronal receiving task;\n5. Synchronously transmitting mission;\n6. Camera transmission mission;\n7. GPS data injection mission;\n8. WOD data storage mission;\n9. Real-time telemetry mission.\n\nTheir priority is reduced in turn [3].\n\n4.9.6 Mission Description\nThe mission function is described in Table 4.2.\n\nFIGURE 4.11\nAllocation of storage space. (A) EPROM space allocation, (B) program storage area space allocation.\n\n4.9 Software System Design 137\n\n\n\nStart\n\nInitialization of synchronous serial\nport, CAN. OBtain RAM self-test status\n\nSend telemetry data to TTC\nthrough CAN\n\nDelay\n\nEffective byte is\ncleared?\n\nYes\n\nNo\n\nC515C state:normal\nc515c_state=0x0000\n\nC515C status:error\nc515c_state=0x00ff\n\nDoes it receive a\ncommand from\n\nthe ground?\n\nIssue the self-test\nstatus of RAM in\nOBC and C515C.\n\nReceive operating system\nand application from the\nground to the reserving\n\nprogram area.\n\nMove the operating system\nand application from EPROM\nto the backup program area.\n\nCopy the operating system\nand application from the\n\nbackup program area to the\nmain application area.\n\nSkip to the main\napplication area.\nStart exeution.\n\nYes\n\nNo\n\nIs the operating system\nloaded from the ground?\n\nYes\n\nEPROM program\nflow\n\nNo\n\nNecessary hardware\ninitialization\n\nMove the \"boot program\" to\n0x10090000\n\nInitialization\nprogram\n\nBootstrap\nprogram\n\nFIGURE 4.12\nFlow chart of the bootstrap program.\n\n138 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nStart\n\nVariables statement\n\nStart mission\nscheduling\n\nEnd\n\nSet up the missions:\n1) Time processing\n2) Synchronously data\ndistributing\n3)Attitude controlling\n4) Synchronously receiving\n5) Synchronously\ntransmitting\n6) Camera transmission\n7) GPS data injection\n8) WOD data storage\n9) Real-time telemetry\n\nFIGURE 4.13\nFlow chart of the main function.\n\nTable 4.2 Mission Functional Description\n\nMission Name Operating Conditions Functional Description\n\nTime processing To one second Perform all time-related operations: check if there is a timeout of the transmitted\ndata or check if there is a programmed instruction execution time\n\nSynchronously\ndata distributing\n\nSynchronous serial data\nreceived\n\nSend different types of packets to different message queues\n\nAttitude controlling Attitude controlling\noperation period (1?10 s)\n\nCalculate the attitude controlling\n\nSynchronously\nreceiving\n\nReceive data packets from\nthe ground\n\nReceive uploaded data and unpack the data to process, as the uploaded data\nare a command or the injected program data\n\nSynchronously\ntransmitting\n\nSend data to the ground Send data to the ground by the synchronously communicating protocol\n\nCamera\ntransmission\n\nThe camera is finished Save photos from the camera to the memory of the OBC\n\nGPS data injection GPS requests OBC for\ndata injection\n\nWhen GPS is on or reseted, it requests the OBC for data injection of GPS time\nand the number of tracks. Then the task listens to the GPS request. If there is a\nrequest, it injects data through the CAN into the GPS\n\nWOD (World Orbit\nDatabase)\n\nTo cycle time of WOD\nstorage\n\nAccording to the storage cycle timing acquisition of WOD, the collected data,\nincluding TTC indirect telemetry data and telemetry data for attitude control, will\nbe stored in the WOD storage area (1 M); when a WOD is requested on the\nground, the data packet in the request time range will be sent to the ground\n\nReal-time\ntelemetry\n\nIssue real-time indirect telemetry data and telemetry data for attitude control of\nTTC to the ground\n\n4.9 Software System Design 139\n\n\n\nTime processing mission\n  Perform triggered by the signal ctSem.\nIf the signal is effective, executethe program, otherwise\nwait for the next time to be set one.\nvoid TimeProcessing ()  \n{\n\nfor (;;)\n{\n\npend ( ctSem )\n{\n\nProcess time-related operations\n.\n.\n.\n\n} \n}\n\n}\n\n100 ms clock\ninterrupt\n\ntimer\n\nTo one\nsecond\n\nctSem = 1\n\nFIGURE 4.14\nStatic structure diagram of the time processing mission.\n\nWait for\nctsem  is effective\n\nTime interrupt\n100 ms\n\nTime interrupt\nservice routine \n\nMaintain GPS\ntime:\n\nGPS + 1\n\nSet ctSem\nsignal effective\n\nto 1 second\n\nReturn\n\nIs there a time to\nexecute the\nprogram? \n\nIs the sending data\ntiming queue\n\nempty \n\nWhether there is a packet\nof data to be sent for 3s and\n\nget no response,\nIf yes: send message of\n\novertime. \n\nYes\n\nNo\n\nTime \nprocessing \n\nmission\n\nSet attitude control\nrunning flag\n\nNo\n\nYes\n\nTake out the program\ncontrol, send to TTC to\n\nexecute through the CAN\n\nFIGURE 4.15\nFlow chart of the time processing mission.\n\n\n\n4.9.7 Mission Design\n1. Time processing mission (Figs. 4.14 and 4.15, Table 4.3)\n2. Synchronous data distributing mission (Figs. 4.16 and 4.17, Table 4.4)\n3. Attitude controlling mission (Figs. 4.18 and 4.19, Table 4.5)\n4. Synchronously receiving mission (Figs. 4.20 and 4.21, Table 4.6)\n\nTable 4.3 Time Processing Mission\n\nMission Name Timer_isr\n\nFunctional description Set flag running of attitude controlling; check if synchronization is sent overtime; check if\nthere is a program controlling instruction to be executed\n\nOperating conditions To one second.\n\nSynchronously data distributing mission\n  Perform triggered by the signal HdlcFlag. If the signal is\neffective, execute the program, otherwise wait for the\nnext time to be set one.\nvoid dispatch message ( )  \n{\n\nfor (;;)\n{\n\npend ( HdlcFlag)\n{\n\nSend different data to a\ndifferent message queues\n.\n.\n\n} \n}\n\n}\n\nSynchronous\nserial port\ninterrupt\n\nHdlcFlag = 1\n\nFIGURE 4.16\nStatic structure diagram of a synchronous data distributing mission.\n\n4.9 Software System Design 141\n\n\n\nSynchronous\nserial\nport\n\ninterrupt \n\nSynchronous\ninterrupt\nhandler \n\nSet HDLC_FLAG\neffective\n\nWaiting\nfor HDLC_FLAG\n\neffective\n\nTake a frame out\nfrom the synchronous\nreceiving data buffer.\n\nIs CRC verify\ncorrect ?\n\nYes\n\nDetermine the type of the\nframe, and sent to different\nmessage queue:\nFrame I:\n Send message to RecMsg and\nHdlcQEvent queues.\nFrame S:\n Send message to sendRecMsg\nand sendQEvent queues.\nFrame U:\nFrame sabm, disc \u2014 \nSend messages to RecMsg and\nHdlcQEvent queues.\nFrame ua, dm \u2014\nSend message to sendRecMsg and\nsendQEvent queues.\n\nNo\n\nIs sYnchronous\nreceive data buffer\n\nEmpty?\n\nNo\n\nYes\n\nFIGURE 4.17\nFlow chart of a synchronous data distributing mission.\n\nTable 4.4 Synchronous Data Distributing Mission\n\nMission Name Dispatch_message\n\nFunctional\ndescription\n\nAnalyze synchronous data frame, send different message queues, based on a data frame,\nsupervisory frame, or unnumbered frame\n\nOperating\nconditions\n\nThere are data in synchronous serial port.\n\n142 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nAttitude controlling mission\n  Perform triggered by the signal semAdcs. If the signal is\neffective, execute the program, otherwise wait for the next\ntime to be set one.\nvoid ADCS_main ( )  \n{\n\nfor (; ;)\n{\n\npend ( semAdcs)\n{\n\nAttitude controlling program\n\n.\n\n.\n\n.\n\n} \n}\n\n}\n\nTime Interrupt\n100ms\n\nsemAdcs = 1\n\nFIGURE 4.18\nStatic structure diagram of an attitude controlling mission.\n\nAttitude running\nflag Wait for attitude\n\ncontrol running flag\n\nAttitude\ncontrol program \n\nAttitude controlling\nmission \n\nFIGURE 4.19\nFlow chart of an attitude controlling mission.\n\n4.9 Software System Design 143\n\n\n\nSynchronously receiving mission:\n  The mission listens for the message\nqueue synchronously received, if there\nis a message, and there is no higher\npriority mission to run, the mission is executed.\n  The mission completes a full course of\nreceiving data from the ground, and\nanalyzing the received command:\nvoid HdlcReceive ()\n\n{\nfor ( ; ; )\n{\n\nOsQPend(Synchronously receiving queue)\n{       \n\n.\n\n.\n\n.\n}\n\n} \n}\n\nSynchronous\nserial port\ninterrupt\nservice \n\nSend a message\nto the\n\nsynchronization\nmessage queue  \n\nFIGURE 4.20\nStatic structure diagram of a synchronously receiving mission.\n\nTable 4.5 Attitude Controlling Mission\n\nMission Name ADCS_main\n\nFunctional description Attitude controlling, detailed in the relevant attitude control software documentation\nOperating conditions To a control cycle\n\n144 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\n\n\nFIGURE 4.21\nFlow chart of a synchronously receiving mission.\n\nTable 4.6 Synchronously Receiving Mission\n\nMission Name HdlcReceive\n\nFunctional\ndescription\n\nRun a synchronous communication protocol, receive a complete data stream, and analyze\nthe data\n\nOperating conditions There are messages in the synchronously receiving message queue\n\n\n\nReferences\n[1] H.X. Tian, Small Satellite Integrated Electronic System and Its Key Technology Research,\n\nTsinghua University, BeiJing, 2009.\n\n[2] Z. Jin, L. Liu, Y. Jin, Software Requirements Engineering: Principles and Methods, Science\nPress, BeiJing, 2008.\n\n[3] X.W. Wang, Embedded Operating System ?C/OS-II and Application Development, Tsinghua\nUniversity Press, BeiJing, 2012.\n\nFurther Reading\nJ.M. He, Embedded 32-Bit Microprocessor System Design and Application, Electronic Industry\n\nPress, BeiJing, 2006.\n\n146 CHAPTER 4: Micro/Nano Satell i te Integrated Electronic System\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00004-7/sbref4\n\n\nCHAPTER 5\n\nGround Tests of Micro/Nano Satellites\n\nAfter each subsystem and component of the micro/nano satellite has\nsuccessfully passed the subsystem-level test, the joint test has been quali-\nfied, and been assembled in the satellite body, the performance and func-\ntionality of the satellite will be done for the full test, including an\nelectrical interface test between each subsystem and an electromagnetic\ncompatibility test. This is in general called a ground electrical comprehen-\nsive test. The purposes of the ground electrical comprehensive test are as\nfollows:\n\n1. Test if the main performance and functionality of all satellite\nsubsystems meet the design requirements;\n\n2. Correctness and compatibility test on the interfaces between all\nsatellite subsystems;\n\n3. Correctness test on the interface and communication protocols\nbetween EGSE (electrical ground support equipment) and subsystems\nof the satellite;\n\n4. Correctness test on the EGSE software;\n5. Test if the satellite meets the overall technical indicators, especially\n\nwhether the technical indicators remain unchanged or not after various\nvirtual environment tests.\n\nThe ground electrical comprehensive test is an important and indispens-\nable step in research and manufacture on satellites. Through it, research-\ners can discover: technical indicators which may not meet the design\nrequirements, imperfect functions, electrical interfaces which do not match\nrequirements, design defects, and so on. And this work can\nhelp designers to improve the design accordingly. Finally, based on these\ntest data, designers can effectively improve match, compatibility, and\nreliability, eliminate hidden troubles, and ensure the flying success of\nsatellite [1].\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00005-9\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n147\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00005-9\n\n\n5.1 TESTING PHASES\n\nAccording to the development procedure for satellites, the ground electrical\ncomprehensive test is divided into nine stages\u2014from desktop testing to test-\ning in the launch site area. The stages of testing are shown in Fig. 5.1.\n\n5.1.1 Desktop Testing\nThe purposes of desktop testing are as follows: checking if the main perfor-\nmance and functionality of all satellite subsystems meet design requirements;\nchecking if correctness and matching of interfaces meet the requirements of\neach subsystem; checking the correctness and rationality of inspection and\ncertification systems of satellites and ground test equipment interface design;\nfinding design defects and process defects of the satellite and testing system;\nverification of a correct and rational design process.\n\nDesktop joint testing includes: testing on the subsystem, matching tests\nbetween subsystems and the EGSE, testing on minimum systems of the satel-\nlite, and system-level testing.\n\n5.1.2 Testing in Environment Experiments [2,3]\n5.1.2.1 Mechanical Environmental Testing\nThe purposes of mechanical environmental testing are as follows: verification\nof the adaptability of all kinds of equipment and instruments which may\nwork properly in the mechanical environmental, and obtaining relevant para-\nmeters in this environment. Because satellites do not work and power on in\nthe course of the flight of the rocket, the satellite can autonomously power on\nafter the separation. And the satellite do not power on in the mechanical envi-\nronmental phase. In the course of mechanical environmental testing, the main\nwork of the electrical test is: status determination before the testing, not work-\ning in testing, and review status after testing. There are two aspects to note:\n\n1. Power on before the environmental testing and confirm that the\nsatellite is in normal condition;\n\n2. Power on after the environmental testing and confirm that the satellite\nis in normal condition.\n\n5.1.2.2 Thermal Cycle Testing and Thermal Vacuum Testing\nThe purposes of thermal cycle testing and thermal vacuum testing are as\nfollows: verification of the adaptability of all kinds of equipment and instru-\nments which may work properly in thermal environmental, obtaining the\ntemperature data and changing rules for key equipment if needed. The main\ntasks are as follows:\n\n1. Power on before testing and confirm that the satellite is in normal\ncondition;\n\n148 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\nDesktoptest Engineersatellitetest Flying satellite test\nThermal cycle environment\n\nsatellite for engineer\nsatellite\n\nMechanicalenvironmental\ntestforengineer\n\nsatellite\n\nMechanical environmental\ntest for flying satellite\n\nThermal vacuum environment\nsatellite for flying satellite\n\nTest in launch zone of\nspace launch sites\n\nTest in technical area of\nspace launch sites\n\nElectromagnetic\ncompatibility test for\n\nflying satellite\n\nFIGURE 5.1\nProcedure of the ground electrical comprehensive test.\n\n\n\n2. Set up the high-frequency cable and normal cable through the\nbulkhead, and place the satellite into the testing jar;\n\n3. To confirm that the satellite is in normal condition, the vacuum canister\nis evacuated, and it is ensured that there is no vacuum discharging;\n\n4. Power on before testing and in the canister and confirm that the\nsatellite is in normal condition;\n\n5. Recording status and temperature data at all stages in testing;\n6. Power off after testing, and putting the vacuum canister back to normal\n\natmospheric pressure;\n7. Power on after testing and confirm that the satellite is in normal condition;\n8. Summary and assessment for the whole test.\n\n5.1.3 Testing in the Technical Area of Space Launch Sites\n1. After the completion of transport, each function performance\n\nparameter and the interface of the whole satellite must be rechecked\nand reviewed; the explosive device resistance and switch must be\nacknowledged; and the battery must be charged;\n\n2. The satellite will be tested after it is fixed on to the rocket;\n3. Confirm functionality, performance, and the status of compliance with\n\nthe design requirements, and wait for transition.\n\n5.1.4 Testing in Launch Zone of Space Launch Sites [4]\nWhen the rocket is placed in the launch zone of the space launch site, the\nresearchers must review all functions, parameters, and interfaces of the entire\nsatellite, and, finally, make sure that the battery is fully charged.\n\n5.2 SATELLITE TEST SYSTEM\n\n5.2.1 Design Requirements of the Testing System [5]\nIn order to complete satellite\u2019s electrical testing tasks, we must design and\nconfigure our necessary EGSE equipment for the satellite. Generally, the ESGE\nequipment consists of special EGSE and various general purpose test equipment\ncomponents, including: special EGSE equipment, satellite simulator, sun simula-\ntor, general test equipment, signal source instrument, C spectrum analyzer, and\nso on. The most important equipment is the special EGSE equipment.\n\nThe design rules of the test system are \u201cstandardization, universal, compact,\u201d\nsophisticated technology, and universal interface. According to the require-\nments of the overall test tasks, the main functions of the EGSE are as follows:\n\n1. It can correctly and effectively verify the correctness of the subsystems\non the satellite hardware and software electrical function;\n\n2. It can provide power to each subsystem and control it;\n\n150 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\n3. It can verify compatibility and correctness of interfaces between the\nvarious subsystems, send telecontrol commands and inject data, and\nverify the results of commands in the satellite;\n\n4. It can receive and demodulate telemetry signals, analyze telemetry\ndata and display it in real-time, record continuously working data,\nplayback data offline, analyze data and back it up, and print data\ninformation;\n\n5. It can self-calibrate and self-test;\n6. It is capable of manual operation, with timely charge and power;\n7. It can test the whole satellite at every stage;\n8. It has a flight simulator and operate flight test program;\n9. It is capable of error detection;\n\n10. It has modular design, and it is easy to carry out maintenance.\n\n5.2.2 The Composition of the Satellite Test System\nThe ground electrical comprehensive test equipment is made up of special\nEGSE equipment and various general purpose test equipment components.\nDuring the AIT stage of satellite development, the power of each subsystem\nor component is supplied by the EGSE equipment, which is generated by the\nsun simulator and assigned by the EGSE switchbox, and the battery is\ncharged by sun simulator. The EGSE control-computer send telecontrol com-\nmands, and the EGSE telemetry-computer receives the telemetry data and\nresolves them. All computers can communicate by TCP/IP protocol.\n\nThe components of ground electrical comprehensive test equipment are\nshown in Fig. 5.2 and Table 5.1. In Fig. 5.2, the internal block is EGSE equip-\nment. EGSE has two test loops, one is by cable, and the other is RF. The next\nsection will introduce these in detail.\n\n5.2.3 Loop Selection for a Ground Electrical Performance\nTest\nFor the satellite electrical performance test system, an uplink is used to\ncontrol and excite the measured object and a downlink is used to collect the\ncorresponding situation and to gather and process the output data of instru-\nments and equipment. For the ground integrated test, the calibration proce-\ndure of the satellite system is carried out step by step through a minimum\ntesting path.\n\nUplinking and downlinking with different properties consist of different test-\ning paths, having different characteristics and application scenes. In the fol-\nlowing, we will introduce several typical testing loops.\n\n5.2 Satellite Test System 151\n\n\n\n+14V\n(external\n\npower supply)\n\nSun simulator\n\nSwitch\nTelecontrol\ncomputer\n\nTelmetry\ncomputer\n\nCAN-Bus\ncomputer\n\nModulation\n\nDemodulation\n\nPower\n\nInterface-\ncard\n\nUPS\n\nEGSE interface\n\nSatellite\nFunctionSimulator\n\nADCS\ncomputer\n\nOBC\ncomputer\n\nGPSSignal\nsource\n\n\u2018863-2\u2019 nano-satellite\n\nFIGURE 5.2\nMain configuration diagram of the EGSE equipment.\n\n\n\n5.2.3.1 TM/TC Testing Loop\nThe TM/TC testing loop is the main loop, which is used by each subsystem\nto the maximum extent. Since this testing loop is quite similar to the orbital\nstate of the satellite, the TM/TC computer of the EGSE is mainly responsible\nfor processing the data of this loop.\n\nThe TM/TC testing loop consists of measurement and control equipment\nof the ground test as well as the TTC and RF subsystems. The uplink\nimplements the direct transmission and verification of EGSE instructions\nsuch as telecontrol commands, time/orbital data, attitude control configu-\nration, equipment state parameters, etc. The downlink EGSE implements\nsatellite telemetry data receiving, real-time processing, and measurement\nrecord.\n\nTo ensure the normal operation of this loop, two distinct approaches are\nrequired to check the smoothness of the uplink and downlink\ncommunications.\n\n1. Carrier signals sent from the satellite-borne transmitter are\ndemodulated into video telemetry PCM code signals via the EGSE\nwireless measurement and control subsystem, and sent to EGSE\ntelemetry front end, processed and displayed by the telemetry\ncomputer. In the mean time, the binary phase shift keying (BPSK)\nsignals sent from the EGSE telecontrol front end are modulated into\ncarrier PM and then sent to the satellite. The procedure mentioned\nabove is the main loop measurement between the satellite and\nground (RF1 TTC). Applications of this testing loop include:\n\nTable 5.1 The Components of EGSE\n\nNo. Name Function\n\n1 Baseband section ? (255.223) error correction code, R?S code, (1/2,7) convolutional codes\n? Function of forwarding data\n\n2 Transceiver and\nreceiver\n\n? Receive RF signal from 2200 to 2300 MHz, and track it. PCM/CPPSK modulation,\nreceiver noise coefficient is better than 1.5 dB\n\n? Receiver input dynamic range: better than 60 dB\n? Transceiver RF signal from 2025 to 2125 MHz. PCM/DPSK/PM modulation, maximum\n\noutput power better than 0 dBm\n3 Multifunction box ? Modulation (232-PCM-BPSK), demodulation (PCM-232), TLC, TLM, switch, pseudo-\n\nrandom code generation, error coder test, TLM signal source\n4 Charge box ? Power supply, constant current output\n\n? Charging timing\n5 Switchbox ? Switch for power for satellite and charging of battery\n\n? Display of charge voltage\n6 Main cabinet ? Carrier for whole EGSE\n\n5.2 Satellite Test System 153\n\n\n\nreceiving and processing of telemetry data, generation and\ntransmission of telecontrol commands, testing of satellite-borne\ntelemetry and telecontrol devices, monitoring and testing of each\nsubsystem\u2019s telemetry data and working conditions, transmitting\ncontrol commands to each subsystem via onboard telecontrol devices\nand obtaining the situation of onboard devices by loop comparison.\nFurthermore, the control strategy and logic of OBC and ADCS\nsubsystems are inspected by program uploading and comparison.\nFig. 5.3 shows the RF wireless testing principle.\n\nTTC RF receiver\n\nRF transmitter\n\nCable net\n\n(A)\n\n(B)\n\nOBC\n\nGPS receiver\n\nADCS/MIMU\n\nPayload(camera/micro jet)\n\nPower supply\n\nEGSE\n\nTelemetry data receiving\n\nVideo\ndata\n\ninterface\n\nRF receiver\n\nRF transmitter\n\nTelecontrol command generations\n\nPower supply\n\nCAN data receiving / processing\n\nFIGURE 5.3\nPrinciple block diagram of an RF wireless test. (A) Satellite internal block diagram; (B) EGSE block diagram (wireless signal\ntransmission).\n\n154 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\n2. In the case of interference in the wireless channel, the EGSE sends\nthe telemetry BPSK signals directly from the satellite to the telemetry\nfront end through the signal attenuator and cables, and meanwhile\nuses cables to send the telecontrol BPSK signals directly from the\ntelecontrol front end to the satellite. This part is mainly used to test\nthe high-frequency performance before the RF wireless entrance, and\nthe performance of the antenna itself is tested under specific\nconditions (required in a subsystem test). In Fig. 5.4, the upper part\nis a satellite internal block diagram, and the lower part is an EGSE\nblock diagram.\n\nThe testing of the TM/TC loop needs to be carried out on the satellite\nthrough wireless channels, and its internal structure is shown in Fig. 5.5.\n\nTTC\n\nOBC\n\nGPS receiver\n\nADCS/MIMU\n\nPayload (camera/micro jet)\n\nPower supply\n\nEGSE\n\nTelemetry data receiving\n\nTelecontrol command generations\n\nCAN data receiving / processing\n\nPower supply\n\nVideo\ndata\n\ninterface\n\nRF receiver\n\nCable net\n\nRF transmitter\n\nRF receiver\n\nRF transmitter\n\nVariable\nattenuator\n\nFIGURE 5.4\nPrinciple block diagram of an RF system test.\n\n5.2 Satellite Test System 155\n\n\n\n5.2.3.2 Uplink Channel Composition\nThe main function of the uplink channel is to provide the transmission chan-\nnel for the wireless test system, including the sync card, async/sync converter\n(Fig. 5.6), scramble forming equipment, and FM transmitter.\n\n1. Sync card. This is connected to the communication link server through\na PCI slot, transmitting the OBC uplink synchronization signal to the\nscramble-forming equipment.\n\n2. Async/sync converter. This converts the RS232 asynchronous TTC\nuplink signal (output from the computer serial port) to the\nsynchronous digital signal, and then transmits it to the scramble-\nforming equipment.\n\n3. Scramble-forming equipment. This equipment is ground test\nequipment of the satellite ground measurement and control subsystem\n\nS band RF signal RF signal\n\nL band RF signal\n\nRS422 Sync\n\nRS232 Async\n\nADCS command\n\nTelecontrol\nterminal\n\nTelemetry\nterminal Communicationlink server\n\nLAN (100 Mbit/s)\n\nSwitch quantity\ndetection\n\nRS232 Async\n\nSync\nsignal\n\nSync signal\n\nCOM1\n\nAsync\nstream\n\nCOM2 Sync card\n\nAsync/sync\nconverter\n\nAsync/sync\nconverter\n\nS/L converter FM transmitter\n\nScramble forming equipment\n\nAudio signal\n\nUplink\nchannel\n\nDownlink\nchennel\n\nDownlink modem #0\nvitaCOM M500L\n\nFIGURE 5.5\nPrinciple block diagram of wireless testing system (TM/TC testing loop).\n\n156 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\n(shown in Fig. 5.7). Its main usage is scrambling and shaping filtering\nof the uplink baseband data coming from the sync card or async card,\nand sending the processed audio baseband signal to the FM\ntransmitter. Related parameters are as follows.\n? Output code rate: 9.6 kbit/s;\n? Output voltage: 16 0.5 V adjustable (shaped sine wave);\n? Output impedance: # 1 k?;\n? Output scrambling polynomial: 11X121X17;\n? Working temperature: 0?40?C;\n? Interfaces: Lotus head output audio signal (hole), external data\n\ninput CD-9 (hole).\n4. FM transmitter (in the same cabinet with downlink S/L convertor)\n\n(shown in Fig. 5.8). This is responsible for FM modulation of\nbaseband signals. Transmit frequency point: 2094.417 MHz. Interfaces:\ninput audio signal BNC, output FM signal BNC.\n\nFIGURE 5.7\nGround test equipment of the satellite ground measurement and control subsystem.\n\nFIGURE 5.6\nAsync/sync converter.\n\n5.2 Satellite Test System 157\n\n\n\n5.2.3.3 Downlink Channel Composition\nThe main function of the downlink channel composition is to provide a\nreceiving channel for the wireless measurement system. It consists of an S/L\nband frequency convertor, satellite BPSK modem, and async/sync interface\nconverter.\n\n1. S/L band frequency convertor (integrated in the transmitter cabinet of\nthe nanosatellite, as shown in Fig. 5.8). Due to the requirements of the\nmodem band, signals need to be transformed by the convertor from S\nband to L band. The local oscillator frequency of the convertor is\n3490 MHz, the center frequency of the input S band signal is\n2274.48 MHz, and the center frequency of the output L band signal is\n34902 2274.485 1215.52 MHz.\n\nInterfaces: Input S band downlink signal BNC, output L band\ndownlink signal BNC.\n\n2. Satellite BPSK modem. For LEO satellites, the downlink demodulator\nshould have fairly good anti-Doppler frequency shift ability. Since this\nmodem continues to be used in the ground station of satellite A, BER\nperformance should be tested under the Doppler frequency shift\ncondition. Optional modems are CDM570L, Vitacom M5000L, and\nVitacom 5500L (as shown in Fig. 5.9).\n\nThe selected modem is M5500L from Vitacom, with main functions\nas below: frequency changing of L band signal, intermediate frequency\namplification, demodulation, differential solution, perturbation, and\n\nFIGURE 5.8\nNanosatellite transmitter cabinet (including FM transmitter and downlink covertor).\n\nFIGURE 5.9\nModem Vitacom M5500L.\n\n158 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\nViterbi decoding. The type of demodulation is BPSK, the perturbation\nmethod is IESS308.\n\n3. Async/sync interface converter (shown in Fig. 5.10). The async/sync\ninterface converter implements the interface conversion from the\nsynchronous RS422 interface of downlink modem to the asynchronous\ninterface RS232 of computer.\nInterfaces: Conversion from RS422 (25 pin) to RS232 (9 pin).\n\n5.2.3.4 Measurement and Control Terminal and Network Subsystem\n(Fig. 5.11)\nIn the test process, the requirement on the continuity of telemetry and\nremote control data is not strict, and the laboratory resources are limited.\n\nFIGURE 5.10\nSynchronous/asynchronous interface converter.\n\nFIGURE 5.11\nMeasurement and control terminal and network subsystem.\n\n5.2 Satellite Test System 159\n\n\n\nTherefore, the measurement and control terminal and the network subsystem\nare composed of two computers and routers for the practical system. One\ncomputer is responsible for realizing both the functions of the communica-\ntion link server and the remote control terminal. The other computer is used\nas a telemetry terminal. The data exchange between these two computers is\nsupported by the local area network and the serial port.\n\n5.2.3.5 Cable Test Loop\nThis is a loop formed by the umbilical cord (Umbilical) of the satellite test,\nincluding the satellite power distribution control and measurement, and\nCAN bus monitoring and measurement. The nanosatellite completes the sat-\nellite power supply (solar simulator) control, bus voltage measurement, bat-\ntery voltage measurement, and provides the TTC, OBC, and CAN bus test\ninterface through the test umbilical cable and special test equipment interface\non the satellite (Fig. 5.12).\n\nFIGURE 5.12\nThe principle block diagram of the system.\n\n160 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\n5.3 GROUND TESTING SCHEME\n\nBefore the test, a comprehensive test program combining the satellite overall\ndesign scheme and the data flow on the satellite should be developed\n(Fig. 5.13).\n\nThe main points of the design of satellite ground test program are as\nfollows:\n\n1. The satellite ground integrated test should focus on the function of the\nwhole satellite and the performance test of the main part. In the test\nscheme the test loop and the test point should be designed.\n\n2. Electrical performance tests include remote uplink, telemetry downlink\n(radio/wired) test loop, and cord cable test loop; interface matching is\nmainly based on an umbilical cord test in the early stages of testing;\nthe satellite function test is mainly based on RF uplink/downlink in\nthe late stages of testing.\n\nFIGURE 5.13\nSatellite data flow diagram.\n\n5.3 Ground Testing Scheme 161\n\n\n\n3. Test equipment should reflect the principle of \u201cstandardization,\ngeneralization, small metallurgical\u201d; the test software is developed\naccording to the software engineering method; test procedures should\nhave the ability to distinguish faults.\n\n4. The ability to ensure the safety of the test operator and on-board\nequipment.\n\n5.3.1 Ground Integrated Test Procedure [6,7]\n5.3.1.1 Acceptance Test of the Subsystem\nThe acceptance requirements of the power subsystem, RF subsystem, data\nmanagement subsystem, GPS subsystem, attitude control subsystem, effective\nload (camera/micro jet) are in accordance with subsystem acceptance require-\nments and subsystem acceptance rules.\n\n5.3.1.2 Matching Test for the Subsystem and EGSE (Fig. 5.14)\nThe matching test of each subsystem and EGSE includes the power check, the\nsignal path inspection, the inspection of the interface, and the communica-\ntion protocol.\n\n5.3.1.3 Minimum System Test (Fig. 5.15)\nThe minimum system is composed of three parts: the power subsystem, RF,\nand TTC subsystems. It completes the satellite power supply, telemetry/\nremote control communication link, and it is the minimum system for satel-\nlite survival. The minimum system test includes the following:\n\nPower RF\n\nData management\nsubsystem \n\nGPS\nADCS/\nMIMU\n\nPayload\n\nEGSE EGSE EGSE EGSE EGSE EGSE\n\nTTC OBC\n\nUmbilical\n\nUmbilical\n\nIF\ncable\n\nWireless CAN CAN CAN CAN\n\nFIGURE 5.14\nPrinciple block diagram of the matching of the system and the EGSE of the umbilical cord test.\n\n162 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\n1. Power supply of the satellite system and minimum system power\nconsumption.\n\n2. The performance of uplink and downlink.\n3. System works and coordination check.\n4. Coordination and verification of the format and content of telemetry\n\ndata.\n5. Receiving and implementation of remote control instructions.\n\n5.3.1.4 System-Level Test of a Satellite\n1. CAN bus test (OBC, GPS, ADCS effective load subsystem test). CAN\n\ncontroller sends up the instruction, OBC receives the CAN data stream;\nwhen the TM/TC loop is not ready or fails, we can use the computer\nRS232 serial port to monitor the telemetry data, and test OBC, GPS,\nADCS/MIMU, and the payload. It also verifies the reliability of the\nTM/TC (Fig. 5.16).\n\nEGSE\n\nM\ninim\n\nal system\n\nRF\n\nPower\n\nTTC\n\nUmbilical\n\nIF cable\n\nUmbilical\n\n \n\nFIGURE 5.15\nEGSE and the minimum system matching test block diagram.\n\nM\ninim\n\nal    system\n\nPower\n\nTTC\n\nRF\n\nEGSE\n\nA\ndd step by step\n\nOBC\n\nGPS\n\nADCS/MIMU\n\nPayload\n\nUmbilical\n\nUmbilical\n\nIF cable\n\nCAN\n\nCAN\n\nCAN\n\nCAN\n\nFIGURE 5.16\nBlock diagram of a satellite ground test.\n\n5.3 Ground Testing Scheme 163\n\n\n\n2. Simulated flight II (flight control status). Flight control status, OBC\nworks to provide the software and hardware platform of the attitude\ncontrol subsystem, the satellite system sets up three-axes stability to the\nground. Key assessment contents are as follows:\na. The flight control program;\nb. Dynamic load function of the software module;\nc. Upload function (flight parameter binding);\nd. Work and coordination of all systems;\ne. Telemetry and remote control function;\nf. Satellite system power consumption.\n\n3. Simulated flight III (autonomous flight), focus on the assessment of\nthe following:\na. Coordination, validation of satellite flight procedures;\nb. Upload function;\nc. Packet telemetry function;\nd. Work and coordination of all systems.\n\n4. Emergency mode. Satellite flight procedures in failure mode or\nemergency mode.\n\n5. Reliability test. In order to ensure the quality of the joint test, increase\nthe reliability test content after the joint test. The inspection of power\nsupply of the battery pack is implemented three times after the\ncompletion of the joint test in accordance with the simulated flight III.\nThree checks are qualified to pass. The battery-powered peak voltage\ntest and the battery discharge lower limit test are implemented. If there\nis a failure, a supplementary test or long-term test should be\nimplemented according to the specific circumstances.\n\n6. Primary power supply test in simulated light period.\n7. Combined power supply for analogue peak load in different operating\n\nmodes.\n\n5.3.2 Comprehensive Test of Ground Electrical\nPerformance\n5.3.2.1 Content of Comprehensive Testing of Electrical Properties\n\n1. To test the correctness, rationality and matching of the overall electrical\ndesign of the satellite and the correctness of grounding system.\n\n2. To test whether the electrical performance and parameters of each\nsubsystem meet the requirements of the general.\n\n3. Power supply inspection.\n4. To test whether the system can complete the required functions in the\n\nsystem level conditions or not. Test order: power supply subsystem, RF\nsubsystem, data management subsystem, attitude control subsystem\n(including MIMU), GPS subsystem, payload (including camera and\nmicroinjection).\n\n164 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\n\n\n5.3.2.2 Main Test Content\n1. To check the matching of the interface between the subsystems,\n\nincluding the correctness of the electromechanical, photoelectric and\nthermoelectric interfaces.\n\n2. Inspection instruction, the reliability and accuracy of the information\nchannel transfer (uplink and downlink parameter format definition).\n\nTable 5.2 Test Schedule for Each Subsystem of the Satellite\n\nNo. Subsystem Test Content\n\n1 Satellite cable\nnetwork\n\n? Contact check\n? Contact insulation inspection\n? Check interface table\n\n2 Power\nsubsystem\n\n? Remote command check\n? Power supply inspection for each subsystem\n? Telemetry parameter check\n? Subsystem and system power consumption\n? Simulated peak load combined power supply test\n\n3 Pipe system TTC ? Check the matching performance of telemetry/remote communication protocol with\nframe structure\n\n? Check the transmission performance of the telemetry data and the remote control\ninstructions, etc.\n\n4 RF subsystem ? Check the index matching performance of the RF communication link\n5 ADCS\n\nsubsystem\n? Power supply inspection of components\n? The electric interface and communication interface protocol of the sun sensor\n? Electrical interface and communication interface protocol of the magnetometer\n? Electric interface and communication interface protocol of the magnetic torque\n\nconverter\n? Electric interface of the reaction wheel, speed\n? The polarity of the sun sensor\n\n6 MIMU\nsubsystem\n\n? Electric interface and communication interface protocol of gyroscope\n\n7 GPS subsystem ? Electric interface and communication protocol of GPS\n? Check the performance of GPS data transmission\n\n8 Camera\nsubsystem\n\n? According to the instructions of the TTC node controller, the storage function of the\nground image and image data are completed under the control of the FPGA, and the\nimage data are output at the request of the TTC controller\n\n? TTC node controller: complete the power switch control of the camera system and the\ntemperature and current detection, communicate with OBC, complete the function of\nthe camera control and data transmission\n\n? Power switch control circuit and voltage conversion circuit\n? Temperature and current monitoring circuit\n\n9 Microinjection\nsystem\n\n? A / D acquisition: Achieve the acquisition and processing of the pressure and\ntemperature using the A/D of 515\n\n? CAN communication: upload pressure and temperature data to TTC through CAN, get\nthe control command of the TTC or OBC to open the engine\n\n? Engine control: Check the control instruction, execute the instruction which has passed\nthe check\n\n5.3 Ground Testing Scheme 165\n\n\n\n3. Main function and performance test of the satellite in all working\nmodes.\n\n4. Simulate flight procedures of the satellite in space, test the feasibility\nand correctness of the flight procedures.\n\n5. In the first phase of the entire satellite electrical performance test, the\ncompatibility of the satellite to Earth interface is also required. Check\nthe correctness of the control channel, check the correctness of the test\nsoftware, the telemetry/remote control parameters and the switch state;\ncheck the correctness of the test outline and the rules.\n\n6. Control and monitor the working status of instruments and\nequipments on the satellite.\n\n7. Simulate a faultly working condition or check the main function and\nperformance of the satellite under different excitation signals.\n\n8. Record the working process and test data in real time and in a\ncontinuous manner.\n\nTest contents of satellite subsystems are listed in Table 5.2.\n\nReferences\n[1] H. Guowei, Reliability Test Technology/Reliability, Maintainability and Supportability,\n\nNational Defense Industry Press, Beijing, 1995.\n\n[2] X. Jianqiang, Rocket and Satellite Products Test, China Aerospace Publishing House, Beijing,\n2012.\n\n[3] K. ShouQuan, Satellite Environmental Engineering and Simulation Test, China Aerospace\nPublishing House, Beijing, 1993.\n\n[4] GJB 152A, Requirements for electromagnetic emission and sensitivity of military equipment\nand subsystems, 1997.\n\n[5] QJ 2266, Electromagnetic compatibility requirements for aerospace systems, 1992.\n\n[6] L. Yanxiao, Reliability Design and Analysis, National Defense Industry Press, Beijing, 1995.\n\n[7] QJ 1408A, Reliability assurance requirements for aerospace products, 1998.\n\n166 CHAPTER 5: Ground Tests of Micro/Nano Satell i tes\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00005-9/sbref4\n\n\nCHAPTER 6\n\nAdvanced Space Optical Attitude Sensor\n\n6.1 INTRODUCTION TO THE ADVANCED SPACE\nOPTICAL ATTITUDE SENSOR\n\nThe advanced space optical attitude sensor refers to the sensor series that\ndetermines attitude through sensing a celestial body. Sun sensor and star\nsensor are two representative advanced space optical attitude sensors. The\ndevelopment of microsatellites and microsatellite formation flying technol-\nogy requires a high-accuracy, rapid measurement and control system of sat-\nellite attitude, such as the Grace project [1], Techsat-21 project [2], LISA [3],\nor ST-5 [4]. A high-accuracy and high-reliability attitude sensory system is\nthe optimal choice for these missions. With superiority of high accuracy,\nbeing drift free and having a long service life, the advanced space optical\nattitude sensor not only is the key basic component for the survival and per-\nformance improvement of spacecraft, but it also has important strategic sig-\nnificance in various astronautic applications (e.g., ground remote sensing,\ndeep-space exploration, and scientific experimentation). The sun and fixed\nstars are two major astronomical sensing objects. Therefore, sun sensors and\nstar sensors are the most widely applied systems to determine the attitude\nof satellites and have become the basic and core component of satellite\nattitude.\n\n6.1.1 Introduction to the Sun Sensor and Star Sensor\nThe sun is the most important energy source of the satellite system.\nSatellites that fail to locate the sun or whose solar panels fail to get accurate\nsun orientation are regarded as unserviceable. Meanwhile, optical devices\nand thermal control systems on satellites are designed strictly according to\nthe incidence direction of the sun. As a result, the sun sensors is essential\nattitude sensors on satellites. The sun, a bright point light source with\nhigh sensitivity and identifiability, is convenient for sensor design and\nfor the purposes of the attitude determination algorithm. The sun sensor\nhas a wide range of field of view (FOV) (from minutes of arc to\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00006-0\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n167\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00006-0\n\n\n1283 128 degrees) and a wide resolution range (from degrees to\narc-seconds), thus making it the optimal attitude-sensing component of\nvarious spacecraft. In engineering technology, a sun?Earth system com-\nposed of a sun sensor and an Earth sensor is the most convenient and pop-\nular method of attitude determination. Traditional sun sensors have poor\naccuracy and are susceptible to reflected light from the Earth. To address\nthese problems, this book describes a sun sensor designed to use area array\nAPS CMOS technology, MEMS diaphragm technology, and algorithms\nrelated with prediction, extraction, and images.\n\nCurrently, since star sensors are universally accepted as the most precise abso-\nlute spacecraft attitude measurement component [5], they are widely used\nfor high-accuracy attitude determination in Earth orbiters, deep space probes,\nlarge space structures, and small satellites. Compared to other attitude sen-\nsors, such as sun sensor, star sensors have many advantages: (1) adequate\nhigh pointing accuracy; (2) providing three-axes absolute attitude of the\nspacecraft instead of one-axis or two-axes attitude of a sun sensor or magne-\ntometer; (3) strong fixed star detection in any direction and all-round atti-\ntude information under the assistance of an appropriate FOV and sensitivity,\nwhich is incomparable to other attitude sensors.\n\nOutside China, traditional star sensors are widely applied in the aerospace\nfield, with bright prospects. However, most of the existing star sensors were\ndeveloped for microsatellites, which are difficult to apply in microsatellites\ndirectly. As a result, many international research institutions and star sensor\ndevelopment organizations have shifted their attention to microsatellite-\noriented new star sensors [6,7], aiming to win a place in the microminiature\nsensor and microsatellite field. With the development of space mission and\nmicrosatellite technologies, China\u2019s aerospace future proposes an urgent\ndemand for high-accuracy, high-dynamic and small star sensors. Many of\nChina\u2019s existing high-accuracy satellites use imported star sensors as the\nmajor attitude measurement unit, while domestic star sensors generally\nserve as backups or in tests [8,9]. All of these star sensors were developed\nfor microsatellites without consideration to the application characteristics\nof microsatellites, thus they are unable to be used in the microsatellite\nfield directly. In this book, a small low-power consumption, high-accuracy\nand high-dynamic star sensor was developed by using new technologies and\nmethods according to the requirements of microsatellites on the attitude\nsensing system. The research results not only can improve China\u2019s microsat-\nellite attitude measurement accuracy, but also are of important significance\nin improving China\u2019s independent spacecraft R&D capability and space\napplication of the new optical system, and reduce dependency on foreign\nkey technologies.\n\n168 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.1.2 Spacecraft Attitude Sensor Overview\nTo have a clear understanding on the principle and method of spacecraft atti-\ntude measurement and a further understanding on the significance of star\nsensors in the aerospace field as well as its difference with other attitude sen-\nsors, this book provides a brief introduction to the major attitude sensors\nused in spacecraft.\n\nGenerally speaking, spacecraft attitude is described by orientation relative to\na certain coordinate system (generally the coordinate system relative to the\ninertial celestial sphere). This requires orientations of one or more directional\nvectors in relation to the spacecraft coordination system and specific coordi-\nnate system, respectively. Moreover, these vectors shall be known relative to\nthe specific coordinate system. Common vectors include sun vector, Earth\ncenter vector, navstar vector, and Earth magnetic field vector. When the atti-\ntude sensor can measure the orientations of these vectors in relation to the\nsensor coordination system or spacecraft coordination system, the spacecraft\nattitude at the specific coordinate system can be further calculated.\n\n6.1.2.1 Sun Sensor\nThe sun sensor is a sensor that measures the vector of the sun in the space-\ncraft coordination system directly. As one kind of optical sensor, the sun sen-\nsor is used on almost all satellites. The sun is distinctive from other light\nsources (e.g., background stars) surrounding the Earth due to its shining\nlight. Furthermore, the sun can be viewed as a point to Earth satellite due to\nthe great distance to the Earth. This simplifies the sun sensor design signifi-\ncantly. Additionally, most satellites orient their solar panels dead against the\nsun in order to collect solar energy for normal operation. However, some\ncomponents or devices have to be kept away from the sun in order to pre-\nvent stray light and heating. The sun sensor plays an important role in all of\nthese aspects. Although sun sensors have abundant design methods and\nstyles, they include three major types: analogue sun sensor, sun-appearing\nsensor, and digital sun sensor [10].\n\n6.1.2.2 Infrared Horizon Sensor\nThe infrared horizon sensor is a sensor that measures the vector of the Earth\nin the spacecraft coordinate system directly, which is also called the\nEarth sensor. Since it can calculate the spacecraft attitude in relation to the\nEarth directly, it is widely applied in Earth-related missions, such as commu-\nnication satellites (TDRSS), meteorological satellites (GOES), Earth resource\nsatellites (LANDSAT), etc. [11]. Different from the sun, the Earth can not be\nviewed as a point, especially to satellites near the Earth orbit. Since the Earth\noccupies up to 40% of the FOV of satellites, detection of the Earth is inade-\nquate for satellite attitude determination. Therefore, most Earth sensors\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 169\n\n\n\nadopt horizon examination. The horizon sensor, one kind of infrared sensor,\ndetects the warm Earth surface/cold space ratio. Its difficulties lie in the\nsensor?Earth discrimination and selection of its surrounding sensitization\nthreshold, which is changeable due to the effects of the Earth\u2019s atmosphere\nand reflected sun rays.\n\n6.1.2.3 Magnetometer\nThe magnetometer is a common vector measurement sensor used on space-\ncraft. It is characteristic of: (1) simultaneous measurement of the direction\nand strength of the magnetic field; (2) low power consumption and light\nweight; (3) reliable measurement results within a certain orbit range; (4) wide\ntemperature endurance range; and (5) no moving components. However,\nbased on the Earth magnetic field model (an approximate description of the\nEarth\u2019s magnetic field), the magnetometer brings large measurement errors\nand is not qualified as a high-accuracy attitude sensor. Additionally, the\nEarth\u2019s magnetic intensity is inversely proportional to the cubic geocentric\ndistance. Therefore, when the spacecraft reaches higher than 1000 km orbit,\nthe spacecraft attitude is mainly influenced by the residual magnetic bias\nwithin the satellites, instead of the Earth\u2019s magnetic field, thus making the\nmagnetometer lose accurate measuring ability.\n\n6.1.2.4 Star Sensor\nThe star sensor determines spacecraft attitude according to the orientations of\nthe navstar in the spacecraft coordination system. Firstly, the star sensor mea-\nsures the vector of the navstar in the spacecraft coordination system.\nSubsequently, it gains the vector of the navstar in the corresponding inertia\ncoordination system through star pattern recognition. Thirdly, the transfor-\nmation matrix from the inertia coordination system and the spacecraft coor-\ndination system, that is, spacecraft attitude in the inertia coordination\nsystem, can be obtained by analyzing the relationship between these two\nvectors of the navstar.\n\nThe star sensor is superior to other sensors for its high precision (up to an\narc-second). However, compared to other sensors, the traditional star sensor\nhas many shortcomings, such as higher cost, larger size and heavier weight,\nhigher power consumption, more complicated computer hardware and soft-\nware, and greater difficulties in design and debugging. Moreover, the star sen-\nsor is more susceptible to external disturbances (e.g., stray light in space). As\na result, the star sensor requires strict installation environments free of distur-\nbances from the sun, Earth, moon, and the satellite. Although the star sensor\nhas so many shortcomings, it is still highly appreciated in the aerospace\napplication field for its high-accuracy absolute attitude measurement.\n\n170 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.1.2.5 Inertial Sensor (Gyro)\nThe inertial sensor, also known as the inertial navigation system (INS), uses\nan accelerometer and gyro to determine spacecraft attitude in relation to the\ninertial system. The accelerometer is used to test the motion acceleration of\nthe carrier, which is then used to calculate the real-time location of the car-\nrier. The gyro achieves essential reference coordinates (navigation coordi-\nnates) for the above-mentioned navigation positioning. The gyro demands\nno external information and has no optical or electrical connections with the\nexternal environment. These contribute to good concealment and applica-\ntions under all meteorological conditions of the gyro. However, since the\ngyro generally involves high-speed weak rotating parts and may produce\ndrift, it is inferior in independent high-accuracy long-term operation and\nrequires a star sensor for modification.\n\nThe above-mentioned five attitude sensors are compared in this book\n(Table 6.1).\n\nTable 6.1 illustrates that a small high-accuracy sun sensor and a star sensor\nenjoy bright development prospects in satellite attitude determination.\n\n6.1.3 Sun Sensor Overview\n6.1.3.1 Principles of the Sun Sensor\nThe sun sensor is the most common and important attitude measurement\ndevice used on satellites. Early sun sensors mainly included sun-appearing\n\nTable 6.1 Comparison of Common Attitude Sensors [12]\n\nName\nReference\nSystem Advantages Disadvantages\n\nSun\nsensor\n\nSun Low-power consumption, light weight, clear\nand bright sun, and generally an essential\ncomponent for solar panel and instrument\nprotection\n\nInvisible in some orbits and poor accuracy\n(about 1 degree)\n\nEarth\nsensor\n\nEarth Applicable in near-Earth orbit, fuzzy\nboundary, and easy to analyze\n\nGenerally, it needs to scan the horizon\nline; poor accuracy (about 0.1 degree);\ntight orbit?attitude coupling\n\nMagnetic\nfield\nsensor\n\nEarth\nmagnetic\nfield\n\nEconomic, low-power consumption, and\napplicable in near-Earth orbit\n\nPoor accuracy (about 0.5 degree) and\nlimited applications within low orbits.\nSatellite magnetic balancing is needed\n\nStar\nsensor\n\nStars High accuracy (arc-second), independent\nmovement from orbits, and applicable in\nany position in space\n\nHeavy weight, complexity, high cost, and\ntime-consuming star recognition\n\nGyro Inertia Demands no external sensor, independent\nmovement from orbits, time efficiency, and\nhigh accuracy\n\nHas drift and high-speed weak rotating\nparts, as well as large power consumption\nand mass\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 171\n\n\n\nsensors and analogue sun sensors [13] with poor accuracy, which were used\nfor initial solar capture and low-accuracy determination of solar azimuth [14].\nThe recent rapid development of astronautical technology, especially microsat-\nellite technology, requires sun sensors with wide FOV and high accuracy,\nwhich can not be satisfied by the traditional design plans and achievement\napproaches. Therefore, a homotaxial digital sun sensor [15] with significantly\nhigher accuracy (,0.1 degree) was developed and has become the main-\nstream of the current sun sensor application field. Homotaxial digital sun\nsensor imaging is shown in Fig. 6.1.\n\nSun ray imaging at xc on the charge coupled device (CCD) is through the dia-\nphragm apertures. The corresponding light intensity distribution on CCD is\nshown in Fig. 6.1B. Images are read through a follow-up processing algo-\nrithm and the energy center of imaging points is calculated. On this basis, xc\ncan be positioned accurately. Next, the incidence angle of the sun\u2019s rays can\nbe calculated from CCD?diaphragm height: tan?5 xc=h.\nVertical installation of two homotaxial digital sun sensors can construct a tra-\nditional biaxial sun sensor, which is the current application mainstream of\nhomotaxial digital sun sensors. Fig. 6.2 presents some typical products at\nhome and abroad [16?19].\n\n6.1.3.2 Development Trends and Major Problems of Sun Sensors\nWith the electronical technology development, area array photosensitive\nprobes are widely applied in space [20], such as CCD or CMOS [21]. A sun\nsensor constructed from area array imaging sensors has attracted a great deal\nof research attention [22?24]. These sun sensors, with high accuracy and\nstrong anti-interference, can replace star sensors on some occasions [25].\nSince the diaphragm of the sun sensor has a single-aperture diaphragm\n(Fig. 6.3A) and array-type diaphragm (Fig. 6.3B), the sun sensor also has a\nsingle-aperture sun sensor and array-type sensor [26].\n\nxc x\n\nLight\nintensity\n\no\n\n?\n\nxc\n\nx\n\nz\n\no\n\nSun ray\n\nM\n\n(A) (B)\n\nFIGURE 6.1\nHomotaxial digital sun sensor. (A) Structure, (B) light intensity distribution.\n\n172 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nThe basic principles of single-aperture sun sensor are: sun rays imaging on the\nphotosensitive probe through the aperture; the coordinates xc; yc\u00f0 \u00de of the center of\nsun ray imaging points are calculated through the centroid method; furthermore,\nthe solar angles (? and ?) are acquired based on the trigonometric function:\n\n?5 tg21\nxc\nh\n\n? ?\n?5 tg21\n\nyc\nh\n\n? ?\n\u00f06:1\u00de\n\nz\n\nOptic\n\nA\n\nMask\n\n(A) (B)\nSun\n\nray Light\naperture\n\nMask\n\nImage\n(x0si, y0si)\n\nh\n\nFIGURE 6.3\nArea array sun sensor. (A) Single-aperture mask, (B) array-type mask.\n\nFIGURE 6.2\nSome typical digital sun sensors. (A) DSS2 (China), (B) DSS2 (Japan), (C) ASS3 (China), (D) DSSS.\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 173\n\n\n\nwhere h is the distance between the aperture and the photosensitive probe,\nwhich is fixed according to the above analysis. The accuracy of the solar azi-\nmuth is mainly determined by the calculation accuracy of xc; yc\u00f0 \u00de. Imaging\nthrough this sun sensor can achieve 25 pixels on its photosensitive probe,\nthus increasing its accuracy compared to a traditional linear array sensor.\nHowever, it is difficult to further improving the accuracy of this sun sensor\ndue to the simple extraction, recognition, processing, and operation, as well\nas low image utilization rate caused by its single imaging point. Galileo\nAvionica Company (Italian) launched a single-aperture sun sensor recently,\nnamed the Smart Sun Sensor (S3) [27] (Fig. 6.4).\n\nCompared to the traditional linear array CCD sun sensor, S3 has made great\nprogress and has superior performance. However, it has relatively poorer\naccuracy and reliability. These shortcomings can be overcome by using a\nmultiaperture array sun sensor. Compared to the single-aperture area array\nsun sensor, the multiaperture area array sun sensor has many imaging points,\nwhich can provide filtering processing, thus increasing the accuracy by one\norder of magnitude [28]. Meanwhile, much related information among these\nimaging apertures is available and can be integrated to improve the environ-\nmental adaptation of the sun sensor. This ensures the high accuracy and nor-\nmal operation of the sun sensor even when some imaging points are\nunavailable.\n\nThe advantages and disadvantages of the single-aperture sun sensor and array\nsun sensor include the following:\n\n1. Accuracy: Since the accuracy of the single-aperture sun sensor is mainly\ndetermined by the processing accuracy of the center of the sun ray\n\nFIGURE 6.4\nThe smart sun sensor (S3).\n\n174 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nimaging points and only involves one imaging point, its image\nprocessing accuracy can only reach about 0.1 pixels. On the contrary,\nthe processing accuracy of sun ray imaging points of the array sun\nsensor is proportional to the square root of the arrays. Suppose the\nprocessing accuracy of a single aperture is ? and the aperture array is\nN3N, then the final processing accuracy of the center of total imaging\npoints is ?=N. This plays a significant role in improving the accuracy of\nthe sun sensor.\n\n2. Reliability: The single-aperture sun sensor has a catastrophic threat:\nreliability. Complete or partial aperture blockage may affect the\nprocessing accuracy significantly and even result in system strikes. In\ncontrast, an array sun sensor with large distribution area of apertures\nstill can maintain normal operation and satisfy processing accuracy\nthrough reasonable algorithms even when some apertures are blocked.\n\n3. Requirements of the imaging sensor: The single-aperture sun sensor has\nhigher requirements of the imaging sensor because any partial bad\npixels or uneven pixel response of the imaging sensor (which may be\nthe location of the sun ray imaging point) will affect the processing\naccuracy and even functions of the sun sensor significantly. In contrast,\nthe array sun sensor has N3N imaging points distributed within a\nwide region of the imaging sensor. Therefore, some bad pixels will not\naffect the system completely.\n\n4. Image exposure and read [29]: The single-aperture sun sensor or\ntraditional linear array CCD sun sensor generally reads images through\ndirect overall exposure. Due to their small data size, they can follow\nthe procedure from overall exposure, reading, processing, and\ncalculation successively. However, the array sun sensor involves large\ndata size and the complicated processing method requires more\nadvanced image exposure and read methods as well as advanced data\nprocessing.\n\n5. Algorithm complexity: The array sun sensor involves a far more\ncomplicated algorithm compared to the single-aperture sun sensor.\nBefore accurate application, the array sun sensor has to identify each\nimaging point on the imaging sensor accurately. Since these sun\nray imaging points are the same and every imaging point has a certain\nimaging error, the first imaging point may be wrongly identified or\neven lost (a more serious situation). Therefore, it requires an algorithm\nwith strong robustness and high reliability.\n\n6.1.3.3 Research Significance\nAccuracy and reliability are the principal decisive factors of sun sensor qual-\nity. Therefore, multiaperture area array sun sensors represent the future of\nsun sensors. Currently, the development of such multiaperture area array sun\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 175\n\n\n\nsensors is mainly restricted by the high accuracy, high reliability, and high\nupdate rate of the algorithm. Based on the research achievements during the\n\u201cTenth Five-Year\u201d and \u201cEleventh Five-Year,\u201d this book introduces an\nadvanced sun sensor algorithm integrating hardware and software\u2014Future\nExtraction and Image Correlation (FEIC) algorithm\u2014to achieve break-\nthroughs on the key technologies of the multiaperture area array sun sensor.\nIt takes the APS (Active Pixel Sensor) CMOS photosensitive probe with win-\ndow exposure and random reading function as its imaging sensor, and takes\nthe advantage of correlation among multiple array-arranged sun ray imaging\npoints to read images directly through direct exposure and the read method\nwithin the effective region. To accelerate capture of the initial position of cur-\nrent sunlight imaging image, a binarization template image is used for binary\nmatching with it. The position shift between the current image and the direct\nsolar radiation image \u00f0xc; yc\u00de can be calculated precisely through energy\nmatching of the template image during direct solar radiation and the current\nsun ray imaging image. On this basis, a high-accuracy solar angle can be\ngained. Theoretically, a sun sensor involving an N3N apertures array dia-\nphragm still can maintain high-accuracy normal operation under the absence\nof any N imaging points.\n\n6.1.4 Star Sensor Overview\n6.1.4.1 Navstar\nCelestial bodies keep in relative balance due to gravitation and movement.\nVisually, all celestial bodies seem equidistant and their relationship with\nobservers is just like the relationship between a point on a sphere and the\ncenter of a sphere. The imaging sphere centered at the observer with random\nradius is called a celestial sphere.\n\nA fixed star is the basic reference point of a star sensor. According to years\nof astronomical observations, every fixed star occupies a relative fixed\nposition in the celestial sphere and is generally expressed by the celestial\nspherical coordinates \u00f0?; ?\u00de (Fig. 6.5). According to the relationship\nbetween rectangular coordinates and spherical coordinates, the direction\nvector of every fixed star under the celestial rectangular coordinates can\nbe acquired.\n\nv5\ncos ? cos ?\nsin ? cos ?\n\nsin ?\n\n2\n4\n\n3\n5 \u00f06:2\u00de\n\nFixed stars with satisfying imaging conditions of the star sensor are selected\nfrom the star library to form the navstar catalogue. This navstar catalogue is a\none-off, solidified in the memory of the star sensor on the ground.\n\n176 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.1.4.2 Principle of Measurement\nAt the attitude matrix (A) of the star sensor in the celestial coordinates, the\nnavstar (si) (with a direction vector in the corresponding celestial coordinates\n(vi)) and its direction vector in the star sensor coordinates (wi) can be\ndetected according to the aperture imaging principle of star sensor (Fig. 6.6).\n\n\u00f0x0; y0\u00de are the coordinates of the spindle center of the star center on the\nprobe; \u00f0xi; yi\u00de are the coordinates of si on the probe; and f is the focal length\nof the star sensor. Then, wi can be expressed as:\n\nwi 5\n1ffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\n\u00f0xi2x0\u00de2 1 \u00f0yi2y0\u00de2\nq\n\n1 f 2\n\n2\u00f0xi 2 x0\u00de\n2\u00f0yi 2 y0\u00de\n\nf\n\n2\n4\n\n3\n5 \u00f06:3\u00de\n\nx\n\ny\n\nz\n\no\n\nCelestial\nsphere\n\n(6-2)\n\ncos ? cos ?\nsin ? cos ?\n\nsin ?\nv=\n\n?\n?\n\nFIGURE 6.5\nDescriptive relationship of navstar between celestial spherical coordinates and rectangular coordinates.\n\no\n\nys wi\n\nvi\n\nxs\n\nzs\nDetector\n\nLens\n\nFIGURE 6.6\nImaging principle of a star sensor.\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 177\n\n\n\nIdeally,\n\nwi 5Avi \u00f06:4\u00de\nwhere A is the attitude matrix of the star sensor.\n\nWhen observing more than two stars, the QUEST method can be used\ndirectly to calculate the optimal attitude matrix (Aq), minimizing the follow-\ning objective function (J\u00f0Aq\u00de) from A [30].\n\nJ\u00f0Aq\u00de5\n1\n2\n\nXn\ni51\n\n?i:wi2Aqvi:\n2 \u00f06:5\u00de\n\nwhere ?i is the weighting coefficient,\nP\n\n?i 5 1.\n\nIn this way, the optimal attitude matrix estimation (Aq) of the star sensor in\nthe inertia space can be gained.\n\n6.1.4.3 Components of the Star Sensor\nThe principle of measurement reveals that, firstly, the star sensor has to\nacquire a star pattern (photograph) and imaging si on the probe of star sen-\nsor. Secondly, star points and corresponding coordinates are extracted. Later,\nthe direction vector of these star points (wi) on the star sensor coordinates\ncan be acquired according to the parameters of the star sensor. Thirdly, si in\nthe navstar catalogue and corresponding to the current star imaging point on\nthe star sensor coordinate plane is identified by using the star identification\ntechnology, which is the basis for acquiring the direction vector (vi) of si in\nthe inertia coordinates. Finally, the optimal attitude matrix (Aq) of the star\nsensor at the moment is estimated by the QUEST method. As a part used on\nspacecraft, the star sensor has certain contact with other parts of the star.\nTherefore, the star sensor is equipped with external interfaces. The workflow\nof the star sensor is shown in Fig. 6.7.\n\nStar\npattern\ncapture\n\nExposure\ntime\n\nStar point\nextraction\n\nExternal\nunit\n\ninterface\n\nStar\npattern\n\nidentification\n\nAccuracy\nthreshold\n\nAttitude\nestimation\n\nStar catalogue\n\nGray threshold\nMaximum number\n\nof stars\nMinimum star\n\ndiagonal distance\n\nFIGURE 6.7\nWorkflow of the star sensor.\n\n178 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nCurrent star sensors in the international market are basically subject to the\nprinciple and workflow illustrated above. To distinguish them from the early\ntracking star sensor, these star sensors are called peering star sensors.\n\n6.1.4.4 Development Status of CCD Star Sensor at Home and Abroad\nVarious commercial CCD autonomous star sensors have been developed.\nTable 6.2 lists some of these that have been applied successfully on\nspacecraft.\n\nTable 6.2 reveals the current basic level of commercial CCD star sensors in\nforeign countries: weight: 3?5 kg; power consumption: about 10 W; data\nupdating rate: 1?10 Hz. Given a FOV of 103 10 degrees, the pointing accu-\nracy reaches 1v with relative lower roll accuracy (about 5v?10v). Given a\nFOV of 203 20 degrees, the point accuracy reaches 10v with relative lower\nroll accuracy (generally 30v?50v).\nDomestic CCD star sensors have also achieved some progress after more\nthan two decades of development. The CCD probe-based star sensor (18\narc-seconds accuracy and 24 h-a-day capture) developed by 502 Institute of\nAerospace Science and Technology Group accomplished the on-orbit task\nsuccessfully, symbolizing the new development stage of star sensors in\nChina. Shanghai Aerospace Control Engineering Research Institute and\nmany other related organizations have conducted on-orbit flight tests of\ntheir star sensors. Additionally, the Institute of Optics and Electronics\n(Chengdu), National Astronomical Observatories of China (NAOC),\nChangchun Institute of Optics, Fine Mechanics and Physics, and Beijing\nUniversity of Aeronautics and Astronautics (BUAA) have also made abun-\ndant research into star sensors and have developed corresponding physical\nstar sensors. However, domestic star sensors are significantly inferior to the\nmore well-known foreign sensors:\n\n1. Poorer pointing accuracy: Under 103 10 degrees, foreign star sensors\ncan achieve a pointing accuracy of 1v, while domestic star sensors can\nonly reach about 10 arc-seconds. The point accuracy of domestic star\nsensors under larger fields of view is even poorer.\n\n2. Longer initial capture time: Foreign star sensors generally cost 5s and\nsome even cost only 1s, while domestic stars sensors generally cost\nabout 30s.\n\n3. Poorer anti-interference: Most domestic star sensors have abnormal\noperation during on-orbit service, caused by the entering of stray sun\nlight and reflected light from the Earth into the FOV. Additionally,\ndomestic star sensors are easily broken down in the South Atlantic\nregion due to abnormal irradiation.\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 179\n\n\n\nTable 6.2 Typical Commercial CCD Star Sensors\n\nCT-633 [31] (CT-600 series) (BALL Aerospace & Technology Corp., U.S.A.)\n\nFOV: 203 20 degrees\nAccuracy (1?): 10v (pitch/yaw), 40v (roll)\nCapture time: 10 s\nData updating rate: 5 Hz\nPower consumption: 8 W\nStandard lens hood\nWeight: 2.5 kg\n\nSED16 [32] (latest model of SED series) (EADS Sodern Corp., France)\n\nFOV: 253 25 degrees\nAccuracy: 10v (pitch/yaw) 55v (roll)\nCapture time: 3 s\nData updating rate: 10 Hz\nPower consumption: 7.5 W\nStandard lens hood: 35 and 25 degrees\nWeight: 3 kg\n\nCALTRAC [33] TM (EMS Technologies Inc., Canada)\n\nFOV: 363 27 degrees\nAccuracy: 0.005 degree (pitch/yaw), 0.02 degree (roll)\nCapture time: 0.5 s\nData updating rate: 25 Hz\nStandard lens hood\n\nContinued\n\n180 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.1.4.5 Status of APS CMOS Star Sensor at Home and Abroad\nCurrently, the CCD star sensor is approaching maturity in foreign countries,\nbut the APS CMOS star sensor is still in the research stage with few on-orbit\napplication cases. Compared to the CCD star sensor, the CMOS star sensor\nhas attracted more attention from international research institutions because\nof its unique advantages. Some research projects on the CMOS star sensor\nhave been launched accordingly. The Miniature Star Tracker (JPL, United\nStates) and ASTRO-APS Star Sensor (Jenaoptronik, Germany) are two typical\nCMOS star sensors.\n\nThe \u201cMicro APS Star Tracker\u201d [36] with ultra-low power consumption\n(70 mW), ultrahigh data updating rate (50 Hz) and ultralight weight (42 g)\ndeveloped by JPL (United States) is exhibited in Fig. 6.8. Its electronical sys-\ntem only contains two pieces of chips: one piece of exclusive APS CMOS\nchip and one piece of application-specific integrated circuit (ASIC) chip that\nintegrates with the I2C interface, memory, and 8051 microprocessor.\n\nTable 6.2 Typical Commercial CCD Star Sensors Continued\n\nCT-633 [31] (CT-600 series) (BALL Aerospace & Technology Corp., U.S.A.)\n\nAstro-15 [34] (latest model of Astro series) (Jenaoptronik, Germany)\n\nFOV: 13.83 13.8 degrees\nAccuracy (1?): 1v (pitch/yaw), 10v (roll)\nData updating rate: 4 Hz\nPower consumption: 10 W (max.), 9 W (norm.)\nStandard lens hood: 35 and 25 degrees\nWeight: 4.3 kg (lens hood excluded)\n\nASC [35]\u2014Technical University of Denmark (Denmark)\n\nFOV: 183 12 degrees\nAccuracy: (1?): 1v (pitch/yaw), 5v (roll)\nInitial capture time: 5 s\nData updating rate: 4 Hz\nPower consumption: 7.8 W\nWeight: 1 kg (lens hood excluded)\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 181\n\n\n\nActually, this micro APS star sensor is just a sensing head. It reads characters\nand outputs initial pixel data through the APS window, but leaves all calcula-\ntions to the on-board computer, which explains its small size, light weight,\nand low power consumption. However, it is only used to demonstrate the\nconcept of the APS CMOS star sensor and has no practical application signifi-\ncance due to its small practice physiognomy, low accuracy, and uncertain\nreliability.\n\nThe APS CMOS star sensor (ASTRO series, Germany Jenaoptronik) [37] has\nachieved great progress. Based on the Alphabus/Large platform of ASTRO\nseries, the development of this APS CMOS star sensor focuses on its eco-\nnomic efficiency and feasibility, aiming to lay a foundation for the follow-up\nlarge-scale development of the APS CMOS star sensor series. The technical\nindexes include: weight ,1.5 kg; power consumption ,5 W; attitude updat-\ning rate: 10 Hz; accuracy: pitch/yaw ,9 arc-second (3?), roll ,45 arc-second\n(3?); design life: 15 years. Although these technical indexes seem similar to\nthose of the existing CCD star sensor, the weight and power consumption\nare lowered. This is mainly because: (1) the high integration of APS CMOS\nand simple peripheral circuit system downsized the PCB (printed circuit\nboard) design and other auxiliary components; (2) APS CMOS integrates cir-\ncuits for AD conversion within the chip, sampling and read, which not only\nlowers power consumption, but also improves the reliability of the star sen-\nsor. Fig. 6.9 shows the complete principled sample of the APS MCOS star\nsensor (ASTRO series, Jenaoptronik, Germany).\n\nThe APS CMOS star sensor also has achieved some progress in China in the\npast 5 years. 502 Institute of Aerospace Science and Technology Group,\n\nFIGURE 6.8\nModel of the Miniature Star Tracker.\n\n182 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nNAOC, Changchun Institute of Optics, Fine Mechanics and Physics, and\nBUAA participated in the research and a principle sample machine was devel-\noped accordingly. Moreover, the star sensor developed by 502 Institute of\nAerospace Science and Technology Group and Tsinghua University is in on-\norbit service.\n\nTherefore, future domestic research into the star sensor will focus on accuracy\nand speed improvement to catch up with the international level. Meanwhile,\nexisting star sensors developed in China are inapplicable to microsatellites\nbecause of their high power consumption and heavy weight. To address these\nproblems, this book introduces several research results in high-accuracy\nmicrostar sensors achieved by this research team, including new technologies\nand new methods.\n\n6.1.5 Framework\nBased on the APS CMOS sun sensor and star sensor developed by the\nresearch team, this book introduces the research methods and ideas of\nhigh-accuracy, high-dynamic, high-reliability and full-autonomous micro sun\nsensors and star sensors based on the APS CMOS imaging sensor, aiming to\nprovide minisatellites, especially microsatellite system accurate real-time atti-\ntude information, to improve the navigation performance of microsatellites\nand explore new ways for the development of practical new optical attitude\nsensors.\n\nFIGURE 6.9\nPrincipled sample of the APS MCOS star sensor (ASTRO series). (A) Principle mode, (B) principled\nsample.\n\n6.1 Introduction to the Advanced Space Optical Attitude Sensor 183\n\n\n\nIn this book, the developed APS CMOS micro sun sensor and star sensor, as\nwell as the key technologies, are introduced in two parts.\n\n6.2 TECHNICAL RESEARCH OF THE APS\nMICRO SUN SENSOR\n\nAccording to the associated mission requirements and micro/nano satellite\ndevelopment idea of Tsinghua University, microminiaturization of on-board\nfunctional units is the key to micro/nano satellite technology. During the\n\u201cTenth Five-Year Plan,\u201d Tsinghua University carried out a technical study on\nthe APS CMOS sun sensor under the support of the 973 Project and made a\ntest flight on an XX-3 satellite under the arrangement of related national\ndepartments. These are the research basis for this book.\n\n6.2.1 Overview\nThe operating principle of a single-aperture sun sensor is similar to a sundial\n(Fig. 6.10A). A sun spot is developed from the sun ray projection on to the\noptical probe through the aperture on the diaphragm. The geometric center\nof the projected sun spot can be used to determine the solar angle.\n\nThe working principle of a multiaperture sun sensor is similar to that of a\nmultislit sun sensor. A sun spot array will be developed from the sun ray\nprojection on the APS probe through apertures on the diaphragm. The geo-\nmetric center of each sun spot can be used to determine the solar angle of\neach sun spot. The mean solar angle of all sun spots is viewed as the sensor\noutput. Compared to the single-aperture sun sensor, the multiaperture sun\nsensor has higher measurement accuracy and wider FOV, which are related\nto the aperture array on the diaphragm (Fig. 6.10B).\n\nAperture\n\ns\n\nAPS probe\n\nMask\nh\n\nh\n\ny\n\nz\n\noyc\nxc\n\nSun ray\n\nMask\nAperture\n\nFocal plane\n\nxl\n\n?\n\n?\n\n?\n\n(A) (B)\n\nFIGURE 6.10\nWorking principle of a sun sensor. (A) Single-aperture sun sensor, (B) multi-aperture sun sensor.\n\n184 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.2.2 Components\n6.2.2.1 Structure Design\nThe appearance of a APS micro sun sensor is exhibited in Fig. 6.11. There is a\nrectangular window on the window plate. The optical system and electronical\nsystem of the sensor are installed inside the circuit box.\n\nThe internal structure of an APS micro sun sensor is shown in Fig. 6.12,\nincluding the imaging sensor and its peripheral circuit, diaphragm, image\nacquisition control circuit, image processing and communication module,\n\nFIGURE 6.12\nInternal structure and general assembly of an APS micro sun sensor.\n\nWindow\n\nCircuit box\n\nWindow\nplate \n\nBase\nboard\n\nFIGURE 6.11\nAppearance of an APS micro sun sensor.\n\n6.2 Technical Research of the APS Micro Sun Sensor 185\n\n\n\ncircuit interface, window plate, circuit box, and baseboard. Parallel incident\nsun rays are split and projected into the sun spot array on the APS probe\nthrough apertures on the diaphragm. The image acquisition circuit composed\nof an imaging sensor as well as its accessory circuit and image acquisition\ncontrol circuit is responsible for the acquisition of sun spot array images. The\nimage processing and communication circuit connected with the on-board\ncomputer through the communication interface is for reading and processing\nimages containing solar angles collected by the image acquisition module,\nand outputting the calculated solar angle.\n\n6.2.2.2 Functional Components\nThe APS micro sun sensor is composed of an MEMS multiaperture dia-\nphragm, APS CMOS digital imaging sensor, as well as image acquisition and\nprocessing circuitry (Fig. 6.13). The diaphragm and imaging sensor constitute\nthe optical system of the APS micro sun sensor. Square aperture arrays are\ndistributed on the diaphragm.\n\nBasic algorithm: acquire images through the digital imaging sensor; use FEIC\nimage processing to estimate barycentric coordinates of sun spots; calculate\nthe solar angles of two axials according to the rating data and error modifica-\ntion data; the image acquisition and processing circuitry, the command cen-\nter of the APS micro sun sensor, is responsible for image acquisition,\ntransmission and processing, and the FEIC algorithm.\n\nMEMS\nmultiaperture light\n\nintroducer\n\nThe sun\n\nAPS CMOS image\nsensor \n\nImage capturing\nand processing\n\ncircuit \n\nStandard template\n\nFEIC algorithm\n\nCalibration and\ncorrection data \n\nSun angle\ncalculation\n\nOutput data\n\nFIGURE 6.13\nWorkflow of the APS micro sun sensor.\n\n186 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.2.3 Optical System Design\nThe optical system of the APS micro sun sensor mainly consists of the MEMS\ndiaphragm and imaging sensor. Firstly, the dynamic photosensitivity range is\ndetermined according to the sensitivity and quantum efficiency of the APS\nCMOS Star1000 probe, which is used to design the structural parameters of\nthe diaphragm.\n\n6.2.4 Selection of APS Imaging Sensor\nIn considering the aerospace applications, technical features (radiation resis-\ntance and high temperature resistance) and technical requirements (e.g.,\naerospace experiences), Star1000 with high radiation resistance is selected as\nthe photosensitive probe (Fig. 6.14).\n\nThe technical indexes of this photosensitive probe are listed in Table 6.3.\n\nFIGURE 6.14\nStar1000 APS CMOS imaging sensor.\n\nTable 6.3 Performance Indexes of APS CMOS Imaging Sensor\n\nPerformances Indexes\n\nArray dimension 10243 1024\nPixel size 15 ?m3 15 ?m\nPower consumption 100?350 mW\nADC output 10 parallel-by-bit\nPhotosensitive spectrum 400?1000 nm\nPixel filrate3photovoltaic conversion rate/FF3QE 20%\n\n6.2 Technical Research of the APS Micro Sun Sensor 187\n\n\n\nThe Star1000 imaging sensor is strongly recommended by the European\nSpace Agency (ESA) and is widely used on spacecraft. Jenaoptronik\n(Germany), Sodern (France), and Galileo reported successful space trials of\nthe Star1000 imaging sensor. In China, 502 Institute and 812 Institute of\nAerospace Science and Technology Group, Tsinghua University and BUAA\nhave tested its space environmental adaptability (e.g., thermal vacuum and\nhigh/low temperatures).\n\n6.2.4.1 Diaphragm Design\nThe diaphragm structure is designed specifically according to the characteris-\ntics of the Star1000 imaging sensor. The distance (h) between the diaphragm\nand the APS probe is determined by parameters of the diaphragm, including\naperture size, aperture interval, number of aperture arrays, and exposure time.\n\n1. Design indexes\n\nThe optical system design is the key to the APS micro sun sensor\ndesign, which can affect its FOV and measurement accuracy directly.\nThe optical system design is based on the design indexes of the APS\nmicro sun sensor.\nThe main design indexes of the APS micro sun sensor include:\n\nFOV: 6 643 6 64 degrees\nAccuracy: 0.02\n\nFirstly, the output accuracy of each solar angle is determined according\nto the design indexes of the APS micro sun sensor. Then, the final\ndesign indexes can be gained according to the mean output accuracy of\nall solar angles. The design accuracy of a single aperture is\n6 0.05 degree.\n\n2. Design principle\n\nAccording to the diffraction law of aperture and aperture array, in the\nsingle-aperture sun sensor, parallel sun rays will pass through the\naperture and project a sun spot on the receiving surface under\nsatisfying conditions. Vertical-incident sun rays will project a round\nsun spot, while oblique-incident sun rays (incidence angle .0 degree)\nwill project approximate oval sun spots and their ovality is\nproportional to the incidence angle. In the multiaperture sun sensor,\nparallel sun rays will pass through the aperture arrays and project sun\nspot arrays on the receiving surface. In other words, each aperture will\nproject a sun spot on the receiving surface. Larger incidence angle,\nfurther distance between the incident plane and the receiving surface,\nand the smaller aperture will cause greater effect of interval between\n\n188 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\ntwo neighboring apertures on the light intensity distribution.\nSometimes, a bright strip will be projected on the receiving surface.\n\nThe basic parameter design of the optical system follows the principle\nthat each aperture has one centroid of sun spot on the APS probe\nduring image identification. To guarantee the centroid estimation\naccuracy of the FEIC algorithm, 43 4 pixels is the lower limit of light\nenergy distribution. However, excessive pixels may bring heavy\ncomputations. The diffraction pattern of single aperture in the aperture\narrays shall be distinguishable; otherwise, bright and dark strips will be\nprojected on the APS probe, which will result in the failures of\nprojection center identification and solar angle measurement of the\nsun sensor. Furthermore, adequate arrays are needed. According to the\nprinciple of statistics, the more arrays involved, the smaller the random\nerror will be.\n\n3. Imaging system modeling\n\nImage-forming principles of single-aperture and multiaperture sun\nsensors are shown in Fig. 6.15.\n\nTake the image-forming principle of single-aperture sun sensor for\nexample. A sun ray passes through the aperture and projects a sun spot\non the focal plane. In the left side image of Fig. 6.15, xc; yc\u00f0 \u00de are the\ncoordinates of the projected sun spot center; l is the distance between\nthe sun spot and the origin; h is the distance between the focal plane\nand diaphragm; ? is the incidence angle of sun ray; and ?;? are the\nangle of pitch and angle of lead of sun ray (solar angle of two axials),\nrespectively, in relation to the coordinates of the sun sensor. The\nrelationship between these parameters can be expressed as:\n\n?5 arctan\nl\nh\n\n? ?\n;?5 arctan\n\nxc\nh\n\n? ?\n;?5 arctan\n\nyc\nh\n\n? ?\n\u00f06:6\u00de\n\nFIGURE 6.15\nImage-forming principle of single-aperture and multiaperture sun sensors.\n\n6.2 Technical Research of the APS Micro Sun Sensor 189\n\n\n\nl5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nxc2 1 yc2\n\np\n\u00f06:7\u00de\n\ntan ?5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\u00f0tan ?\u00de2 1 \u00f0tan ?\u00de2\n\nq\n\u00f06:8\u00de\n\nh represents the distance between aperture and focal plane, which is\nfixed according to the above analysis. Although h is proportional to the\naccuracy of the solar angle, it is limited within the range that ensures\nthe projected sun spot falling in the focal plane under\n1283 128 degrees. Therefore, h is determined by the area array of the\nimaging sensor and field angle of the sun sensor. After h is determined,\nthe measurement accuracy of the sun sensor is mainly determined by\nthe processing accuracy of \u00f0xc; yc\u00de. Multiaperture arrays that can reduce\nrandom error are a good way to improve the accuracy of \u00f0xc; yc\u00de.\nGenerally speaking, the processing accuracy of a single aperture can\nreach the subpixel level (0.05?0.1 pixels). The measurement accuracy\nof the sun sensor is inversely proportional to the square root of the\nnumber of apertures. More apertures will lead to higher measurement\naccuracy and heavier computation. From a global perspective, we\ndesign 36 apertures on the diaphragm, which can improve the accuracy\nof \u00f0xc; yc\u00de to 0.01?0.02 pixels. To disclose the operating principle of the\nsun senor, the following text describes its modeling and solutions.\n\nThe above-mentioned Eqs. (6.6)?(6.8) simplify the projected sun spot.\nHowever, the projection of sun rays is more complicated in reality due\nto the refraction effects of the atmosphere and glass. According to\nFig. 6.16, a sun ray has passed through a vacuum, quartz glass, detector\nprotecting glass (BK7), and nitrogen, successively, before reaching the\ndiaphragm.\n\nh1\n\nh2\n\nh3\n\nh4\n\nDie\n\nDetector \nprotecting \n\nglass\n\nDie cavity\n\nMask glass\n\nl\n?4\n\n?3\n\n?2\n\n?\n\n? Vacuum\n\nVacuum\n\nAir\n\nSun ray\n\nFIGURE 6.16\nSun ray tracing of a sun sensor.\n\n190 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nThen, the function (lB?) should be established as:\n\nl5 h2 tan ?1 h3 tan ?3 1 h4 tan ?4 \u00f06:9\u00de\nnGlass\nnVacuum\n\n5\nsin ?\nsin ?3\n\n\u00f06:10\u00de\n\nnAir\nnGlass\n\n5\nsin ?3\nsin ?4\n\n\u00f06:11\u00de\n\nwhere nGlass; nVacuum; nAir are the refractive indexes of BK7, vacuum and\nair, respectively (nVacuum 5 1). Substituting ?3 and ?4 in Eqs. (6.10) and\n(6.11) into Eq. (6.9),\n\nl5 h2tan ?1 h3tan arcsin\nsin ?\nnGlass\n\n? ?? ?\n1 h4tan arcsin\n\nsin ?\nnAir\n\n? ?? ?\n\u00f06:12\u00de\n\nSince h2; h3; h4; nGlass; nAir are constants and l is the unique function of\n?, ? can be viewed as the function of l in return:\n\n?5 f \u00f0l\u00de5 f\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nxc2 1 yc2\n\np? ?\n\u00f06:13\u00de\n\nCombining Eqs. (6.1), (6.2), (6.3), and (6.8),\n\n?5 arctan\nxc tan f\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nxc2 1 yc2\n\np? ?? ?\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nxc2 1 yc2\n\np\n\n?5 arctan\nyc tan f\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nxc2 1 yc2\n\np? ?? ?\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nxc2 1 yc2\n\np\n\u00f06:14\u00de\n\n(xc; yc) can be gained from Eqs. (6.12) to (6.14). Then, (?; ?) can be\ncalculated.\nIn practical design, h3 5 1 mm, h2 5 0:94 mm, and h4 5 0:528 mm\n(Fig. 6.16). When the incidence angle of the sun ray is ?1, and\nsupposing the refractive index of both Star1000 glass and mask glass is\n1.4586, then,\n\nsin ?1\nsin ?2\n\n5 1:4586\n\nTherefore, the relationship between the position offset of the sun spot\nand the incidence angle can be expressed as:\n\nl5 0:94 tan ?1 11 tan ?2 10:528 tan ?1\n5 1 tan ?2 11:468 tan ?1 \u00f0mm\u00de\n\nAccording to the refraction law,\n\nn5\nsin ?1\nsin ?2\n\n6.2 Technical Research of the APS Micro Sun Sensor 191\n\n\n\nTherefore, the relationship between the relative displacement and\nincidence angle is:\n\nl5 1 tan ?2 1 1:468 tan ?1\n\n5 1:486 tan ?1 1 tan arcsin\nsin ?1\nn\n\n0\n@\n\n1\nA\n\n0\n@\n\n1\nA \u00f0mm\u00de\n\nWhen 0# ?1 , 64 degrees, the relationship between the relative\ndisplacement and tan ?1 is shown in Fig. 6.17.\nSince it is an odd function, the curve when ?1 , 0 is symmetric to the\ncurve in Fig. 6.17.\n\n4. Structure and process design of the diaphragm\nWe design 63 6 45 ?m3 45 ?m aperture arrays with an aperture\ninterval of 480 ?m on the diaphragm. These parameters are related to\nthe initial capture of sun spots in Chapter 7, Miniature Inertial\nMeasurement Unit. The structure and size of the diaphragm are shown\nin Fig. 6.18.\nThe diaphragm is stacked up by quartz glass, a Cr film, a gold film,\nand secondary reflection resistance layers successively from the lighting\nsurface to the APB probe.\nThe glass substrate uses GJB2849-1997 qualified antiradiation quartz\nglass.\nThe mask layer is made of 2000 A gold film.\n\nFIGURE 6.17\nRelationship between relative displacement and tan ?1.\n\n192 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nThe attenuation layer is made of 75 nm Cr film. Specific parameters are\ngiven in the following text.\nThe secondary reflection resistance layer is made of 60 nm Cr film.\nThe process flow of this diaphragm is shown in Fig. 6.19.\nThe mask design is drawn by using L-edit.\n\n6.2.5 Calculation of Exposure Time\nAccording to the parameters of the sun (spectrum: G2; apparent magnitude:\n226.7; surface temperature: 5800K; energy flow: about 1.4 kW/m2), energy\nof the sun is estimated at 2.51226.75 4.793 1010-fold of that of 0 magni-\ntude stars. Therefore, the energy flow of 0 magnitude stars can be calculated\nas 2.92283 1028 W/m2.\n\n480 ?m\n\n480\n\n45 ?m\n\n45 ?m\n\nFIGURE 6.18\nMask design.\n\n6.2 Technical Research of the APS Micro Sun Sensor 193\n\n\n\n2) Sputtering on the 75 nm Cr film\n\n3) Even-coated photoresist\n\nUV exposure\n\nDevelopment, photoresist without UV exposure\n\nSputtering on the 200 nm gold film and 60 nm Cr film successively\n\n1) Quartz glass\n\nMask preparation:\n\nPeel and form the window\n\nFIGURE 6.19\nProcess flow of the diaphragm.\n\n194 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nGiven fixed wavelength and temperature, the energy density function of\nblack-body radiation is:\n\nI\u00f0?; T\u00de5 2U?UhUc\n2\n\n?5U\u00f0ehUc=\u00f0?UkBUT\u00de 2 1\u00de\nwhere h5 6:6263 10234 JUs, c is speed of light (c5 2:9973 108 m=s), kB is\nthe Boltzmann constant (kB 5 1:383 10223 J=K) and, T is temperature\n(5800K).\n\nUnder black-body radiation, the total energies of MV5 0 magnitude stars\nsum to 2.92283 1028 W/m2, the energy sum of all radiated wavelengths. In\nthis case, the energy density distribution is shown in Fig. 6.20.\n\nStar1000 spectra pass through within the range of 400?1000 nm. The corre-\nsponding energy flow is shown as follows.\n\nAccording to the photon energy formula:\n\nE5\nhc\n?\n\nwhere E is photon energy (J), ? is photon wavelength (m), and h is Planck\u2019s\nconstant (h5 6:6263 10234 J ? s). Therefore, the energy flow of the system\ncan be expressed by photons per second (Fig. 6.21).\n\nSome photons convert into electrons on the photosensitive probe, which is\ncalled quantum efficiency (QE). The relation curve between the current/\npower of Star1000 and the wavelength is shown in Fig. 6.22.\n\nFIGURE 6.20\nMV5 0, T5 5800K, the energy flow per wavelength.\n\n6.2 Technical Research of the APS Micro Sun Sensor 195\n\n\n\nAccording to Fig. 6.22, the practical current of the star sensor within the\nwavelength range of 400?1000 nm under the black-body radiation energy\nflow (MV5 0 and T5 5800K) can be calculated. Since an electron carries\n1.63 10219 C electric quantity (1 A5 1 C/s), the relationship between the\nstream of electrons (Ie\u00f0?\u00de) and wavelength can be gained (Fig. 6.23).\nAfter comparing Figs. 6.22 and 6.23, the QE variation of Star1000 with the\nwavelength can be gained (Fig. 6.24).\n\nFIGURE 6.22\nAPS CMOS Star1000 spectral response.\n\nFIGURE 6.21\nPhoton streams distribution within 400?1000 nm wavelength (MV5 0 and T5 5800K).\n\n196 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nThe integral of QE:\n\nEsum 5\n\u00f01000\n400\n\nIe\u00f0?\u00ded?5 1:19231010 \u00f0e2=sm2\u00de\n\nThis result indicates that 1.1923 1010 e2 can be produced on the Star1000\nprobe in 1 second on a 1 m2 lens aperture by stars (MV5 0, G2 spectrum).\n\nFIGURE 6.24\nWavelength-related QE variation of Star1000.\n\nFIGURE 6.23\nRelation curve between Ie \u00f0?\u00de and ? (MV5 0, T5 5800K, 1 m2).\n\n6.2 Technical Research of the APS Micro Sun Sensor 197\n\n\n\nSimilarly, suppose the projection rate of the optical system is T, then the\ntotal electrons produced by the sun (MV5226.8) in the exposure time t on\na 225 ?m2 pixel area can be calculated:\n\nNe 51:1923 1010 3225310212 310\n2\n53 \u00f002\u00f0226:8\u00de\u00de 3Tt \u00f0e2\u00de\n\nThe relationship curve between output voltage of Star1000 sensor and elec-\ntron number is shown in Fig. 6.25. To achieve excellent linearity, we deter-\nmine the number of electrons as 12,000e2.\n\nIf t5 13 1023 s, T5 0.853 1023. Considering the effects of glass transmittance\nand coating film processing, the attenuation of the Cr film is designed 1/1000.\n\nThe sun sensor mainly attenuates the luminous energy through Cr-coated\noptical glass. The Cr coat can maintain the characteristics of the original sun\nray as much as possible, including the spectral characteristics. The transmit-\ntance of sun rays can be controlled by the thickness of the Cr film.\n\nEvery 7.5 nm thickness increment of the Cr film can attenuate the luminous\nenergy by about 50%. The relationship curve between the optical power\nattenuation rate and thickness increment of Cr film (?Cr) is presented in\nFig. 6.26.\n\n1.2\n\n1\n\n0.8\n\n0.6\n\n0.4\n\n0.2\n\n0.0\n0 20,000 40,000 60,000 80,000 100,000\n\nNumber of electrons\n\nV\nol\n\nta\nge\n\n s\nw\n\nin\ng \n\nat\n o\n\nut\npu\n\nt (\nv)\n\n120,000 140,000 160,000 180,000\n\nFIGURE 6.25\nElectron?voltage response curve of the imaging sensor.\n\n198 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nIn other words, if the transmittance of the optical system is T, the thickness\nof the Cr film (m) is:\n\nm57:5 log2\n1\nT\n\n? ?\n575 \u00f0nm\u00de\n\n6.2.6 FEIC Algorithm\nThe sun spot prediction algorithm and the subsampling technology, as well\nas multiwindow extraction technology of the APS imaging sensor, are called\nfuture extraction technology [38,39]. This is the basic guarantee of small size,\nlow-power consumption, and high updating rate of the APS sun sensor.\nDifferent from the orderly reading mechanism of the CCD, the APS imaging\nsensor can read pixels directly according to the X and Y address registers. For\na multiaperture sun sensor, pixels of sun spot arrays are far lower than the\nwhole image array. Generally speaking, a single sun spot on the APS probe\noccupies about 9?25 pixels (33 3?53 5). Therefore, the 63 6 sun spot\narray may occupy 900 pixels as a maximum, only 1/1000th of the whole\nStar1000 imaging sensor.\n\n0 5 10 15 20 25\n0\n\n2\n\n4\n\n6\n\n8\n\n10\n\n12\nO\n\npt\nic\n\nal\n p\n\now\ner\n\n a\ntte\n\nnu\nat\n\nio\nn \n\nra\nte\n\n?Cr/nm\n\nFIGURE 6.26\nRelationship curve between optical power attenuation rate and thickness increment of Cr film.\n\n6.2 Technical Research of the APS Micro Sun Sensor 199\n\n\n\nEach sun spot is viewed as an extraction window. Therefore, the APS sun sen-\nsor has a total of 36 extraction windows, covering information of all sun\nspots. Under normal circumstances, small sun spot displacements exist\nbetween two successive frames of sun spots. Each sun spot in the previous\nframe can be mapped on the current frame according to a certain mapping\nrule [40]. As a result, under a fixed time interval between given frames, the\nmean angular velocity and sun spot displacement are two important influ-\nencing factors of the size and position of the future extraction window.\nWe carried out a quantitative analysis on the relationship between sun spot\ndisplacement variance (?l), sun spot displacement (l) and incidence angle\n(?), and angular velocity of satellite (_?) based on two successive image\nframes. Suppose the time interval between two image frames is 0.1 second,\n?5 0?64 degrees, _?5 1B3 degrees/s, h2 5 0:94 mm, h3 5 1:00 mm,\nh4 5 0:528 mm, nGlass 5 1:4586, and nAir 5 1:00027, then the relationship\nbetween l, ?l and ?, _? is shown in Fig. 6.27.\n\nIn Fig. 6.27, the maximum sun spot displacement between two successive\nimage frames is less than 0.06 mm (4 pixels). Except for such maximum sun\nspot displacement, the future extraction algorithm also has to take noise\nrobustness as well as recursiveness and simplicity of hardware implementation\ninto account. Therefore, our algorithm amplifies all four extraction window\nsides of current frame by 4 pixels, respectively, based on the image window\ncalculated from the previous frame, forming a 133 13 pixel window (P). The\ncenter of P is \u00f0x; y\u00de, representing the current sun spot displacement compared\nto the sun spot at 0 degree incidence angle. According to the diaphragm\n\n4\n\n(A) (B)\n\nUnit: mm\n\n3\n\n2\n\n4\n\n0\n\n\u20131\n\n\u20132\n\n\u20133\n\n\u20134\n\u201360 \u201340 \u201320 0\n\nIncidence angle ?\nUnit: degree\n\nS\nun\n\n s\npo\n\nts\n d\n\nis\npl\n\nac\nem\n\nen\nt\n\n20 40 60\n\n0.05\n\n0.04\n\n0.03\n\n0.02\n\n0.01\n\n0\n\nUnit: mm\n\n1 degree/s\n2 degree/s\n3 degree/s\n\n\u201360 \u201340 \u201320 0\n\nIncidence angle ?\nUnit: degree\n\nS\nun\n\n s\npo\n\nts\n d\n\nis\npl\n\nac\nem\n\nen\nt v\n\n a\nria\n\nnc\ne\n\n20 40 60\n\nFIGURE 6.27\nRelationship between l , ?l and ?, _?. (A) Relationship between sun spot displacement and ?, (B) relationship between sun spot\ndisplacement variance and ?, _?.\n\n200 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nstructure, a total of 36 windows can be extracted at a time (P1?P36), with\ncorresponding center coordinates of x1; y1\u00f0 \u00de? x36; y36\u00f0 \u00de.\n\n6.2.6.1 High-Accuracy Sun Spot Determination Based on Image\nCorrelation Algorithm\nIn this book, the image correlation algorithm of the APS sun sensor is com-\nposed of a correlation algorithm based on a sun spot and centroiding algo-\nrithm based on correlation results.\n\n1. Image correlation algorithm based on a sun spot template\n\nAlthough the image correlation algorithm plays an important role in\npattern identification due to its high accuracy and reliability [41], it is\nseldomly used in sun sensors (especially area array imaging sensor)\nbecause of its heavy computation requirement. However, the APS\nCMOS sun sensor can provide fast sun image extraction and sun spot-\nrelated technologies through its future extraction mechanism.\n\nWindow covering sun spots can be extracted directly through the future\nextraction algorithm. However, since a single sun spot occupies\n33 3?53 5 pixels, but the sun spot template generally is determined\nby 53 5 pixels, the future extracted sun spots must be amplified to\n133 13 pixels in order to achieve perfect correlation (Fig. 6.28).\n\nImage correlation\nstart template\n\nposition\n\nImage correlation\nend template\n\nposition \n\nIdeal sun spot\nimage positiont\n\nFuture extracted\nimage region\n\n13 pixels\n\n5 pixels\n\nPixel\n\nFIGURE 6.28\nFuture extraction and image correlation algorithm of a single sun spot.\n\n6.2 Technical Research of the APS Micro Sun Sensor 201\n\n\n\nThe following text introduces the correlation algorithm of a single sun\nspot. Suppose the single sun spot template is T1 (53 5 pixels), the\nfuture extracted image window is P1 (133 13 pixels), T1\u00f0i; j\u00de and P1\u00f0i; j\u00de\nare the gray values of image (i,j) within T1 and P1, respectively, then\nthe correlation algorithm can be expressed as:\n\nC1\u00f0m; n\u00de5\nX5\ni51\n\nX5\nj51\n\nP1\u00f0m1 i; n1 j\u00deT1\u00f0i; j\u00de m; n50?8 \u00f06:15\u00de\n\nwhere C1 is the correlation matrix of a single sun spot (93 9 pixels).\nFig. 6.29 presents a typical correlation matrix of single sun spot.\n\nNext, we can get the correlation matrix of each sun spot (Ci). A total\nof 36 correlation matrixes can be gained according to the diaphragm\nstructure, recorded as C1;C2; . . .;C36. Their corresponding templates are\nT1;T2; . . .;T36 and the extraction windows are P1;P2; . . .;P36.\n\n2. Centroiding algorithm based on a sun spot correlation matrix\n\nA centroiding algorithm is a universal algorithm for sun sensors to\nimprove resolution during signal processing. In traditional centroiding\nalgorithms, the centroid is calculated through the user\u2019s designated\nwindow with peak pixels [42] (Fig. 6.30).\n\nFIGURE 6.29\nA typical correlation matrix C .\n\n202 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nSuppose the peak pixels locate on xpeak; ypeak\n? ?\n\nand P\u00f0i; j\u00de is the gray\nvalue of the ith row and jth column, then the window pixels used in\nthe centroiding algorithm are:\n\nxc 5\n\nXxpeak1k\ni5xpeak2k\n\nXypeak1k\nj5ypeak2k\n\nP\u00f0i; j\u00de3 i\n\nXxpeak1k\ni5xpeak2k\n\nXypeak1k\nj5ypeak2k\n\nP\u00f0i; j\u00de\n\nyc 5\n\nXxpeak1k\ni5xpeak2k\n\nXypeak1k\nj5ypeak2k\n\nP\u00f0i; j\u00de3 j\n\nXxpeak1k\ni5xpeak2k\n\nXypeak1k\nj5ypeak2k\n\nP\u00f0i; j\u00de\n\n\u00f06:16\u00de\n\nIn Eq. (6.16), the window size is determined by 2k1 13 2k1 1.\nA centroiding algorithm is susceptible to the center position. Due to\neffects of image noise, sun ray scattering, and intensity change [43], the\ncenter position will shift to a certain extent, especially under saturation\nof many pixels. Meanwhile, window size can affect the calculation\naccuracy to a certain extent. An over-large window will involve\nexcessive noises into the algorithm, while an over-small window will\nlose useful signals. Although a centroiding algorithm has so many\nshortcomings, it has still proved simple and efficient in most cases.\n\nFIGURE 6.30\nTraditional centroiding algorithm.\n\n6.2 Technical Research of the APS Micro Sun Sensor 203\n\n\n\nThe centroid windows in the centroiding algorithm based on the\ncorrelation matrix of sun spots are simplified into C1;C2; . . .;C36\ndirectly. Take the first sun spot for instance; its centroid ~x1; ~y1\n\n? ?\nis\n\ncalculated from:\n\n~x1 5\n\nX8\nm50\n\nX8\nn50\n\nC1\u00f0m; n\u00de3 \u00f0m24\u00de\n\nX8\nm50\n\nX8\nn50\n\nC1\u00f0m; n\u00de\n\n~y1 5\n\nX8\nm50\n\nX8\nn50\n\nC1\u00f0m; n\u00de3 \u00f0n2 4\u00de\n\nX8\nm50\n\nX8\nn50\n\nC1\u00f0m; n\u00de\n\n\u00f06:17\u00de\n\nThen, the displacement between the first sun spot and the template\ncenter xc1; yc1\u00f0 \u00de can be calculated:\nxc1 5 x1 1 ~x1 2 x1\nyc1 5 y1 1 ~y1 2 y1\n\n\u00f06:18\u00de\n\nwhere \u00f0x1; y1\u00de is the center coordinates of the first sun spot gained in\nthe laboratory, which will be analyzed specifically in the sun sensor\ntest. Similarly, the center of each sun spot can be calculated from\nEqs. (6.17) to (6.18). In this APS sun sensor, the displacements\nbetween 36 sun spots and the template are calculated, and recorded as\nxc1; yc1\u00f0 \u00deUUU xc36; yc36\u00f0 \u00de.\nDue to the image noise, the sun spot displacement under vertical sun\nray incidence xc; yc\u00f0 \u00de can be viewed as the weighted mean of\nxc1; yc1\u00f0 \u00deUUU xc36; yc36\u00f0 \u00de:\n\nxc 5\nX36\ni\n\naixci\n\nyc 5\nX36\ni\n\nbiyci\n\n\u00f06:19\u00de\n\nwhere ai; bi are weight coefficient,\nP\n\nai 5 1 and\nP\n\nbi 5 1.\n\n6.2.6.2 Optimization of the Centroiding Algorithm\nAccording to the imaging model of the sun sensor, given a fixed attitude of\nthe sun sensor, the displacements between all sun spots and corresponding\nsun spots under vertical sun ray incidence are theoretically equal:\n\nxc1 5 xc2 5?5 xc36\nyc1 5 yc2 5?5 yc36\n\n\u00f06:20\u00de\n\n204 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nHowever, this is impractical due to the imaging noise and calculation error.\nThey differ slightly from each other (,0.2 pixel). It can be seen from\nEq. (6.20) that xc1 includes the center pixel coordinate of the future extrac-\ntion window (x1), the centroid coordinate of template center (x1), and the\ncenter coordinate of correlation matrix (~x1) ? x1 is a constant which was\nstored in electronic equipment directly after being calculated in the labora-\ntory and x1 is an integer (pixel). We can conclude that\n?x1 5?x2 5?5?x36 by defining ?x1 5 x1 2 x1, indicating that displace-\nments between all sun spots within the future extraction window and corre-\nsponding sun spot template position are equal:\n\n?x5?x1 5?x2 5?5?x36\n\n?y5?y1 5?y2 5?5?y36\n\n(\n\u00f06:21\u00de\n\nSubstituting Eqs. (6.21) and (6.20) into Eq. (6.19),\n\nxc 5?x1\nX36\ni51\n\nai ~xi\n\nyc 5?y1\nX36\ni51\n\nbi ~yi\n\n\u00f06:22\u00de\n\nThis confirms that the accuracy of the sun sensor is mainly determined by\nthe centroid in the sun spot correlation algorithm.\n\nai and bi are selected mainly though the correlation matrix:\n\nai 5 bi 5\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\n\u00f06:23\u00de\n\nSubstituting Eqs. (6.22) and (6.23) into Eq. (6.20),\n\nxc 5?x1\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\u00f0m2 4\u00de\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\n\nyc 5?y1\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\u00f0n24\u00de\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\n\n\u00f06:24\u00de\n\n6.2 Technical Research of the APS Micro Sun Sensor 205\n\n\n\nTo reduce multiple operations, Eq. (6.24) is reordered and recombined:\n\nxc 5?x1\n\nX8\nm50\n\nX8\nn50\n\nX36\ni51\n\nCi\u00f0m; n\u00de\n !\n\n\u00f0m24\u00de\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\n\nyc 5?y1\n\nX8\nn50\n\nX8\nm50\n\nX36\ni51\n\nCi\u00f0m; n\u00de\n !\n\n\u00f0n24\u00de\n\nX36\ni51\n\nX8\nm50\n\nX8\nn50\n\nCi\u00f0m; n\u00de\n\n\u00f06:25\u00de\n\nEq. (6.25) demonstrates that the centroid of the correlation matrix is the\nweighted mean of all sun spots and the centroid of sum of all correlation\nmatrixes. This chapter defines the image correlation algorithm and centroid-\ning algorithm of sun spots as the image correlation algorithm.\n\nWhen \u00f0xc; yc\u00de is calculated, the future extraction point in the next frame\n\u00f0?x;?y\u00de can be viewed equal to \u00f0xc; yc\u00de directly. In this way, the sun spot\nimage position in the next frame can be known through extraction within\nthe 133 13 pixel window centered at \u00f0xc; yc\u00de. On this basis, the sun spot\nimage position in the next frame can be calculated accurately through the\ncorrelation algorithm, thus realizing the recursion of FEIC algorithm in the\nsun sensor.\n\nThe implementation flow of the above-mentioned future extraction and\nimaging correlation algorithm of APS sun sensor is: Acquire sun spot tem-\nplate (Ti) and center coordinate of each sun spot (\u00f0xi; yi\u00de,i5 1?36) under\nvertical sun ray incidence in the laboratory.\n\nSuppose ?x;?y\u00f0 \u00de is captured; Estimate the center coordinates of each sun\nspot in the next frame through:\n\nxi 5 int\u00bd?x1 xi 1 0:5?\nyi 5 int\u00bd?y1 yi 10:5?\n\n\u00f06:26\u00de\n\nwhere int[x] represents maximum integers smaller than x.\n\nDetermine the extraction region of each sun spot (Pi) according to xi; yi\u00f0 \u00de.\nCalculate the correlation matrix of each sun spot (Ci) from Pi and Ti.\n\nCalculate xc; yc\u00f0 \u00de and further calculate ?;?\u00f0 \u00de from the correlation equation.\nMeanwhile, transmit xc; yc\u00f0 \u00de to image extraction of the next frame directly and\nthen return to Step 3. This is the whole implementation flow of FEIC algo-\nrithm of the APS sun sensor.\n\n206 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.3 TECHNICAL RESEARCH OF THE APS MICRO STAR\nSENSOR\n\n6.3.1 Overview\nThe basic principle of the APS micro star sensor was explored during the\n\u201cTenth Five-Year\u201d under the support of the 973 Project of \u201cNew Method and\nNew Principle of Functional Components of Micro Spacecraft.\u201d Based on\nassociated research results, the 863 Project of \u201chigh-performance attitude and\norbital integration determination system\u201d was further improved during the\n\u201cEleventh Five-Year,\u201d achieving many breakthroughs concerning large aper-\nture optical design, integrated system design, and low-power consumption\nelectronics design of the star sensor. A star sensor with excellent perfor-\nmances (weight: ,1.5 kg; power consumption: ,2 W; accuracy: 7v; initial\ncapture time: ,1 second) and higher flexibility was developed and can be\napplied to microsatellites as well as micro/nano satellites.\n\n6.3.2 Development Trend of APS Technology\nCompared to the sun sensor, the star sensor has higher accuracy and weaker\nsensitive photoelectric signals. For the APS CMOS photosensitive probe [44],\nthe APS star sensor is inferior to the APS sun sensor in imaging and anti-\ninterference. This complicates the APS star sensor research. However, it is still\nan important research direction and hot spot in the world for its low power\nconsumption, strong radiation resistance, and simple probe operation [36].\nThe reading principles of a typical APS image sensor and CCD image sensor\nare shown in Fig. 6.31 [45].\n\nCamera\n(printed circuit board)\n\nBias\ngeneration\n\n(A) (B)\n\nClock &\ntiming\n\ngeneration\n\nClock\ndriveks\n\nOscillator\n\nLine\ndriver\n\nTo frame\ngrabber\n\nAnalog-to-digital\nconversion\n\nElectron-to-voltage\nconversion\n\nPhoton-to-electron\nConversion\n\nCharge-coupled device\nimage sensor\n\nCamera\n(printed circult board)\n\nComplementary metal oxide semiconductor\nimage sensor\n\nC\non\n\nne\nct\n\nor\n\nB\nla\n\ns \nde\n\nco\nup\n\nlin\ng\n\nB\nlo\n\ns\nge\n\nne\nra\n\ntio\nn\n\nClock &\ntiming\n\ngeneration\n\nOsclllator\n\nLine\ndriver\n\nTo frame\ngrabber\n\nAnalog-to-digital\nconversion\n\nGain\n\nColumn amps\n\nE\nle\n\nct\nro\n\nn-\nto\n\n-v\nol\n\nla\nge\n\nco\nnv\n\ner\nsi\n\non\nP\n\nho\nto\n\nn-\nto\n\n-e\nle\n\nct\nro\n\nn\nco\n\nnv\ner\n\nsi\non\n\nColumn mux\n\nR\now\n\n d\nriv\n\ner\ns\n\nR\now\n\n a\ncc\n\nes\ns\n\nGain\n\nFIGURE 6.31\nReading principles of a CCD image sensor (A) and an APS image sensor (B).\n\n6.3 Technical Research of the APS Micro Star Sensor 207\n\n\n\nCompared to the CCD image sensor, the advantages and disadvantages of an\nAPS image sensor include the following [46].\n\nAdvantages:\n1. Lower power consumption, smaller size and lighter weight;\n2. Window exposure and direct access;\n3. Simple application, integration convenience, single-chip digital\n\nimage, and single power supply;\n4. Applicable to oversized format images; compatible with other\n\ncircuits;\n5. Noise remains the same when data transmission is accelerated;\n6. Strong radiation resistance: 10 Mrad (si),1000x CCD.\n\nDisadvantages:\n1. Lower filling factor (FF) (,50%);\n2. Lower sensitivity. QE3 FF generally ranges from 20% to 30%;\n3. Big noise, especially the modal noise.\n\nWith the continuous development of APS CMOS, these advantages are\nimproving gradually and great breakthroughs will be achieved in the future.\nSupported by ESA, CSCB have developed the HAS APS and LCMS APS sen-\nsors. Their QE and FF are improved significantly compared to that of the\nStar1000. Fig. 6.32 presents QE3 FF of Star1000, Star250, HAS, and LCMS\n\nFIGURE 6.32\nQE3 FF of Star1000, Star250, HAS, and LCMS sensors [47].\n\n208 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nsensors. The QE3 FF of LCMS and HAS is approaching that of the CCD, lay-\ning foundations for the development of a high-accuracy APS star sensor.\n\nThe APS progress lays a solid foundation for the development of a new star\nsensor. The following text will introduce the core technologies as well as the\nbasic design method and principles of the star sensor.\n\n6.3.3 Overall Design\nThe star sensor is composed of a lens hood, camera lens, and electronics pro-\ncessing unit (Fig. 6.33). To meet the requirements of reliability and frequent\nmodification, the electronics system uses three pieces of processing boards,\nnamely the APS CMOS imaging system, the FPGA image acquisition and\ncommunication system, as well as the DSP star pattern identification and\nattitude calculation system.\n\n6.3.3.1 Determination of FOV and Focal Distance\nGenerally, the pointing accuracy of a star sensor determines the FOV and\nfocal distance. However, the FOV, focal distance, and probe size of a star sen-\nsor restrict one another (Fig. 6.34).\n\nFor example, if the designed pointing accuracy of the APS CMOS micro star\nsensor is 7v (3?), the angular resolution of each sub-pixel (1/10 pixel) can be\ndesigned 7v according to the pixel amount of its photosensitive probe and accu-\nracy of subpixel. Take the Star1000 imaging sensor, for instance. If lpix 5 15 ?m,\nthen ?pix 5 1:5 ?m and the corresponding ? can be viewed as the designed\npointing accuracy (e.g., 7v). Therefore, the focal distance (f) can be calculated:\n\nf $\n?pix\n\natan \u00f0?\u00de\n\nFIGURE 6.33\nA star sensor.\n\n6.3 Technical Research of the APS Micro Star Sensor 209\n\n\n\nThis represents the accuracy of a single star. Theoretically, longer f leads to\nhigher accuracy but smaller FOV. The relationship between focal distance,\nFOV, and probe is:\n\nf 3 tan\n?FOV\n2\n\n? ?\n5\n\nL\n2\n\n\u00f06:27\u00de\n\nwhere f and ?FOV are the focal distance and FOV of the star sensor, respec-\ntively, and L is the length of the photosensitive region of the probe.\n\nTo achieve the desired pointing accuracy of 7v, Star1000 (photosensitive\npixel: 15 ?m; photosensitive array: 10243 1024; photosensitive region:\n15.36 mm) must have longer than 44.2 mm focal length. In this book, the\nfocal length is determined at 50 mm in considering the industrial standard\nof optical lens system, processing difficulties of the lens, and constraints of\nFOV (17.46 degrees).\n\nThe accuracy of a single star is designed higher than 7v. Optical distortion\nand system installation and adjustment during the design will affect the accu-\nracy to a certain extent. However, a star sensor generally integrates various\nstars during attitude calculation, thus enabling achievement of an overall\naccuracy of 7v.\n\n6.3.3.2 Magnitude Determination of Navstar\nAccording to the function provided by the SKY2000 star catalogue [48],\nthe relationship between the average number of stars and the apparent\nmagnitude is:\n\nN\u00f0MV \u00de5 6:5e1:107 MV \u00f06:28\u00de\nwhere N\u00f0MV \u00de represents the number of navstars (magnitude#MV) and MV is\nthe apparent magnitude.\n\no\n\nL\n\nf ?\n\nO\u2019\n\nlpix\n\n?pix\n\nImage sensor\n\nLens center\n\n?FOV / 2\n\nFIGURE 6.34\nRelationship between the pointing accuracy of a star sensor and its parameters (e.g., FOV and focal\ndistance).\n\n210 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nSuppose stars distribute evenly on the celestial sphere, then the average num-\nber of stars within the FOV can be calculated according to the spherical\ndegree of the FOV of the star sensor:\n\nNFOV 5N\u00f0MV \u00de\n2?24 arccos sin2\n\n?FOV\n2\n\n? ?\t \n\n4?\n\n\u00f06:29\u00de\n\nwhere NFOV represents the number of stars within the FOV and ?FOV is the\nfield angle.\n\nThe relationship between apparent magnitude, NFOV , and ?FOV can be gained\nthrough numerical simulation (Fig. 6.35).\n\nTable 6.4 lists NFOV under different magnitudes when ?FOV ?24.5 degrees.\n\nThe relationship between the pitch/yaw accuracy of the star sensor and the\nnumber of star is:\n\nFIGURE 6.35\nRelationship between apparent magnitude, NFOV , and ?FOV of the star sensor.\n\nTable 6.4 Number of Stars Within 17.53 17.5 Degrees Under Different\nMagnitudes\n\nMagnitude (MV) 3 3.5 4 4.5 5 5.5 6\n\nNFOV 1.4 2.4 4.1 7.1 12.6 21.9 38.2\n\n6.3 Technical Research of the APS Micro Star Sensor 211\n\n\n\n?pitch;yaw 5\n?starffiffiffiffi\nN\n\np \u00f06:30\u00de\n\nwhere ?star is the processing accuracy of a single star, N is number of stars,\nand ?pitch;yaw is the pitch/yaw accuracy of the star sensor.\n\nEq. (6.30) demonstrates that the more stars are involved, the higher the accu-\nracy of the star sensor will be. However, this will increase system computa-\ntions to tracking all navstars. The accuracy of the star sensor fails to improve\nsignificantly when it involves more than 15 stars. Considering impacts of\nground experiment and model stars, the appropriate apparent magnitude of\nthe star sensor is determined as 5.2 (MV5 5.2). When the sensitive magni-\ntude decreases, the lens diameter of the star sensor will reduce accordingly,\nreducing the size and weight of the star sensor and so is convenient for lens\ndesign.\n\nMeanwhile, attention also is paid to the probability satisfying star pattern\nidentification conditions for 24-h-a-day autonomous identification. Star pat-\ntern identification based on star diagonal distance requires at least four stars\nwithin the FOV. Abundant researches have confirmed that the number of\nstars within any FOV is subject to Poisson\u2019s distribution [49]:\n\nP\u00f0X5 k\u00de5 e2? ?\nk\n\nk!\n\u00f06:31\u00de\n\nwhere P\u00f0X5 k\u00de is the distribution probability of star k in the FOV and ? is\nthe average number of stars in the FOV (?5 15 in this book). Therefore, the\nprobability of having at least four stars in the FOV can be calculated:\n\nP\u00f0X$ 4\u00de512\nX3\nk50\n\nP\u00f0X5 k\u00de5 99:98% \u00f06:32\u00de\n\nThis indicates that 24-h-a-day initial attitude capture is feasible under most\nsituations (99.98%), which is completely acceptable for a star sensor.\n\n6.3.3.3 Initial Capture Time and Updating Rate\nDifferent from the CCD star sensor, the APS CMOS star sensor generally has\na lower QE, which requires longer exposure time and shorter processing time\nas much as possible to ensure the global updating rate. Generally speaking,\nin star sensors, the global attitude updating rate is inversely proportional to\nthe exposure time. The attitude updating rate of a typical CCD star sensor is\n5 Hz. In this book, the attitude updating rate of APS CMOS star sensor is\nalso determined at 5 Hz.\n\nThe exposure time of the star sensor is directly related to the sensitivity of\nthe photosensitive probe, as well as the entrance pupil diameter and trans-\nmittance of the lens. The exposure time of the APS CMOS will be introduced\n\n212 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nspecifically in Chapter 7, Miniature Inertial Measurement Unit. The real-time\nstar pattern processing method and fast 24-h-a-day autonomous star pattern\nidentification algorithm save the initial capture time of star sensor signifi-\ncantly, about 1 second for an international advanced star sensor. Our\ndesigned star sensor with low magnitude, large FOV, and flow type only\ntakes 0.5 second for the initial capture.\n\n6.3.3.4 General Technical Indexes and Implementation Framework\nTable 6.5 lists the general technical indexes of the APS CMOS micro star\nsensor.\n\nBased on the comprehensive considerations on the technical indexes of a\nhigh-accuracy autonomous star sensor, the overall implementation of a star\nsensor will focus on high attitude measurement accuracy, real-time data pro-\ncessing, small size and weight, and low power consumption (Fig. 6.36).\n\nThe following text will introduce the major content of each part in this over-\nall design and implementation plan\n\n6.3.3.5 Optical System\nAs a weak target detection system, a star sensor has strict requirements on\noptical imaging and stray light inhibition. According to the general require-\nments of a star sensor, we designed the lens properties as:\n\n1. Focal distance: 50 mm;\n2. Relative aperture: 1/1.25;\n3. Spectral band: 500?850 nm;\n4. FOV: 2?5 20 degrees, no vignetting;\n5. Relative distortion: ,0.1%\n6. Transmittance: .72%.\n\nAccording to the deep analysis results, a complicated double-Gauss optical\nstructure is used as the optical system of the CMOS star sensor, thus promis-\ning large FOV and relative aperture. Additionally, no glued components or\n\nTable 6.5 General Technical Indexes of APS CMOS Micro Star Sensor\n\nFOV 17.53 17.5 Degrees\n\nSensitive magnitude $ 5.2 MV\nAccuracy (3?) ,7v (pitch/yaw), 35v (roll)\nData updating rate $ 5 Hz\n24-h-a-day autonomous attitude capture time # 1 s\nWeight # 1.1 kg (lens hood excluded)\nPower consumption # 1.5 W\n\n6.3 Technical Research of the APS Micro Star Sensor 213\n\n\n\nradiative lanthanides glass are used in considering its application environ-\nment in space. The lens structure is shown in Fig. 6.37. This optical lens is\ncomposed of nine pieces of completely independent lens, covered by the\nquartz window in the front end to increase its space radiation resistance.\n\nGeneral technical indexes\n\nMeasures for attitude measurement\naccuracy improvement\n\nMeasures for accelerating data\nprocessing \n\nMeasures for reducing size,\nweight and power consuption\n\nSu\nb \n\npi\nxe\n\nl t\nec\n\nhn\nol\n\nog\ny\n\nSt\nar\n\n in\nte\n\ngr\nat\n\nio\nn\n\nE\nrr\n\nor\n c\n\nor\nre\n\nct\nio\n\nn \n&\n\n n\noi\n\nse\nab\n\nat\nem\n\nen\nt\n\nL\now\n\n m\nag\n\nni\ntu\n\nde\n &\n\n la\nrg\n\ne\nFO\n\nV\n\nIm\nag\n\ne \npr\n\noc\nes\n\nsi\nng\n\nop\ntim\n\niz\nat\n\nio\nn \n\n&\n s\n\nta\nr \n\npa\ntte\n\nrn\nid\n\nen\ntif\n\nic\nat\n\nio\nn \n\nal\ngo\n\nri\nth\n\nm\n  \n\nH\nig\n\nh-\npe\n\nrf\nor\n\nm\nan\n\nce\npr\n\noc\nes\n\nso\nr\n\nA\nPS\n\n C\nO\n\nM\nS \n\nse\nns\n\nor\n\nE\nle\n\nct\nro\n\nni\ncs\n\n in\nte\n\ngr\nat\n\nio\nn\n\nte\nch\n\nno\nlo\n\ngy\n\nH\nig\n\nh-\nin\n\nte\ngr\n\nat\nio\n\nn \nan\n\nd\nlo\n\nw\n-p\n\now\ner\n\n c\non\n\nsu\nm\n\npt\nio\n\nn\nco\n\nm\npo\n\nne\nnt\n\ns\n\nSt\nru\n\nct\nur\n\ne \nde\n\nsi\ngn\n\nop\ntim\n\niz\nat\n\nio\nn \n\n&\n P\n\nSE\n o\n\npt\nic\n\nal\nas\n\nse\nss\n\nm\nen\n\nt \n\nFIGURE 6.36\nImplementation framework of an APS CMOS micro star sensor.\n\nFIGURE 6.37\nLens structure of a star sensor.\n\n214 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nAccording to the on-orbit application features of a star sensor, to ensure the\nreliable on-orbit operation of the star sensor, the optical system shall pay\nattention to not only technical parameters (diapoint, aberration, and distor-\ntion required by traditional optical lens), but also temperature and on-orbit\nadaptation, especially their effects on system operation.\n\n6.3.3.6 Effect of Temperature on Optical System\n\n1. Uneven distribution of temperature\n\nThe integrated star sensor is installed outside the satellite. Its bottom\nand the engine body of the satellite are for heat conduction, thus\nhaving relatively good temperature conditions. However, the lens and\nlens hood in its optical system extend longer, suffering more obvious\ntemperature variation. Additionally, the heat from the power\nconsumption of the system also can affect the temperature to a certain\nextent. Since the APS star sensor consumes a small amount of power\n(,2 W), its operating temperature only exerts slightly effect on the\nlens. According to the outer space law, the lens temperature of a star\n\nFIGURE 6.38\nTemperature distribution with temperature gradient.\n\n6.3 Technical Research of the APS Micro Star Sensor 215\n\n\n\nsensor increases gradually from the inside to out, forming a\ntemperature gradient of 10?C (Fig. 6.38)\n\nAccording to Fig. 6.38, the temperature difference between the front\nlens end and the back lens end reaches 10?C. The corresponding\ndiapoint of the optical system is shown in Fig. 6.39.\n\nThe RMS radius variations of the disc of confusion of FOV are\npresented in Table 6.6.\n\nConclusion: Temperature gradient influences lens radius, lens\nspacing, glass thickness, lens inclination, and bias slightly (smaller\nthan system processing and adjustment tolerance), which can be\nviewed as insignificant to the size and shape of the disc of\nconfusion. In other words, the system can maintain normal\noperations under this 10?C temperature gradient.\n\nFIGURE 6.39\nDiapoint under a 10?C axial temperature gradient.\n\n216 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n2. Temperature variation\n\nThe effects of temperature variation (6 40 and 6 20?C) on the disc of\nconfusion, energy centroid, and focal distance are analyzed in\nTable 6.7.\n\nTable 6.6 Effect of 10?C Temperature Gradient (?m)\n\nFOV (Degrees) 0 2.5 5 7.5 10\n\nInitial RMS radius of the disc of confusion 9.943 9.316 8.094 8.525 14.106\nRMS radius of the disc of confusion affected by temperature\ngradient\n\n9.958 9.183 7.678 8.182 13.415\n\nRMS radius variation of the disc of confusion 0.015 2 0.133 2 0.416 2 0.343 2 0.691\n\nTable 6.7 Effects of Temperature Variation\n\nTemperature\nVariation\n\nFOV\n(Degrees)\n\nRMS Radius of the Disc of\nConfusion (\u00b5m)\n\nEnergy Centroid\nHeight (mm)\n\nFocal Distance\nVariation (\u00b5m)\n\n240?C 0 9.893 0 2 9\n2.5 9.152 2.1780\n5 7.623 4.3632\n7.5 7.888 6.5648\n10 13.063 8.7972\n\n220?C 0 9.892 0 2 4.5\n2.5 9.202 2.1783\n5 7.823 4.3639\n7.5 8.167 6.5658\n10 13.173 8.7984\n\n0?C 0 9.943 0 0\n2.5 9.307 2.1787\n5 8.084 4.3645\n7.5 8.504 6.5668\n10 13.327 8.7998\n\n120?C 0 10.044 0 1 4.5\n2.5 9.466 2.1790\n5 8.400 4.3652\n7.5 8.892 6.5678\n10 13.477 8.8011\n\n140?C 0 10.193 0 1 9\n2.5 9.674 2.1793\n5 8.765 4.3658\n7.5 9.324 6.5688\n10 13.696 8.8024\n\n6.3 Technical Research of the APS Micro Star Sensor 217\n\n\n\nThe relation curves of the temperature?RMS radius of the disc of\nconfusion and temperature?energy centroid height are shown in Figs. 6.40\nand 6.41, respectively. Within a large temperature range, the energy\ncentroid height changes within 3 ?m (1/5 pixel), which will not influence\nthe accuracy of the star sensor.\n\n1.0\n\n0 degree\n2.5 degree\n5.0 degree\n7.5 degree\n10.0 degree\n\n0.8\n\n0.6\n\n0.4\n\n0.2\n\n0.0\n\n\u20130.2\n\n\u20130.4\n\n\u20130.6\n\n\u20130.8\n\u201340 \u201320\n\nT\nhe\n\n r\nad\n\niu\ns \n\nva\nria\n\ntio\nn \n\nof\n d\n\nis\npe\n\nrs\nio\n\nn\nsp\n\nec\nkl\n\ne(\num\n\n)\n\n0\nTemperature variation (\u00b0C)\n\n20 40\n\nFIGURE 6.40\nRelationship curves of temperature?RMS radius of the disc of confusion.\n\n2.5 degree\n5.0 degree\n7.5 degree\n10.0 degree\n\n0.003\n\n0.002\n\n0.001\n\n0.000\n\n\u20130.001\n\n\u20130.002\n\n\u20130.003\n\n\u201340 \u201320\n\nE\nne\n\nrg\ny \n\nce\nnt\n\nro\nid\n\n h\nei\n\ngh\nt(\n\nm\nm\n\n)\n\n0\nTemperature variation (\u00b0C)\n\n20 40\n\nFIGURE 6.41\nRelationship curves of temperature?energy centroid height.\n\n218 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n3. Focal distance analysis\n\nThe focal distance diapoint of the optical system is shown in Fig. 6.42.\nDuring the movement within 6 60 ?m target surface, the circle of\nconfusion largens and energy diffuses.\n\nThe variation of the focal distance diapoint is analyzed through a probe sam-\npling simulation (Fig. 6.43). The sampling pixel of the disc of confusion is\n15 ?m3 15 ?m, equal to a pixel of CMOS component. The practical image sim-\nulation takes the crosstalk effect of CMOS components (16% crosstalk in compo-\nnent manual) into account. Furthermore, the energy concentration degrees\nwithin the enclosing circle at different positions are exhibited in Fig. 6.43.\n\nThe simulation analysis results demonstrate that the star sensor often applies\nenergy centroiding algorithm based by gray value. Under normal conditions,\na gray value of 33 3 pixels is used as the basic algorithm. According to the\nabove-mentioned imaging point analysis, a 33 3 pixel algorithm is easy to\nbe accomplished with higher energy concentration degree within the whole\ntemperature range when the image plane is installed at 230 ?m.\n\nFIGURE 6.42\nFocal distance diapoint.\n\n6.3 Technical Research of the APS Micro Star Sensor 219\n\n\n\n6.3.3.7 Electronics\nWith respect to the functional requirements, the star sensor needs peripheral\nconfiguration circuit module of Star1000 and FPGA module for Star1000\nsensor exposure and read, DSP module for the purpose of fast star pattern\nidentification, star point extraction and attitude algorithm, MCU module for\nflexible external interface (RS-232, RS-422 or CAN interface) and flexible\nmultipattern switch, RAM/EPROM module for star pattern, intermediate vari-\nable and star catalogue storage as well as storage program and operation pro-\ngram, and power supply module for the whole system.\n\nThe electronics of the designed APS CMOS micro star sensor takes full advan-\ntages of the above hardware conditions and optimizes the whole procedure.\nIt not only increases the high-performance processing functions of the star\nsensor, but also reduces the functional components and simplifies the elec-\ntronics system design. The designed APS CMOS micro star sensor has two\ncharacteristics: (1) the whole hardware circuit design focuses on the FPGA\nand DSP system that are connected by the dual-port RAM (DPRAM), reduc-\ning the application of the large-capacity single-port RAM and bus switch in\nthe FPGA in the original design; and (2) flow operation: images of the star\nsensor contain less useful information but more meaningless background\n\nFIGURE 6.43\nRelationship curve of optical surface position variation and star point imaging.\n\n220 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nnoises. Therefore, data are processed directly in the FPGA. Effective pixels are\nextracted and stored in small-capacity DPRAM. DSP can access the DPRAM\ndirectly, making it possible for simultaneous reading and input. Such a flow\noperation can increase the overall updating rate, save large-capacity single-\nport RAM and bus switch, and lower power consumption. The corresponding\ncircuit hardware structure is shown in Fig. 6.44.\n\n6.3.3.8 Star Identification Software\nTraditional star identification algorithms (e.g., triangle method [50?52] or\ngrid method [53,54]) are disadvantageous due to large star pattern template\ndata storage and slow searching. Recently, neural network algorithms\n[55?57] were developed, which are superior to traditional algorithms\nbecause of their smaller database capacity and better real-time and robust-\nness. However, they require massive calculation and large training set [58],\nthus failing to achieve ideal practical application effects.\n\nMortari et al. put forward the fast k-vector range searching techniques\n[59,60], which determine possible star pairs based on known star diagonal\ndistances. Xing Fei et al. (Tsinghua University) proposed the star pattern\nidentification and matching method based on navstar domain and devel-\noped a fast 24-h-a-day autonomous star pattern identification method by\ncombining with a k-vector searching technique. Based on the direct position-\ning of two navstars forming the star diagonal distance by using the k-vector,\nit uses the navstar domain algorithm to transform domains of five pairs of\nnavstars in six pairs in the pyramid structured by four stars. Next, it combines\ndomains of the sixth pair and the previous five pairs of navstars, and identify\nall four navstars in the pyramid structure simultaneously during the primary\ncirculation. The direct positioning based on k-vector saves search time and\nsimultaneous identification of four stars based on the navstar domain saves\ntime for manifold cycles and comparison. Therefore, this algorithm is charac-\nteristic of fast processing, simple programming logic, and high reliability.\n\nFPGA\n\nDPRAM\n\nDSP\n\nSPI\ninterface\n\nIO\n p\n\nor\nt\n\nEPROM\nFLASH SBSRAM\n\nMCU\n\nAPS\n\nFIGURE 6.44\nData processing and circuit design.\n\n6.3 Technical Research of the APS Micro Star Sensor 221\n\n\n\n6.3.3.9 High-Accuracy Triaxial Attitude Determination Method\nTriaxial attitude determination requires at least the direction vectors of two\ncelestial bodies in the known CRF and BCF. Since a fixed star is measured in\nSCF, its unit vector in BCF is determined by the rotation matrix between\nSCF and BCF [61]. In this book, SCF attitude is output directly by the star\nsensor. During practical applications, BCF attitude is gained through coordi-\nnate rotation according to the installed location of the star sensor on the\nsatellite.\n\nTo take advantage of multistar observation and quaternion attitude represen-\ntation of a large FOV star sensor, we determine triaxial attitude by using the\nQUEST algorithm to solve the Wahba problem [62?65].\nLet W?i represent the direction vector of fixed star in SCF; V? i represents the\ndirection vector in CRF; a is positive weight, and n is the total number of\nobserved fixed stars. The following coefficients are defined:\n\nB5\nXn\ni51\n\naiW?iV?\nT\ni\n\nS5BT 1B\n\nz-5\nXn\ni51\n\naiW?i 3 V? i\n\n?5 tr B\u00bd ?\n\nK5\nS2?I ~z\n~zT ?\n\n\t \n\n\nThen, the optimal attitude determined by the QUEST algorithm is:\n\nqopt 5\n1ffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\n11 y?\n?? ??2q\n\ny?\n\n1\n\n\t \n\n\nwhere\n\ny? 5 ?max1?\u00f0 \u00deI2S\u00bd ?21 z-\n\nCalculating ?max from the characteristic equation of K by using iteration\nmethod:\n\n?4 1 a?3 1 b?2 1 c?1 d50\n\nwhere\n\na5 tr K\u00bd ?5 0\nb52 2 tr B\u00bd ?\u00f0 \u00de2 1 tr adj B1BT? ?? \n2 z- z\nc52 tr adj K\u00f0 \u00de? \nd5det K\u00f0 \u00de\n\n222 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nIt can be confirmed that ?max values are 1 when there is no measurement\nerror. Therefore, the iteration operation is conducted from ?max5 1.\n\nAfter the star pattern identification, software of the star sensor prototype will\ncalculate and output the attitude quaternion of the star sensor by using\nQUEST algorithm.\n\n6.3.4 APS CMOS Micro Star Sensor System Software\nElectronics system design is the basic implementation platform of the whole\nstar sensor. Major functions stated in Chapter 5, Ground Tests of Micro/\nNano Satellites, are achieved on this platform. The designed APS CMOS\nmicro star sensor not only achieves low power consumption (,1.5 W), but\nalso gives consideration to environmental requirements (e.g., space radiation\nand temperature) in its electronics design.\n\nThe implementation procedure of major functions of the designed APS\nCMOS micro star sensor on the electronics system is presented in Fig. 6.45.\n\nInterrupt signal and start\nsignal\n\n1: Star 1000\nexposure and\n\nreadout\n\nFPGA\n\nAPS CMOS\nstar 1000\n\nDSP MCU\n\n2: Image filtering\nand signal\nprocessing\n\n3: Threshold\nsegmentation and\n\nprocessing\n\n4: Valid data\nstorage\n\n8: Attitude\ncalculation module\n\n7: Star\nidentification\n\nmodule\n\n8: Star filtering and\ncalculation\n\n9: Star information\nreconstruction\n\nDouble\u2013port RAM\n\n10: Data\u2013loading \nmodule \n\nEPRom(Flash) \ncatalogue \n\nAsynchronous burst\nRAM SBSRAM \n\n9: Communication\nmodule with host\n\ncomputer\n\nFIGURE 6.45\nWorkflow of the APS CMOS micro star sensor.\n\n6.3 Technical Research of the APS Micro Star Sensor 223\n\n\n\nModules 1, 2, 3, and 4 are implemented through FPGA; modules 5, 6, 7, 8,\nand 10 are implemented by the DSP; and module 9 is implemented mainly\nthrough the MCU. Data transmission between the FPGA and DSP is mainly\nachieved through 64K DPRAM. Meanwhile, external interruption of the DSP\nis connected with I/O of FPGA for communication and data exchange. Two-\nway communication between the DSP and MCU is achieved through an SPI\n(synchronous serial port). 512K EPROM (FLASH in experiment) and 2M\nSBSRAM are used to store star catalogue and some associated correction data.\n\n6.3.4.1 General Workflow of a Circuit\nThe MCU communicates with the host computer through a serial port or\nCAN and will start the DSP upon receiving operation command from the\nhost computer. At the beginning of operation, the DSP has to initialize\nthe system and transfer star catalogue data stored in EPROM into SBSRAM\nof the DSP and RAM inside the DSP through direct memory access (DMA) of\nthe DSP.\n\nAfter the data initialization, the star sensor begins normal operation. Firstly,\nthe FPGA begins to capture the image, starts the Star1000 probe, and collects\ngray values of pixels in order. Next, data filtering, threshold segmentation,\nand effective data input into DPRAM (including gray value of pixels and cor-\nresponding pixel coordinates) will be carried out. The number of effective\npixels will be recorded simultaneously. After finishing data input of the\nwhole image, the number of pixels in the last two bytes of corresponding\nhalf space of DPRAM is filled. Finally, external interruption of the DSP is\ntriggered.\n\nAfter responses to the external interruption are made, the DSP will start the\nDMA immediately to transfer data in DPRAM to RAM inside the DSP. Next,\nthe DSP enters into the star point recovery and star point centroid calculation\nmodule to calculate the star point coordinate for recovery. All effective pixels\nwill be combined by using the run coding algorithm to get the number of\nstar image points and their positions. Finally, the coordinates of each star\nimage point can be calculated through a subpixel algorithm.\n\nNext, conduct star pattern identification. During 24-h-a-day autonomous star\npattern identification, algorithm combining k-vector and navstar domain to\nshorten identification time as much as possible. Subsequently, the attitude\nquaternion of the star sensor is calculated through the QUEST algorithm\nbased on the position relationship between the measured star point and the\nstar point in the star catalogue. The calculated attitude quaternion will be\ndelivered to the MCU which will further deliver it to the host computer\nthrough a serial port. Connections of major functions are shown in Fig. 6.46.\n\n224 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\n6.3.5 APS CMOS Micro Star Sensor Prototype\nThe APS CMOS micro star sensor in this book is designed for microsatellites.\nConsidering the resources on satellites and the integrated electronics system\ndesign (maybe using an onboard electronical integrated management), this\nAPS CMOS micro star sensor gives adequate consideration to its two applica-\ntion modes: independent attitude component and cooperation with the elec-\ntronic system on a microsatellite. The header and processing system of the\nstar sensor are designed to be separable. Moreover, a Star1000 probe used in\nthe optical system and header of the star sensor received radiation resistance\nreinforcement and is designed as an independent unit, thus making it more\napplicable in space. Since the electronics system generally has weak radiation\nresistance, the separable design is convenient for independent reinforcement.\n\nThe overall structure and physical pictures of the designed APS CMOS micro star\nsensor prototype in this book are shown in Figs. 6.47 and 6.48, respectively.\n\nBased on this star sensor platform, all key technologies of the APS CMOS\nmicro star sensor are realized, such as energy flow filtering, 24-h-a-day auton-\nomous star pattern identification algorithm based on navstar domain and\nk-vector, etc.\n\nThe main performances of this APS CMOS micro star sensor are tested\n(Table 6.8).\n\n6.3.6 Real Sky Test\nThe real sky test is a ground test that can test the most realistic sky perfor-\nmances of a star sensor [66,67]. It often installs a star sensor on the\n\nStar pattern \ncapture \ncontrol \n\nGray threshold \nExposure time \n\nMinimum \nangular distance \n\nStar catalogue \n\nExposure, \ntransmission, filtering, \nand star point processing Star point extraction & \n\nstar point identification \n\nAccuracy threshold \n\nNo \nconnection \n\nPhysical \nconnection  \n\nSwitch \n\nconnection \n\nStar point \n\nextraction Star \npattern \n\nidentification\nAttitude \n\nestimation External \ninterface \n\nunit \n\nFIGURE 6.46\nConnections of major functions of the APS CMOS micro star sensor.\n\n6.3 Technical Research of the APS Micro Star Sensor 225\n\n\n\nFIGURE 6.48\nPhysical picture of the APS CMOS micro star sensor.\n\nLens hood\n\nImaging lens\n\nAPS imaging sensor\n\nAPS\ncontroller\n\nRAMStar pattern\nprocessor\n\nI/O interface\n\nFIGURE 6.47\nOverall structure of the APS CMOS micro star sensor.\n\nTable 6.8 Performance Test Results of the APS CMOS Micro Star Sensor\n\nAccuracy (3?) ,7v (pitch/yaw), 35v (roll)\n\nSensitive magnitude (ground test) $ 5.5 MV\nData updating rate 5.2 Hz\n24-h-a-day autonomous capture time 0.5 s\nWeight (lens hood included) 1 kg\nPower consumption 1.3 W\n\n226 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\n\n\nastronomical telescope and changes the pointing directions of the star sensor\nby rotating the astronomical telescope. This tests its identification perfor-\nmance in different sky regions. With high rotation accuracy, the astronomical\ntelescope can measure the accuracy of the star sensor. However, astronomical\ntelescopes are expensive and inconvenient, limiting their wide application,\nespecially during R&D. Therefore, this book suggests testing the star pattern\nidentification and accuracy of the star sensor by measuring the Earth\u2019s rota-\ntion. This can test the feasibility of the star sensor to a certain extent, espe-\ncially in testing its 24-h-a-day star pattern identification [68].\n\nThe high accuracy and availability of the Earth\u2019s rotation provide convenient\nexperimental conditions for a star sensor test. However, it should pay atten-\ntion to the test climate because the moon and clouds will influence the test\nresults significantly. The star sensor is fixed on the Earth, rotating with the\nEarth. Meanwhile, a turntable or adjustable tripod equipped to adjust its\npointing direction and involve extensive observation region is fitted. The real\nsky test apparatus is shown in Fig. 6.49.\n\nAppropriate weather, time, and place are the prerequisites of a real sky test.\nThe test process and results are analyzed in the following text. This real\nsky test was conducted at Xinglong Observation Station of National\nAstronomical Observatories of China for 200 ms from 11:00 p.m. under\n24-h-a-day autonomous identification mode. Fig. 6.50 represents some typi-\ncal pictures.\n\nAccording to the real sky test results, the star sensor probe can detect navstar\n(MV5 5.5) images, indicating that it can detect navstars (MV. 5.5) on satel-\nlite orbit without an atmospheric effect.\n\nReal night sky\n\nTurntable holder \n\nTripodStar tracker\n\nImage sensor\n\nLens hood\n\nTest results\n\nFIGURE 6.49\nReal sky test apparatus.\n\n6.3 Technical Research of the APS Micro Star Sensor 227\n\n\n\nThe star sensor attitude is estimated from the star pattern identification. The\ntriaxial movement curve of the star sensor is shown in Fig. 6.51.\n\nIt can be seen from Fig. 6.51 that ?0 satisfies 15 degrees/h basically, while ?0\n\nand ?0 remain unchanged. This agrees with the above theoretical analysis\nand confirms that the designed APS CMOS micro sensor can operate nor-\nmally in real sky.\n\nReferences\n[1] D.D. Mazanek, R.R. Kumar, H. Seywald, M. Qu, GRACE mission design: impact of uncertain-\n\nties in disturbance environment and satellite force models, Adv. Astronaut. Sci. 105 (II)\n(2000) 967?986.\n\n0 300 600 900 1200 1500 1800\n\n8\n\n4\n\n0\n\n0.5\n\n0\n\n\u20130.5\n\n0.5\n\n0\n\n\u20130.5\n\n? ? /\u00b0\n\n? ? /\u00b0\n\n? ? /\u00b0\n\nFIGURE 6.51\nEarth rotation curves detected by the star sensor.\n\nFIGURE 6.50\nCaptured star image (left) and corresponding Skymap (right).\n\n228 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref1\n\n\n[2] E.M.C. Kong, D.W. Miller, Optimal spacecraft reorientation for earth orbiting clusters: appli-\ncations to Techsat 21, Acta Astronaut. 53 (11) (2003) 863?877.\n\n[3] S. Richard, R. Patrice, Design of a micro-satellite for precise formation flying demonstration,\nin: Proceedings of the 5th IAA International Conference on Low-Cost Planetary Missions,\nThe Netherlands, 2003.\n\n[4] R.L. Ticker, D. McLennan, NASA\u2019s New Millennium space technology 5 (ST5) project, IEEE\nAerosp. Conf. Proc. 7 (2000) 609?617.\n\n[5] Y. Dong, R. Zhang, Autonomous satellite navigation by stellar sensor [J], Journal of\nAstronautics 16 (4) (1995) 36?41.\n\n[6] H.-Y. Kim, N. Methods, For spacecraft attitude estimation. Ph.D. Thesis, Texas A&M\nUniversity, 2002.\n\n[7] D. Mortari, T.C. Pollock, J.L. Junkins, Towards the most accurate attitude determination sys-\ntem using star trackers, Adv. Astronaut. Sci. 99 (II) (1998) 839?850.\n\n[8] S. Caihong, Development method and technology of light star sensor. Doctoral\nDissertation on Chinese Beijing Astronomical Observatory, 2002.\n\n[9] L. Baohua, Research on the fast star pattern identification algorithm for spacecraft attitude\ncontrol. Doctoral Dissertation of Harbin Institute of Technology, 2006.\n\n[10] J.R. Wertz, Spacecraft Attitude Determination and Control, Reidel, Dordecht, The\nNetherlands, 1984.\n\n[11] A.S. Malak, Toward faster and more accurate star sensor using recursive centroiding and star\nidentification. Ph.D. Thesis, Texas A&M University, 2003.\n\n[12] Y. Wu, HXMT satellite attitude determination and control system design and experimental\nstudy. Doctoral Dissertation of Tsinghua University, 2004.\n\n[13] M.C. Phenneger, J.L. Knack, Using the sun analog sensor (SAS) data to investigate solar\narray yoke motion on the GOES-8 and -9 spacecraft, SPIE 2812 (1996) 753?763.\n\n[14] H. Zhengui, Spacecraft Attitude Dynamics, National University of Defense Technology\nPublishing, Changsha, 1997.\n\n[15] F.F. Chen, J. Feng, Z. Hong, Digital sun sensor based on the optical vernier measuring prin-\nciple, Meas. Sci. Technol. 17 (2006) 2494?2498.\n\n[16] http://www.cast.ac.cn/cpyyy/jp_3.htm.\n\n[17] http://www.cast.ac.cn/en/ShowArticle.asp?ArticleID5135.\n\n[18] http://www.tpd.tno.nl/smartsite469.html.\n\n[19] http://www.ufa.cas.cz/html/magion/DSSS-popisweb.html.\n\n[20] H. Li, H. Yihua, Principle and development trendency of sun sensor, Electron. Compon.\nMater. 25 (9) (2006) 5?7.\n\n[21] Z. You, T. Li, Application of CMOS imaging sensor in space technology, Opt. Technol.\n28 (1) (2002) 31?35.\n\n[22] J.H. Hales, M. Pedersen, Two-axis MOEMS sun sensor for pico satellites, in: 16th Annual\nAIAA/USU Conference on Small Satellites, 2004, pp. 1?12.\n\n[23] C.C. Liebe, S. Mobasser, MEMS based sun sensor, 2001, IEEE Aerosp. Conf. 3 (2001)\n1565?1572.W.-C. Fang, A smart vision system-on-a-chip design based on programmable\nneural processor integrated with active pixel sensor, 2000 IEEE Int. Symp. Circuits Syst.\n2 (2000) 128?131.\n\n[24] M.L. Psiaki, Autonomous low-earth-orbit determination from magnetometer and sun sen-\nsor data, J. Guid. Control Dyn. 22 (2) (1999) 296?304.\n\n[25] D. Tianhuai, Z. Zhiming, Principle experiments of micro-digital sun sensor, J. Tsinghua\nUniv. (Nat. Sci.) 45 (2) (2005) 186?189.\n\nReferences 229\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref9\nhttp://www.cast.ac.cn/cpyyy/jp_3.htm\nhttp://www.cast.ac.cn/en/ShowArticle.asp?ArticleID=135\nhttp://www.cast.ac.cn/en/ShowArticle.asp?ArticleID=135\nhttp://www.cast.ac.cn/en/ShowArticle.asp?ArticleID=135\nhttp://www.cast.ac.cn/en/ShowArticle.asp?ArticleID=135\nhttp://www.tpd.tno.nl/smartsite469.html\nhttp://www.ufa.cas.cz/html/magion/DSSS-popisweb.html\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref15\n\n\n[26] http://www.selex-sas.com.\n\n[27] C.C. Liebe, S. Mobasser, Y. Bae, et al., Micro sun sensor, IEEE Aerosp. Conf. 5 (2002)\n2263?2273.\n\n[28] O. Yadid-Pecht, B. Pain, C. Staller, C. Clark, E. Fossum, CMOS active pixel sensor star\ntracker with regional electronic shutter, IEEE J. Solid-State Circuits 32 (2) (1997) 285?288.\n\n[29] Star1000 datasheet v6: http://www.fillfactory.com.\n\n[30] G. Wahba, A least squares estimate of satellite attitude, SIAM Rev. 8 (3) (1966) 384?386.\n[31] http://www.ballaerospace.com/aerospace/ct633.html.\n\n[32] http://www.sodern.fr/.\n\n[33] http://www.ems-t.com/.\n\n[34] http://www.jena-optronik.de, 2004.\n\n[35] B. Maurizio, J.L. J\u00f8rgensen, P.S. J\u00f8rgensen, T. Denver, Advanced stellar compass onboard\nautonomous orbit determination, preliminary performance, Ann. N.Y. Acad. Sci. 1017\n(2004) 393?407. Available from: http://dx.doi.org/10.1196/annals.1311.022.\n\n[36] C.C. Liebe, E.W. Dennison, B. Hancock, et al., Active pixel sensor based star tracker, IEEE\nAerosp. Conf. 1 (1998) 119?127.\n\n[37] http://telecom.esa.int/telecom/object/index.cfm?fobjectid5 26326.\n\n[38] F. Xing, Z. You, G.F. Zhang, J. Sun, A novel active pixels sensor (APS) based sun sensor\nbased on a feature extraction and image correlation (FEIC) technique, Meas. Sci. Technol.\n19 (12) (2008) 125203 (9 pp.).\n\n[39] F. Xing, Z. You, G.F. Zhang, J. Sun, APS sun sensor based future extraction and image corre-\nlation algorithm, 2010. Application No: 200910079564.8.\n\n[40] C.G. Harris, M. Stephens, A combined corner and edge detector, in: Proceedings of the 4th\nAlvey Vision Conference, Manchester, UK, 31 August?2 September 1998.\n\n[41] X. Fei, D. Ying, Y. Zheng, Laboratory calibration of star tracker with brightness independent\nstar identification strategy, Opt. Eng. 45 (6) (2006) 063604.\n\n[42] J. Enright, Godard, Advanced sun-sensor processing and designed for super-resolution per-\nformance. 2006 IEEE Aerospace Conference, 4?11 March, 2006.\n\n[43] C.W. de Boom, N. van der Heiden, A novel digital sun sensor: development and qualifica-\ntion for flight, in: 54th International Astronautic Congress, IAC-03-A.P.20, September\n29?October 3, Bremen, Germany, 2003.\n\n[44] Z. Liu, Study on application technique of CMOS imager sensor in star tracker. Doctoral\nDissertation, Changchun Institute of Optics, Fine Mechanics and Physics, Chinese Academy\nof Sciences, 2004.\n\n[45] B.R. Hancock, R.C. Stirbl, T.J. Cunningham, et al., CMOS active pixel sensor specific perfor-\nmance effects on star tracker/imager position accuracy, SPIE 4284 (2001) 43?53.\n\n[46] R. Hornsey, Noise in image sensors. Course notes presented at the Waterloo Institute for\nComputer Research, Waterloo, ON, May 1999.\n\n[47] S. Cos, D. Uwaerts, J. Bogaerts, W. Ogiers, Active pixels sensor for star tracker: final resport.\nDoc. Nr: APS-FF-SC-05-023, Cypress Semiconductor Corp., 2006.\n\n[48] R.V.F. Lopes, G.B. Carvalho, A.R. Silva, Star identification for three-axis attitude estimation\nof French-Brazilian scientific micro-satellite, in: Proceedings of the AAS/GSFC International\nSymposium on Space Flight Dynamics, AAS Paper 98-366, Greenbelt, MD, May 11?15,\n1998, pp. 805?819.\n\n[49] J.D. Vedder, Star trackers, star catalogs, and attitude determination\u2014probabilistic aspects of\nsystem design, J. Guid. Control Dyn. 16 (3) (1993) 498?504.\n\n230 CHAPTER 6: Advanced Space Optical Att i tude Sensor\n\nhttp://www.selex-sas.com\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref17\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref17\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref17\nhttp://www.fillfactory.com\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref18\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref18\nhttp://www.ballaerospace.com/aerospace/ct633.html\nhttp://www.sodern.fr/\nhttp://www.ems-t.com/\nhttp://www.jena-optronik.de\nhttp://dx.doi.org/10.1196/annals.1311.022\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref20\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref20\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref20\nhttp://telecom.esa.int/telecom/object/index.cfm?fobjectid=26326\nhttp://telecom.esa.int/telecom/object/index.cfm?fobjectid=26326\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref21\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref21\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref21\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref22\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref22\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref23\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref23\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref23\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref24\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref24\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref24\n\n\n[50] J. Kosik, Star pattern identification aboard an inertially stabilized spacecraft, J. Guid.\nControl Dyn. 14 (1) (1991) 230?235.\n\n[51] J. Junkins, C. White, D. Turner, Star pattern recognition for real-time attitude determination,\nJ. Astronaut. Sci. 25 (1997) 251?270.\n\n[52] R. Van Bezooijen, A star pattern recognition algorithm for autonomous attitude determina-\ntion. Automatic Control in Aerospace: IFAC Symposium, Tsukuba, Japan, 1989, pp. 51?58.\n\n[53] C. Padgett, K. Kreutz-Delgado, A grid algorithm for star identification, IEEE Trans. Aerosp.\nElectron. Syst. 33 (1) (1997) 202?213.\n\n[54] C.C. Liebe, Pattern recognition of star constellations for spacecraft applications, IEEE\nAeronaut. Electron. Syst. Mag. 10 (1992) 2?12.\n\n[55] C.S. Lindsey, T. Lindblad, A method for star identification using neural networks, SPIE\n3077 (1997) 471?478.\n\n[56] J.T. Aaron, Autonomous artificial neural network star tracker for spacecraft attitude determi-\nnation. Ph.D. Thesis, University of Illinois at Urbana-Champaign, 2002.\n\n[57] C. Li, K. Li, Y. Zhang, S. Jin, J. Zu, Star pattern identification based on nerual network tech-\nnique, Chin. Sci. Bull. 48 (9) (2003) 892?895.\n\n[58] J. Hong, A. Julie, Dickerson neural-network-based autonomous star identification algo-\nrithm, J. Guid. Control Dyn. 23 (4) (2000) 728?735.\n\n[59] D. Mortari, B. Neta, k-Vector range searching techniques. Paper AAS 00-128 of the 10th\nAnnual AIAA/AAS Space Flights Mechanics Meeting, Clearwaters, FL, January 23?26, 2000.\n\n[60] D. Mortari, Search-less algorithm for star pattern recognition, J. Astronaut. Sci. 45 (2)\n(1997) 179?194.\n\n[61] M.D. Shuster, S.D. Oh, Three-axis attitude determinatin form vector observations, J. Guid.\nControl Dyn. l4 (1) (1981) 70?77.\n\n[62] F.L. Markley, Attitude determination using vector observations: a fast optimal matrix algo-\nrithm, J. Astronaut. Sci. 41 (2) (1993) 261?280.\n\n[63] Y.B. Itzhack, REQUST: a recursive QUEST algorithm for sequential attitude determination,\nJ. Guid. Control Dyn. 19 (5) (1996) 1034?1038.\n\n[64] M.D. Shuster, Kalman filtering of spacecraft attitude and the QUEST model, J. Astronaut.\nSci. 38 (3) (1990) 377?393.\n\n[65] M.D. Shuster, A simple Kalman filter and smoother for spacecraft attitude, J. Astronaut. Sci.\n37 (1) (1989) 89?106.\n\n[66] A.R. Eisenman, J.L. J\u00f8rgensen, C.C. Liebe, Real sky performance of the prototype \u00d8rsted\nAdvances Stellar Compass, IEEE Aerosp. Appl. 2 (1996) 103?113.\n\n[67] A.R. Eisenman, J.L. J\u00f8rgensen, C.C. Liebe, Astronomical performance of the engineering\nmodel \u00d8rsted Advanced Stellar Compass, SPIE 2810 (1996) 252?264.\n\n[68] B. Thomas, Characterizing a star tracker with built in attitude estimation algorithms under\nthe night sky, SPIE 3086 (1997) 264?274.\n\nReferences 231\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref25\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref25\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref25\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref26\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref26\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref26\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref27\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref27\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref27\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref28\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref28\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref28\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref29\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref29\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref29\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref30\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref30\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref30\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref31\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref31\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref31\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref32\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref32\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref32\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref33\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref33\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref33\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref34\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref34\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref34\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref35\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref35\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref35\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref36\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref36\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref36\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref37\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref37\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref37\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref38\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref38\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref38\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref39\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref39\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref39\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref40\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref40\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00006-0/sbref40\n\n\nCHAPTER 7\n\nMiniature Inertial Measurement Unit\n\n7.1 HISTORY AND DEVELOPMENT OF IMU\n\n7.1.1 Traditional Inertial Devices and Their Development\nDevelopment of inertial technology can be divided into four stages according\nto their accuracy. The first generation was from the early 20th century to the\ntime before World War II, and preliminary applications of inertial technology\nappeared. The second generation was from World War II to the 1960s, when\nthe positioning resolution was about 1 km per hour. With the development\nof the electrostatic gyro technology, inertial technology entered the third gen-\neration, which was from the 1960s to the late 1970s, and the accuracy was\nincreased by two to three orders of magnitude. The fourth generation was\nfrom the late 1970s to the present, during which the expected target accuracy\nof gyros can reach 1:53 1027?=h and the accuracy of accelerometers can\nreach 1028 g. According to the technical methods, the development of iner-\ntial technology can be divided into three stages. The first stage is the develop-\nment of mechanical gyroscopes (from the 1940s to the 1960s). The second\nstage is the development of strapdown gyroscope (from the 1960s to the\n1980s). The third stage is the development of the micromechanical gyro-\nscopes (since mid-1980s).\n\nThe combination of micromechanical technology and traditional inertial\ntechnology brought a great change to the inertial technology. Since the\n1980s, Draper Laboratory (US), JPL (United States), Litton company (US),\nand SAGEM company (France) have carried out many researches into micro-\ngyroscopes, microaccelerometers, and other miniature inertial devices.\nCompared with traditional rigid rotor gyroscopes, the size, weight and cost\nof the miniature gyroscope are greatly reduced because there is no\nhigh-speed rotor and the corresponding support system. Meanwhile, the reli-\nability, stability, and other aspects were also enhanced. In 1989, Draper labo-\nratory first introduced a micro double-frame resonant gyroscope based on\nthe Coriolis Effect. In 1993, they cooperated with Rockwell company and\ndeveloped the micro comb-like resonant tuning fork gyroscope whose\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00007-2\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n233\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00007-2\n\n\neffective size was only 1 mm and the expected performance was 102100?=h.\nIn 1986, BEI company developed the quartz tuning fork micromechanical\ngyroscope (QRS) and started production in early 1991. At present, WSC-6\nsatellite antenna stabilization systems with QRS have been equipped in the\nUnited States Navy and ships of Holland, Denmark, and other countries.\nUsing Rockwell\u2019s digital processing technology, the QRS precision can reach\n1?/h, which can be compared with mini fiber optical gyro, whereas the cost\nof QRS is much cheaper. Currently, more miniature inertial devices are being\ndeveloped. For example, BEI\u2019s QRS11 micromechanical gyroscope are only\n?41.53 16.5 mm, whose resolution is higher than 0.004?/s and output noise\nis lower than 0:01?=s=\n\nffiffiffiffiffiffiffi\nHz\n\np\n, the short-term stability is higher than 0.002?/s,\n\nwhich has been applied as an alternative to traditional inertial devices in\nspacecraft attitude measurement and control, missile midcourse guidance, as\nwell as other military fields. In recent years, people have been carrying out\nresearch on micro fiberoptic gyroscope to effectively improve the accuracy of\nmicro inertial devices. In 1976, Professor Vali of the University of Utah first\nconducted the first fiberoptic gyro display experiment [1]. In 1988, Draper\nlaboratory made significant progress in the field of resonant fiber optic gyro-\nscope. The zero stability of Northrop\u2019s resonant fiberoptic gyroscope was\nbetter than 1?=h [2]. At the same time, the development of a micro acceler-\nometer was also carried out. In 1979, Stanford University first developed an\nopen-loop micro accelerometer based on micromechanical processing tech-\nnology. After that, the use of the silicon material increased the bearing capac-\nity of the micromechanical accelerometer. Some micro inertial products are\nshown in Figs. 7.1?7.3.\nThe research field of the micro inertial sensor in China started late but devel-\noped rapidly. For example, AR series and HXA series gyro accelerometers of\nChongqing Xin Chen Electronics Company are integrated at a high level.\nTsinghua University developed micro gyroscopes based on vibratory wheels\nand vibratory rods, as well as torsion-type and comb-type micro silicon accel-\nerometers, whose accuracies reached international levels.\n\nAQRS micromechanical gyro QRS14 micromechanical gyro \n\nFIGURE 7.1\nMicro gyros.\n\n234 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n7.1.2 Development of MIMU\nInertial navigation system (INS) is an autonomous system with good con-\ncealment, which is not dependent on any external information, nor radiates\nenergy to external space, making it applicable in airspace, sea, or under-\nground. Since the INS updates the data rapidly and possesses the advantages\nof high short-term accuracy and stability with small size and light weight, it\ncan provide comprehensive navigation data, such as the location, speed, or\nthe attitude of the carrier. Therefore INS plays a very important role in mili-\ntary field and civilian navigation [3]. In 1942, the German V-2 rocket\ninstalled the guidance system composed of inertial devices for the first time.\nWith decades of progress of the inertial devices, they have played a more sig-\nnificant role in the navigation fields. Since the 1960s, inertial technology has\ngreatly expanded applications in guidance systems, with \u201cHercules II\u201d LGM-\n25C, \u201cmilitia\u201d series, \u201cFlying Fish\u201d MM-38, MX missiles, \u201cAGM86C\u201d cruise\nmissiles and \u201cTrident\u201d strategic missiles [4].\n\nThe concept of the Inertial Measurement Unit (IMU) appeared in the 1970s,\nnamely IMU measurements changed from the independent inertial measure-\nment device. As independent inertial devices, gyroscopes and accelerometers\n\nFIGURE 7.2\nMicro gyros.\n\n  SA-122SE    SA-107B  SA-120RHT\n\nFIGURE 7.3\nMicro-accelerometers in Columbia Laboratory.\n\n7.1 History and Development of IMU 235\n\n\n\ncan be employed to separately measure angular velocity, acceleration, or\nother parameters, the position of the object can be obtained through integral.\nBased on the above inertial devices, three orthogonal gyroscopes, three\northogonal accelerometers, and a computer for coordinate conversion can\nconstitute a kind of IMU to measure the attitude, position, and velocity\ninformation of a carrier. Currently, IMU is becoming smaller and smaller. In\n1974, IMU of the \u201cHarpoon\u201d missile system weighed 3.2 kg, and the IMU of\nthe \u201cPhoenix\u201d missile system weighed 1.8 kg in 1980, while the mass of the\nIMU in the \u201cAMRAAM\u201d system in 1985 was only 1.4 kg. Development of\nmicro and nanotechnologies offered new approaches to improve the inertial\ndevices. Micro inertial measurement unit (MIMU) came into being, which\nintegrates several micro inertial sensors, micro monitoring and control cir-\ncuits, and a coordinate conversion circuit to obtain comprehensive inertial\nmeasurement parameters of moving objects (Fig. 7.4).\n\nMIMU has been applied in many fields, such as geodetic survey, mineral\nexploration, vehicle location and earthquake prediction. BEI\u2019s MIMU prod-\nuct, MotionPak [5], consists of three micromechanical quartz rate sensors\nand three micromechanical silicon acceleration meters. Among them, the\ngyro owns a high resolution of 0.004?/s and weighs 60 g, while the acceler-\nometer weighs 55 g with a resolution of 10 ?g. The overall weight of the\nMotionPak is only 900 g. Besides, Draper laboratory developed a kind of low\nprecision micro silicon MIMU with the size of 23 23 0:5 cm3, the weight of\nabout 5 grams, and the gyro drift ratio about 10?/h. This MIMU is\nsuitable for navigation in a short period.\n\nAt present, the major demand of MIMU in China is intelligent guidance,\nrobots, geodetic survey, mineral exploration and other fields. Meanwhile, air-\ncraft, microsatellite ADCs, and other space technologies will be important\nmarkets [6].\n\nYH5000IMU MotionPak \n\nFIGURE 7.4\nForeign MIMU products.\n\n236 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n7.1.3 Development of Optimal Estimation Theory\nand Its Application in MIMU\nApplying the optimal estimation filter theory to MIMU technology can\nimprove the navigation accuracy. In 1975, Gauss Karl proposed the least\nsquare method as the parameter estimation algorithm to determine the plan-\netary orbits. Because the optimal index is used to optimize the accuracy of\nthe measurement and it is not necessary to use the dynamic and statistics\ninformation related to the estimated parameter, the estimation algorithm is\nsimple but the accuracy is not very high. Wiener filtering is a kind of linear\nminimum variance estimation algorithm, which is suitable for the processing\nof the stationary random processes in which useful signals and interference\nsignals both have zero mean value. However, the design of the Wiener filter\nneeds the information of the power spectrum and cross power spectrum of\nthe useful and interference signal, making it difficult to guarantee the real-\ntime processing. Besides, it is critically challenging to apply Wiener filtering\nto nonstationary processes.\n\nIn 1960, Calman proposed a recursive linear minimum variance estimation\nalgorithm for the discrete-time system model [7]. Calman succeeded in\nintroducing the concept of state variables into the filtering theory, replacing\nthe usual covariance function by the state space model, connecting the\ndescription of the state space with the time update. Compared with\nthe Wiener filtering, Kalman used the state equation in the time domain\nand differential equations characterizing the system state estimation and\nvariance to obtain a recursive algorithm that was suitable for computer\ncalculation under the minimum variance criterion. Because many practical\nengineering problems are nonlinear, nonlinear filtering algorithm are always\nrequired. Bucy and Snahara devoted to the study of Kalman filter theory in\nnonlinear systems and nonlinear measurement, and broadened the applica-\ntions of Kalman filter theory [8,9]. The extended Kalman filtering algorithm\nincludes linearization of the nonlinear equation and consequent estimation\nusing the linear Kalman filtering method. The extended Kalman filtering\nalgorithm is based on the linearization of the system and the observation\nequation.\n\nHowever, the linearization of the system and the observation equation will\ninevitably cause a certain degree of linearization error, leading to a decrease\nin the final estimation precision. How to reduce the influence of lineariza-\ntion errors is the focus of the current study of filtering algorithm.\nL-Ddecomposition algorithm proposed by Fisher [10], Song\u2019s variable gain\nextended Kalman filter [11], and Ruokonen\u2019s parallel Kalman filtering tech-\nnology extended and improved the Kalman filtering algorithm to a certain\nextent [12]. On the other hand, people tried to look for new nonlinear\n\n7.1 History and Development of IMU 237\n\n\n\nalgorithms. Algrain proposed a mutual coupling linear Kalman filter (inter-\nlaced Kalman filtering) [13], which decomposes the complex nonlinear\nmodel into two pseudo-linear models that describe the linear and nonlinear\ncharacteristics of system state variables, respectively, and obtains a subopti-\nmal estimation through parallel filtering and data fusion. On the basis of\nthis method, Ruth proposed a suboptimal extended coupling Kalman filter\n[14], which successfully solved the problem of estimating the angular veloc-\nity of the satellite by using the differential equation of the observation vector.\nJulier and Uhlman proposed the unscented Kalman filter (UKF) [15]. They\nused a number of sampling points that could characterize the system state\nmean and variance and carried out nonlinear transformation through the UT\ntransformation, which reached third-order accuracy approximation to the\ntrue mean and variance. UKF solved the problem of nonlinear approxima-\ntion of EKF. E.A. Wan and R. van der Merwe applied the square root method\nto UKF [16], and further studied the algorithm.\n\nFor the multisensor combination system, Speyer, Bierman, and Kerr succes-\nsively proposed decentralized filtering thinking from 1979 to 1985 [17]. The\ndevelopment of computer technology has created favorable conditions for\nthe development of decentralized filter. Carlson\u2019s federal filter theory [18]\nprovided the design theory for INS. Carlson constructed an augmented\nmatrix and used the variance upper bound technique to eliminate the corre-\nlation between local filters. Finally, Carlson obtained the globally optimal\nestimation through data fusion algorithm based on the irrelevant theory.\nBecause the algorithm structure is very suitable for parallel calculating, this\nalgorithm has a wide range of engineering applications with the develop-\nment of parallel computing technology.\n\n7.2 SYSTEM INTEGRATION OF MIMU\nAND ATTITUDE DETERMINATION ALGORITHMS\n\n7.2.1 MIMU Integration\nMiniature inertial measurement units (MIMU) consists of micro-\naccelerometers and micro-gyroscope. The basic structure of an MIMU is\nshown in Fig. 7.5. It consists of three micro-gyroscopes and three micro-\naccelerometers, which were installed in three orthogonal surfaces of the\ncube. The sensitive axes x, y, and z are perpendicular to each other, and\nacceleration and angular velocity along the three directions are measured\nrespectively. Here ?x, ?y, ?z are outputs of micro-gyroscopes and ax, ay, az\nare outputs of micro-accelerometers. Fig. 7.6 is the prototype of an inte-\ngrated MIMU.\n\n238 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n7.2.2 Measurement Principles of an MIMU\n7.2.2.1 Establishment of the Coordinate System\nIn order to clearly describe the position and the velocity of the carrier, we\nmust select the correct reference coordinate system [19].\n\n1. Geocentric equatorial inertial coordinate system (Si)\nOrigin O is in the center of the Earth, and plane xiyi coincides with the\nEarth\u2019s plane. Axis xi points to the vernal equinox, while axis zi points\nto the Arctic Pole along with the Earth\u2019s rotation axis.\n\n2. Earth coordinate system (SE)\nOrigin O is in the center of the Earth, and plane xEyE coincides with\nthe Earth\u2019s plane. Axis OExE points to the zero meridian, axis OEzE\npoints to the Arctic Pole along with the Earth\u2019s rotation axis. Earth\n\na y ? y\n\na z  ? z\n\na x ? x\nx\n\ny\n\nz\n\nFIGURE 7.5\nBasic structure diagram of an MIMU.\n\nFIGURE 7.6\nPrototype of an integrated MIMU.\n\n7.2 System Integration of MIMU and Attitude Determination Algorithms 239\n\n\n\ncoordinate system SE rotates at the Earth\u2019s rotation angular\nvelocity ?E.\n\n?E 5 15:041?=h\n\n3. Geographic coordinate system (Se)\nThe position of the moving object in the Earth\u2019s surface Oe is set as\nthe origin of the coordinate system, OeXe pointing to the east and\nOeye pointing to the north, while Oeze, Oexe, and Oeye constitute the\nright-handed coordinate system, pointing to the sky along the\ndirection of local Earth vertical, that is the \u201cnorth-east-sky\u201d coordinate\nsystem.\n\n4. Orbit coordinate system (So)\nOrigin Oo is the satellite centroid, while axis Ooxo is in the orbit plane\nand points to the direction of satellite motion, axis Ooyo is perpendicular\nwith the orbit plane and points to the \u201cRight\u201d which is opposite to the\nsystem moment of the momentum vector, axis Oozo plumb down\ntowards the center of the Earth. This coordinate system is also the\nconventional second orbit coordinates.\n\n5. Star coordinate system (Sb, carrier coordinate system)\nIn normal flight, axis Obxb coincides with axis Obxo, axis Obyb coincides\nwith axis Obyo, and axis Obzb is along the extension direction of the\ngravity gradient rod which coincides with axis Obzo. In normal work,\nthe satellite coordinate system Sb coincides with the orbit coordinate\nsystem So.\n\n7.2.2.2 Measurement Principles\nMiniature inertial measurement unit (MIMU) consists of three micro-\ngyroscopes and three micro-accelerometers, the output shafts of which are\nperpendicular to each other, to respectively sensing angular velocity and\nacceleration along three orthogonal directions. Data collection system can\nconvert the output of gyroscope and accelerometer to digital signal in real\ntime and can conduct the work of storage and real-time processing.\n\nAccording to the attitude transfer principle, the attitude matrix between car-\nrier coordinate system and the reference coordinate system can be expressed\nas follows:\n\nCbe 5\ncos ? cos ? sin ? cos ? 2 sin ?\n\ncos ? sin ? sin ?2 sin ? cos ? sin ? sin ? sin ?1 cos ? cos ? cos ? sin ?\ncos ? sin ? cos ?1 sin ? sin ? sin ? sin ? cos ?2 cos ? sin ? cos ? cos ?\n\n2\n4\n\n3\n5\n\n\u00f07:1\u00de\nHere, ?, ?, and ? respectively represents the pitch angle, roll angle, and head-\ning angle of the carrier relative to the reference system. MIMU calculation\n\n240 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nprinciple is shown in Fig. 7.7, subscripts b and e respectively represents the\ncarrier coordinate system and reference coordinate system; a5 ax ay az\n\n? ?T\nis the acceleration vector, V 5 Vx Vy Vz\n\n? ?T\nis the velocity vector, and\n\nP5 Px Py Pz\n? ?T\n\nis the position vector, among which x, y, and z respec-\ntively represents the horizontal axis, vertical axis, and vertical axis of carrier\ncoordinate system; ?5 ?x ?y ?z\n\n? ?T\nis the angular velocity vector,\n\nZ5 ? ? ?\n? ?T\n\nis the attitude angle vector; q5 q0 1 q1i1 q2j1 q3k is the\ncarrier rotation quaternion; Ceb is the attitude matrix from the carrier coordi-\nnate system to reference coordinate system.\n\nIn practice, MIMU keenly senses the rotation of the carrier and converts it to\nthe reference coordinate system by the software. The accelerometer group\noutputs the inertial acceleration ab along the axis of the carrier coordinate\nsystem, which can be transformed into the acceleration ae under the reference\ncoordinate system, subsequently the speed and position under the reference\ncoordinate system can be calculated through the second integral calculation.\nGyroscope outputs the angular rate ?b under the reference coordinate system,\nthen it is substituted into the transformation matrix formula to calculate Ceb\nafter quaternion calculation. Meanwhile, attitude angle vector Z can also be\ncalculated. Quaternion differential equation characterizing rigid object rota-\ntion expresses as follows:\n\n_q5\n1\n2\n\n0 2?x 2?y 2?z\n?x 0 ?z 2?y\n?y 2?z 0 ?x\n?z ?y 2?x 0\n\n2\n664\n\n3\n775q \u00f07:2\u00de\n\nFIGURE 7.7\nMIMU measurement process.\n\n7.2 System Integration of MIMU and Attitude Determination Algorithms 241\n\n\n\nhere:\n\nq5 q0 1 q1i1 q2j1 q3k \u00f07:3\u00de\nAdditional, when using attitude matrix to describe the motion of carriers in\nthe MIMU system, we can also use the following equation:\n\n_C\ne\nb 5C\n\ne\nb?eb \u00f07:4\u00de\n\nIn this equation, Ceb is the attitude matrix from carrier coordinate system to\nreference coordinate system.?eb is the skew-symmetric matrix of rotational\nangular velocity of carrier coordinates relative to the reference coordinate\nsystem, which is:\n\n?eb 5\n0 2?z ?y\n?z 0 2?x\n2?y ?x 0\n\n2\n4\n\n3\n5 \u00f07:5\u00de\n\nHere, we can use angle increment algorithm to directly solve the attitude\nmatrix directly, and the expression is:\n\nCeb t1?t\u00f0 \u00de5Ceb t\u00f0 \u00de I1\nsin ??0\n??0\n\n??beb 1\n12 cos ??0\n\n??02\n??beb\n? ?2? ? \u00f07:6\u00de\n\nHere, ??beb is the angular increment, which can be calculated by the follow-\ning equation:\n\n??beb 5\n\u00f0t1?t\nt\n\n?ebdt \u00f07:7\u00de\n\nIn specific calculations, we often use the fourth-order incremental algorithm:\n\nCeb t1?t\u00f0 \u00de5Ceb t\u00f0 \u00de I1 12\n??02\n\n6\n\n\t \n\n??beb 1\n\n1\n2\n2\n\n??02\n\n24\n\n\t \n\n??beb\n? ?2? ? \u00f07:8\u00de\n\nUsing the above method to update the attitude transformation matrix in real\ntime, and to do coordinate transformation of acceleration vector, the direc-\ntion of the acceleration vector can be transformed from the carrier coordinate\nsystem to the reference coordinate system:\n\nae 5C\ne\nbab \u00f07:9\u00de\n\nHere ab is the acceleration vector outputed by the accelerometer, ae is the\nacceleration vector under the reference system, which can be expressed as\nfollows:\n\nab 5 axbi1 aybj1 azbk \u00f07:10\u00de\nae 5 axei1 ayej1 azek \u00f07:11\u00de\n\nThe velocity components and the three-dimensional position of the carrier\nare obtained by two numerical integrations of the three components of ae.\n\n242 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nMeanwhile, we can calculate attitude angles of the carrier as follows:\n\n?5 sin21\u00f0T31\u00de\n\n?5 tg21\nT32\nT33\n\n0\n@\n\n1\nA\n\n?5 tg21\nT21\nT11\n\n0\n@\n\n1\nA\n\n\u00f07:12\u00de\n\nHere, Tij\u00f0i; j5 1; 2;3\u00de is an element of the transformation matrix Ceb.\nFig. 7.8 is our MIMU navigation algorithm process. In the above measure-\nment process, accelerometers group and gyroscopes group constantly output\nacceleration and angular velocity of the carrier. On this basis, we can obtain\nthe relative positional relationship between the measured points according\nto the principle of the strapdown inertial navigation system. Here, we use the\ncomputer to collect angular rate output signal of the gyroscopes, constantly\nupdating the system\u2019s attitude transformation matrix and using the transfor-\nmation matrix to transform the sampled acceleration signal into the reference\n\nFIGURE 7.8\nMIMU navigation algorithm process.\n\n7.2 System Integration of MIMU and Attitude Determination Algorithms 243\n\n\n\ncoordinate. Finally, the computer calculates the speed and position of the\nMIMU in the reference coordinate system through integral calculation.\n\n7.2.3 Error Analyses for the MIMU Model\n7.2.3.1 Inertial Sensor Error\nWhen using MIMU to conduct inertial measurement, the main sources of\nmeasurement error include inertial element errors and measuring system\nerrors. Among them, inertial element errors include: sensor's zero error,\ndynamic error, installation error, standard error, first power error, and qua-\ndratic error of specific force and other high-order error. In theory, we should\nconsider all of these errors, and this is the content we are going to study in\nthe next chapter of calibration technique. Here, when only taking the large\nerror term into account, we get the following error model equation of the\naccelerometers and gyroscopes:\n\n?ax 5 ?axzay 2 ?\na\nxyaz 1 kxa\n\n2\nx 1?ax 1?arx\n\n?ay 5 ?ayxaz 2 ?\na\nyzax 1 kya\n\n2\ny 1?ay 1?ary\n\n?az 5 ?azyax 2 ?\na\nzxay 1 kza\n\n2\nz 1?az 1?arz\n\n\u00f07:13\u00de\n\n??x 5 ?gxz?y 2 ?\ng\nxy?z 1 pxxax 1 pxyay 1 pxzaz 1 ?x 1 ?rx\n\n??y 5 ?gyx?z 2 ?\ng\nyz?x 1 pyxax 1 pyyay 1 pyzaz 1 ?y 1 ?ry\n\n??z 5 ?gzy?x 2 ?\ng\nzx?y 1 pzxax 1 pzyay 1 pzzaz 1 ?z 1 ?rz\n\n\u00f07:14\u00de\n\nIn the equation, ?ai\u00f0i5 x; y; z\u00de and ?ari\u00f0i5 x; y; z\u00de are zero bias and random\nerror of the accelerometer, respectively; ?i and ?ri are constant drift rate and\nrandom error of the gyroscope, respectively; ?aij and ?\n\ng\nij\u00f0i; j5 x; y; z\u00de are mis-\n\nalignment angles of the accelerometer and gyroscope, respectively. ki is the\nsquared coefficient of the acceleration; and pij is the coefficient related to the\nacceleration.\n\n7.2.3.2 MIMU Error Analysis\nAccording to the MIMU measuring principle, MIMU belongs to the strap-\ndown inertial navigation system, which is capable of implementing the\nfunctions of inertial navigation platform through the attitude algorithm\nusing the computer. Influenced by errors from gyro drift, accelerometer\nbias, and other errors originating from inertial devices, also limited by the\nmutual coupling effect between three channels in the calculation process,\nthe long-term stability and accuracy of MIMU are not high. Here, based on\nsemianalytic inertial system error theory, we give the MIMU system error\nequation, laying the foundation for constructing the integrated navigation\nsystem state equation.\n\n1. Inertial system equations [20]\n\n244 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nSelect the geographic coordinate system as the reference system. The\nattitude matrix of the carrier system (b) relative to geographic\ncoordinate system (e) is:\n\nCbe5\ncos? cos ? sin? cos ? 2 sin ?\n\ncos? sin ? sin ?2 sin? cos ? sin? sin ? sin ?1cos? cos ? cos ? sin ?\ncos? sin ? cos ?1 sin? sin ? sin? sin ? cos ?2cos? sin ? cos ? cos ?\n\n2\n4\n\n3\n5\n\n\u00f07:15\u00de\nHere ?; ?; ?, respectively represent the carrier\u2019s heading angle, pitch\nangle, and roll angle.\nUsing the direction cosine matrix to describe the movement of the\n\ncarrier\n\n_C\ne\nb 5C\n\ne\nb?be \u00f07:16\u00de\n\nHere Ceb is the direction cosine matrix of the carrier from the carrier\ncoordinate system to the geographic coordinate system, ?bbe is the skew\nsymmetric matrix of the rotational angular velocity ?bbe of the carrier\ncoordinate relative to geographic coordinate system.\nWe use ?ebe to represent rotational angular velocity of geographic\n\ncoordinate system relative to inertial space. The component expression is:\n\n?x 52\nVy\n\nR1 h\n\n?y 5\nVx\n\nR1 h\n1?e cos ?\n\n?z 5\nVy\n\nR1 h\ntan ?1?e sin ?\n\n\u00f07:17\u00de\n\nHere ?e, R, ?, and h represent the angular velocity of the Earth, the\nEarth\u2019s radius, latitude, and height of the carrier, respectively. Vx, Vy\nrepresent components of the carrier\u2019s velocity relative to the Earth\nalong the east and the north in the geographic coordinate system.\n?bbi represents the absolute angular rate directly measured by rate-of-\n\nturn gyroscope, therefore:\n\n?bbe 5?\nb\nbi 2C\n\nb\ne\n\n2\nVy\n\nR1 h\n\nVx\nR1 h\n\n1?e cos ?\n\nVy\nR1 h\n\ntan ?1?e sin ?\n\n2\n666666664\n\n3\n777777775\n\n\u00f07:18\u00de\n\nApply Eq. (7.18) into Eq. (2.16), we can obtain the attitude matrix\nfrom the time integration.\n\n7.2 System Integration of MIMU and Attitude Determination Algorithms 245\n\n\n\nMeanwhile, accelerometers measure the specific force along the\ncarrier\u2019s three directions. Using the attitude matrix to conduct the\ncoordinate transformation and eliminating the interference of Coriolis\nacceleration and centrifugal acceleration, we get the carrier\u2019s\nacceleration relative to the geographic coordinate system, and the\nmechanical choreography equations are:\n\n_Vx 5 f x 1\nVy\n\n\u00f0R1 h\u00de cos ? 12?e\n\n0\n@\n\n1\nAsin ? Vy 2 Vx\u00f0R1 h\u00de cos ? 1 2?e\n\n0\n@\n\n1\nAcos ?Vz\n\n_Vy 5 f y 2\nVx\n\n\u00f0R1 h\u00de cos ? 1 2?e\n\n0\n@\n\n1\nAsin ? Vx 2 VyVz\u00f0R1 h\u00de\n\n_Vz 5 f z 1\nVx\n\n\u00f0R1 h\u00de cos ? 1 2?e\n\n0\n@\n\n1\nAcos ? Vx 1 V2y\u00f0R1 h\u00de 2 ge\n\n\u00f07:19\u00de\nHere _Vx; _Vy; _Vz is respectively carrier\u2019s acceleration component relative to\ngeographic coordinate system, fx, fy, and fz respectively is the specific force\ncomponent measured by the accelerometer, ge is the acceleration of gravity.\n\nAccording to the definition of latitude and longitude, we can get the\nlocation equation after integrating the speed terms:\n\n_?5 52\nVy\n\n\u00f0R1 h\u00de\n\n_?5\nVx\n\n\u00f0R1 h\u00de cos ?\n_h5Vz\n\n\u00f07:20\u00de\n\n2. MIMU system error equation.\nDue to the presence of various errors from the inertial device, according\nto the above mechanical arrangement equation, we can get the linear\nerror model of the inertial navigation system MIMU using the\nperturbation equation.\n\nError Angle equation:\n\n_?5\nVx\n\nR1h\ntan?1?e sin?\n\n0\n@\n\n1\nA?2 Vx\n\nR1h\n1?e cos?\n\n0\n@\n\n1\nA?2 1\n\nR1h\n?Vy1\n\nVy\n\u00f0R1h\u00de2 ?h1?x\n\n_?52\nVx\n\nR1h\ntan?1?e sin?\n\n0\n@\n\n1\nA?2 Vy\n\nR1h\n?1\n\n1\nR1h\n\n?Vx2?e sin???2\nVx\n\n\u00f0R1h\u00de2 ?h1?Y\n\n_?5\nVx\n\nR1h\n1?e sin??1\n\nVy\nR1h\n\n?1\n1\n\nR1h\ntan??Vx1\n\nVx\nR1h\n\nsec2?1?ecos?\n\n0\n@\n\n1\nA??\n\n2\nVx\n\n\u00f0R1h\u00de2 tan??h1?Z\n\n\u00f07:21\u00de\n\n246 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nSpeed error equation:\n\n?V\nd\n\nx52 fz?1 fy?2\nVz\n\nR1h\n2\n\nVy\nR1h\n\ntan?\n\n0\n@\n\n1\nA?Vx1 VxR1h tan?12?e sin?\n\n0\n@\n\n1\nA?Vy\n\n2\nVx\n\nR1h\ntan?1?e cos?\n\n0\n@\n\n1\nA?Vz1 2?eVz sin?1 VyVxR1hsec2 ?12?eVx cos?\n\n0\n@\n\n1\nA??\n\n1\nVxVz\n\n\u00f0R1h\u00de2 2\nVxVy\n\n\u00f0R1h\u00de2 tan\u00f0?\u00de\n0\n@\n\n1\nA?h1?ax\n\n?V\nd\n\ny5 fz?2 fx?22\nVx\n\nR1h\ntan?1?e sin?\n\n0\n@\n\n1\nA?Vx2 VzR1h?Vy2 VyR1h?Vz\n\n2\nVx2\n\nR1h\nsec2?12?eV cos?\n\n0\n@\n\n1\nA??1 Vx2\u00f0R1h\u00de2 tan?1 VyVz\u00f0R1h\u00de2\n\n0\n@\n\n1\nA?h1?aY\n\n?V\nd\n\nz52 fy?1 fx?12\nVx\n\nR1h\n1?e cos?\n\n0\n@\n\n1\nA?Vx12 VyR1h?Vy22?eVx sin???\n\n1\nVx21Vy2\n\n\u00f0R1h\u00de2 ?h1WaZ\n\n\u00f07:22\u00de\nPosition error equation:\n\n_??52\n1\n\nR1 h\n?Vy 1\n\nVy\n\u00f0R1h\u00de2 ?h\n\n_??5\n1\n\nR1 h\nsec ? ?Vx 1\n\nVx\nR1 h\n\nsec? tan ? ??2\nVx\n\n\u00f0R1h\u00de2 sec ? ?h\n\n_?h5 ?VZ\n\n\u00f07:23\u00de\n\nHere, ?, ?, ? are error angles of the geographic coordinate system\nrelative to the geographic coordinate system, respectively, ?Vx, ?Vy, ?Vz\nare the spped errors, ??, ??, ?h are the errors of geographic latitude,\nlongitude, and altitude, and ?ax ?ay ?az ?T\n\n?\nand ?x ?y ?z ?T\n\n?\nare,\n\nrespectively, the accelerometer zero error and gyroscope drift rate. R is\nthe radius of the Earth, ?e is the angular velocity of the Earth, fX ; fY ; fZ\nare the corresponding specific force components.\nHere, supposing that the carrier stays static relative to the ground,\n\nthat is:\n\nVx 5Vy 5Vz 5 ax 5 ay 5 0; az 5 g\n\n7.2 System Integration of MIMU and Attitude Determination Algorithms 247\n\n\n\nUsing the change of latitude ?? ? 0, we can get the MIMU system\nsimplified error equation under static base as follows:\n\n?_\n?_\n?_\n\n?Vx\nd\n\n?Vy\nd\n\n??\nd\n\n??\nd\n\n2\n666666666664\n\n3\n777777777775\n5\n\n0 ?esin? 2?ecos? 0 2\n1\nR\n\n0 0\n\n2?esin? 0 0\n1\nR\n\n0 2?esin? 0\n\n?ecos? 0 0\n1\nR\ntan? 0 2?ecos? 0\n\n0 2g 0 0 2?esin? 0 0\ng 0 0 22?esin? 0 0 0\n\n0 0 0 0 2\n1\nR\n\n0 0\n\n0 0 0\n1\nR\nsec? 0 0 0\n\n2\n66666666666666666666664\n\n3\n77777777777777777777775\n\nU\n\n?\n?\n?\n?Vx\n?Vy\n??\n??\n\n2\n666666664\n\n3\n777777775\n1U\n\n?x\n?y\n?z\n?ax\n?ay\n0\n0\n\n2\n666666664\n\n3\n777777775\n\n\u00f07:24\u00de\n3. MIMU system static error simulation\n\nBased on the static MIMU system error equation, we get:\n\nAttitude errors ?5 ?50:01 degree; ?5 0:03 degree\nSpeed error ?Vx 5 ?Vy 50\nLatitude and longitude error ??5 ??50:01 degree\nAccelerometer zero error ?ax 5?ay 5?az 5 1025 g \u00f01?\u00de\nGyroscope drift rate ?x 5 ?y 5 ?z 50:01 degree=h \u00f01?\u00de\n\nIn addition, we set the radius of the Earth R5 6367.65 km, angular velocity\nof the Earth ?e 5 15.04107?/h, local (Beijing) latitude ?5 39.9?, local accel-\neration: g5 9.78049 m/s2.\n\nUsing fourth-order Runge-Kutta method to solve Eq. (7.24), we can calculate\nthe system static measurement error. The speed, position, and attitude angle\nerror curve are shown in Figs. 7.9?7.15, respectively.\nAs shown in the figures, because of the mutual coupling between the\nthree MIMU channels, the system error not only shows Shura oscillation\ncycle characteristics, but also has oscillation characteristics of the\nFoucault cycle and Earth cycle. Besides, the longitude error curve is in line\nwith the longitude error equation, which possesses the open-loop\ncharacteristic.\n\n7.3 RESEARCH ON INTEGRATED\nCALIBRATION OF MIMU\n\nBecause of the presence of errors such as installation error, zero deviation,\nand scale factor, the MIMU must be calibrated before use. Inertial device\n\n248 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nerrors consists of deterministic error and random error. Because of the nature\nof random error with its random properties, it can only be determined using\na statistical method to obtain the rule of changing and then using the filter\nto compensate. In this chapter, we will only investigate the calibration and\ncompensation of the deterministic errors.\n\nMIMU calibration starts from the whole error model of the strap down sys-\ntem. By establishing the measurement model of the system angular velocity,\n\nFIGURE 7.9\nRoll angle error.\n\nFIGURE 7.10\nPitch angle error.\n\n7.3 Research on Integrated Calibration of MIMU 249\n\n\n\nlinear acceleration, and doing the experiment using rate and multi-position,\nthe overall calibration for the installation errors can be fulfilled, including\nscale factors, coefficients of drift and other error terms. The measurement\naccuracy can be greatly improved by making compensations for the raw\noutputs.\n\nFIGURE 7.11\nHeading angle error.\n\nFIGURE 7.12\nX velocity error.\n\n250 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n7.3.1 Error Models of Inertial Devices\nDue to the effect of environmental conditions, the inertial instrument (gyro-\nscopes and accelerometers) of the strap down inertial measurement system\nwill produce errors. Theoretically, without considering the error, the output\nof a gyroscope and accelerometer can be written as\n\nG5Kg?b A5Kaab \u00f07:25\u00de\n\nFIGURE 7.13\nY velocity error.\n\nFIGURE 7.14\nLatitude error.\n\n7.3 Research on Integrated Calibration of MIMU 251\n\n\n\nwhere G and A\u2014the respective outputs of the gyroscope and accelerometer;\n\nKg and Ka\u2014the respective scale factors of the gyroscope and accelerometer;\n\n?b\u2014the movement velocity of the carrier\n\nab\u2014the acceleration of the carrier.\n\nHowever, due to various interference factors existing in the instrument, actu-\nally the angular velocity and acceleration determined by the instrument are\nno longer simply the angular velocity and acceleration of the carrier. When\nthe instrument converts the angular velocity and acceleration to output, it\ncan also account for the error due to various kinds of interference in the pro-\ncess of transformation.\n\n7.3.1.1 Research Error Model\n1. The model equations of strapdown system\n\nFirst, to highlight the influence of the linear acceleration and angular\nvelocity signals from the sensors, we suppose there is no scale factor\nerror. Considering the line movement error, the angle motion error,\nignoring the error due to the disturbance angle and the dynamic error,\nwe can get the angular velocity output model:\n\nDX 5Kg\u00f0X\u00de\u00bdDF\u00f0X\u00de1?bX 1EXY?bY 1 EXZ?bZ 1D1X?bX 1D2X?bY 1D3X?bz 1 ?gX ?\n\nDY 5Kg\u00f0Y\u00de\u00bdDF\u00f0Y\u00de1?bY 1 EYZ?bZ 1EYX?bX 1D1Y?bX 1D2Y?bY 1D3Y?bz 1 ?gY ?\n\nDZ 5Kg\u00f0Z\u00de\u00bdDF\u00f0Z\u00de1?bZ 1 EZX?bX 1 EZY?bY 1D1Z?bX 1D2Z?bY 1D3Z?bz 1 ?gZ?\n\n9>>>=\n>>>;\n\n\u00f07:26\u00de\n\nFIGURE 7.15\nLongitude error.\n\n252 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nwhere DX ;DY ;DZ\u2014respectively, Xb;Yb;Zb\u2014axis Gyro output voltage\n(V); Kg\u00f0X\u00de;Kg\u00f0Y\u00de;Kg\u00f0Z\u00de\u2014the gyro scale factor (V/degree/s);\nDF\u00f0X\u00de; DF\u00f0Y\u00de;DF\u00f0Z\u00de\u2014the gyro constant drift (degree/s);\n?bX ;?bY ;?bZ\u2014the respective carrier\u2019s rotational angular velocities\naround the Xb;Yb;Zb axis (degree/s); Eij\u2014the installation error\ncoefficients around the carrier\u2019s j (j5Xb;Yb;Zb) axis angular velocity\nrelative to i (i5Xb;Yb;Zb) axis output; Dij\u2014the orthogonal unbalanced\ndrift coefficient of gyro (i5 1;2;3, j5X;Y ;Z); ?gX ; ?gY ; ?gZ\u2014the random\ndrift (?/s).\nThe system acceleration measurement static output model is as\n\nfollows:\n\nAX 5Ka\u00f0X\u00de\u00bdk0\u00f0X\u00de1 abX 1 k1Y \u00f0X\u00deabY 1 k1Z\u00f0X\u00deabZ 1 ?aX ?\n\nAY 5Ka\u00f0Y\u00de\u00bdk0\u00f0Y\u00de1 abY 1 k1Z\u00f0Y\u00deabZ 1 k1X\u00f0Y\u00deabX 1 ?aY ?\n\nAZ 5Ka\u00f0Z\u00de\u00bdk0\u00f0Z\u00de1 abZ 1 k1X\u00f0Z\u00deabX 1 k1Y \u00f0Z\u00deabY 1 ?aZ?\n\n9>>>=\n>>>;\n\n\u00f07:27\u00de\n\nwhere AX ;AY ;AZ\u2014respectively, the Xb;Yb;Zb\u2014axis accelerometer\noutput voltage (V); Ka\u00f0X\u00de;Ka\u00f0Y\u00de;Ka\u00f0Z\u00de\u2014the accelerometer scale factor\n(V=g0); k0\u00f0X\u00de; k0\u00f0Y\u00de; k0\u00f0Z\u00de\u2014the accelerometer bias (g0); g0\u2014the\ngravitational acceleration; abX ; abY ; abZ\u2014the Xb;Yb;Zb axial direction\ninertial acceleration (g0);\nk1Y \u00f0X\u00de; k1Z\u00f0X\u00de; k1Z\u00f0Y\u00de; k1X\u00f0Y\u00de; k1X\u00f0Z\u00de; k1Y \u00f0Z\u00de\u2014the installation error\ncoefficient; ?aX ; ?aY ; ?aZ\u2014random drift (g0).\n\n2. Static scale factor error\nAs for the gyroscope, in order to show the important role of the\n\nscale factor, we ignore the error of the angular velocity from gyroscope\nitself and some factors such as temperature. The output of the\ninstrument not only reflects the scale factor Kg proportional to the\nangular velocity, but also reflects the scale factor K \u00f02\u00deg that is in direct\nproportion to angular velocity squared, so the gyroscope output:\n\nD5Kg\u00f011 ?g\u00de?b 1K \u00f02\u00deg ?2b \u00f07:28\u00de\n\nwhere Kg\u2014the meter scale coefficient;\n?g\u2014the relative value of scale factor error;\nK\u00f02\u00deg \u2014the scale factor in direct proportion to angular velocity square.\nFor acceleration, the rest can be deduced by analogy:\n\nA5Ka\u00f011 ?a\u00deab 1K \u00f02\u00dea a2b \u00f07:29\u00de\n\n7.3.2 Calibration of MIMU Error Coefficient\nBased on the strapdown system output model, we focus on the discussion\non calibration and compensation method of error coefficients. According to\n\n7.3 Research on Integrated Calibration of MIMU 253\n\n\n\nthe working principle of the strapdown system, the calibration experiment\ncan use three-axes turntable.\n\n7.3.2.1 Rate Experiment\n1. Steps:\n\na. Establish three orthogonal frame positions of the turntable, with its\noutside frame vertical and the other two frames horizontal.\n\nb. Install the MIMU, making its OXb, OYb, OZb values respectively\ncoincide with the middle, outer, and inner framework, as shown in\nFig. 7.16.\n\nc. First turn the turntable 90? around the middle framework (OXb),\nwhile keeping the inner framework (OZb) axis in the vertical\nposition, then rotate it with constant angular velocity (choosing\nangular velocity according to the actual situation) around the outer\nframe. Write down the outputs of the three gyroscope axes during\nthe rotation process.\n\nd. Remain the OXb, OYb axes remain in a vertical position respectively,\nand repeat the above steps.\n\n2. The output of the gyroscope during the rate test\na. When the inertial measurement unit is performing the rate\n\nexperiment around the OZb axis, the output angular velocity and\ninput acceleration input are, respectively:\n\n?bZ\u00f0i\u00de5?\u00f0i\u00de1?e sin?\n?bX\u00f0i\u00de5?e cos ? cos ?3\u00f0t\u00de\n?bY \u00f0i\u00de5?e cos ? sin ?3\u00f0t\u00de\n\naZ\u00f0i\u00de5 g0\naX\u00f0i\u00de50\naY \u00f0i\u00de50\n\n8><\n>:\n\n8><\n>: \u00f07:30\u00de\nwhere ?\u00f0i\u00de is the turntable\u2019s rotation angular velocity around the\nouter gimbal axis (i5 1, 2, . . .) (degree/s); ?e is the Earth\u2019s\nrotational angular velocity (degree/s); ? is the local latitude; ?3\u00f0t\u00de is\nthe angle between the middle framework and the north direction at\ntime t.\n\nZ b\nYb\n\nX b\n\nFIGURE 7.16\nSchematic diagram of a three-axes turntable.\n\n254 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nSubstitute the above two equations into Eq. (3.2), Considering\nthe nonlinearity of each axis scale factor in the equation, according\nto Eq. (3.4), and making ?g 5 0:\n\nDX 5Kg\u00f0X\u00de?bX 1K \u00f02\u00deg \u00f0X\u00de?2bX\nDY 5Kg\u00f0Y\u00de?bY 1K \u00f02\u00deg \u00f0Y\u00de?2bY\nDZ 5Kg\u00f0Z\u00de?bZ 1K \u00f02\u00deg \u00f0Z\u00de?2bZ\n\n\u00f07:31\u00de\n\nUsing Eqs. (3.6) and (3.7), and considering that the installation\nerror coefficient Eij is small, the squared items can be ignored; when\nthe turntable is rotated for 360?, ?3\u00f0t\u00de varies from 0 to 2?. In this\nrange, the integral of terms containing cos?3\u00f0t\u00de or sin?3\u00f0t\u00de are all 0.\nThe strapdown system output for the three axes is:\n\nDXZ 5\n\u00bdEXZ\u00f0?\u00f0i\u00de1?e sin?\u00de\n1DF\u00f0X\u00de?\n\n\u00bd2EXZ\u00f0?\u00f0i\u00de1?e sin?\u00deDF\u00f0X\u00de\n1 \u00f0DF\u00f0X\u00de\u00de2?\n\n? ?\nKg\u00f0X\u00de\nK \u00f02\u00deg \u00f0X\u00de\n\n\" #\n\nDYZ 5\n\u00bdEYZ\u00f0?\u00f0i\u00de1?e sin?\u00de\n1DF\u00f0Y\u00de?\n\n\u00bd2EYZ\u00f0?\u00f0i\u00de1?e sin?\u00deDF\u00f0Y\u00de\n1 \u00f0DF\u00f0Y\u00de\u00de2?\n\n? ?\nKg\u00f0Y\u00de\nK \u00f02\u00deg \u00f0Y\u00de\n\n\" #\n\nDZZ 5\n?\u00f0i\u00de1?esin?\n1DF\u00f0Z\u00de1DZ\u00f0Z\u00deg0\n\n\u00bd?\u00f0i\u00de1?e sin?\n1DF\u00f0Z\u00de1DZ\u00f0Z\u00deg0?2\n\n? ?\nKg\u00f0Z\u00de\nK \u00f02\u00deg \u00f0Z\u00de\n\n\" #\n\n9>>>>>>>>>>=\n>>>>>>>>>>;\n\u00f07:32\u00de\n\nwhere DXZ;DYZ;DZZ are the times of doing the rate experiment\naround the Zb axis, gyro output voltage value (V) of the Xb;Yb;Zb\nchannel, respectively.\n\nb. When the IMU rate experiment is done around the OXb axis, we\nobtain:\n\n?bZ\u00f0i\u00de52?e cos ? sin ?3\u00f0t\u00de\n?bX\u00f0i\u00de5?\u00f0i\u00de1?e sin ?\n?bY \u00f0i\u00de5?e cos ? cos ?3\u00f0t\u00de\n\nabZ\u00f0i\u00de50\nabX\u00f0i\u00de5 g0\nabY \u00f0i\u00de50\n\n8><\n>:\n\n8><\n>: \u00f07:33\u00de\n\nDXX 5\n\u00bd\u00f0?\u00f0i\u00de1?e sin ?\u00de\n1DF\u00f0X\u00de1DX\u00f0X\u00deg0?\n\n\u00bd\u00f0?\u00f0i\u00de1?e sin ?\u00de\n1DF\u00f0X\u00de1DX\u00f0X\u00deg0?2\n\n? ?\nKg\u00f0X\u00de\nK \u00f02\u00deg \u00f0X\u00de\n\n\" #\n\nDYX 5\n\u00bdEYX\u00f0?\u00f0i\u00de1?e sin ?\u00de\n1DF\u00f0Y\u00de1DX\u00f0Y\u00deg0?\n\n\u00bd2EYX\u00f0?\u00f0i\u00de1?e sin ?\u00de\u00f0DF\u00f0Y\u00de1DX\u00f0Y\u00deg0\u00de\n1 \u00f0DF\u00f0Y\u00de1DX\u00f0Y\u00deg0\u00de2?\n\n? ?\nKg\u00f0Y\u00de\nK\u00f02\u00deg \u00f0Y\u00de\n\n\" #\n\nDZX 5\n\u00bdEZX\u00f0?\u00f0i\u00de1?e sin ?\u00de\n1DF\u00f0Z\u00de?\n\n2EZX\u00f0?\u00f0i\u00de1?e sin ?\u00deDF\u00f0Z\u00de\n1 \u00f0DF\u00f0Z\u00de\u00de2\n\n? ?\nKg\u00f0Z\u00de\nK \u00f02\u00deg \u00f0Z\u00de\n\n\" #\n\n9>>>>>>>>>>=\n>>>>>>>>>>;\n\n\u00f07:34\u00de\n\n7.3 Research on Integrated Calibration of MIMU 255\n\n\n\nc. When theinertial measurement unit rate experiment is done around\nthe OYb axis, we obtain:\n\n?bZ\u00f0i\u00de5?e cos ? cos ?3\u00f0t\u00de\n?bX\u00f0i\u00de52?e cos ? sin ?3\u00f0t\u00de\n?bY \u00f0i\u00de5?\u00f0i\u00de1?e sin?\n\nabZ\u00f0i\u00de50\nabX\u00f0i\u00de50\nabY \u00f0i\u00de5 g0\n\n8><\n>:\n\n8><\n>: \u00f07:35\u00de\n\nDXY 5\n\u00bdEXY \u00f0?\u00f0i\u00de1?e sin?\u00de\n1DF\u00f0X\u00de1DY \u00f0X\u00deg0?\n\n\u00bd2EXY \u00f0?\u00f0i\u00de1?e sin ?\u00de\u00f0DF\u00f0X\u00de\n1DY \u00f0X\u00deg0\u00de1 \u00f0DF\u00f0X\u00de1DY \u00f0X\u00deg0\u00de2?\n\n? ?\nKg\u00f0X\u00de\nK \u00f02\u00deg \u00f0X\u00de\n\n\" #\n\nDYY 5\n\u00bd\u00f0?\u00f0i\u00de1?e sin ?\u00de\n1DF\u00f0Y\u00de1DY \u00f0Y\u00deg0?\n\n\u00bd\u00f0?\u00f0i\u00de1?e sin ?\u00de1DF\u00f0Y\u00de1DY \u00f0Y\u00deg0?2\n? ?\n\nKg\u00f0Y\u00de\nK \u00f02\u00deg \u00f0Y\u00de\n\n\" #\n\nDZY 5\n\u00bdEZY \u00f0?\u00f0i\u00de1?e sin? \u00de\n1DF\u00f0Z\u00de1DY \u00f0Z\u00deg0?\n\n\u00bd2EZY \u00f0?\u00f0i\u00de1?e sin ?\u00de\u00f0DF\u00f0Z\u00de\n1DY \u00f0Z\u00deg0\u00de1 \u00f0DF\u00f0Z\u00de1DY \u00f0Z\u00deg0\u00de2?\n\n? ?\nKg\u00f0Z\u00de\nK \u00f02\u00deg \u00f0Z\u00de\n\n\" #\n\n9>>>>>>>>>>=\n>>>>>>>>>>;\n\n\u00f07:36\u00de\n\n3. Integrated computation of rate test parameters\nRespectively, we perform the rate experiment around the OXb;OYb;OZb\naxes, and under different n values of constant angular velocity. The\ngyro outputs are DXX\u00f0i\u00de;DYY \u00f0i\u00de;DZZ\u00f0i\u00de (i5 1, 2, . . ., n). If the\ngyroscope\u2019s three-channel drift coefficient is known, we can respectively\ncalibrate the three-axes scale factors Kg\u00f0X\u00de, K\u00f02\u00deg \u00f0X\u00de, Kg\u00f0Y\u00de, K\u00f02\u00deg \u00f0Y\u00de, Kg\u00f0Z\u00de,\nK\u00f02\u00deg \u00f0Z\u00de of the strapdown system using the third of Eq. (3.8), the first of\nEq. (3.10), and the second equation of Eq. (7.36).\n\nTaking a rate experiment around the OZb axis as an example, after n\nexperimental runs, we can write the third Eq. (3.8) into the linear\nregression equation as follows:\n\nU5AX1 ? \u00f07:37\u00de\nwhere A is the angular velocity vector; U is n3 1 order measured value;\nX is the 23 1 order scale factor vector; ? is the n3 1 order random\nvector.\n\nSupposing the gyro output voltage DZZ\u00f01\u00de, DZZ\u00f02\u00de, . . . and the\ngyroscope\u2019s drift coefficient DF\u00f0Z\u00de, DZ\u00f0Z\u00de are already known, Eq. (3.13)\ncan be employed to do a linear least squares regression calculation:\n\nX?5 ATUA\n? ?21\n\nATU \u00f07:38\u00de\n\nAfter calculating the three-axes scale factors Kg\u00f0X\u00de, K \u00f02\u00deg \u00f0X\u00de, Kg\u00f0Y\u00de,\nK\u00f02\u00deg \u00f0Y\u00de, Kg\u00f0Z\u00de, K\u00f02\u00deg \u00f0Z\u00de of the strapdown system, we can calculate\nthe installation error coefficients in all experiments from the first\nand second equations of Eq. (3.8), the second and third\nequations of Eq. (3.10) and the first and third equations of\nEq. (3.12).\n\n256 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nEXZ 5\nDXZ 2DF\u00f0X\u00deKg\u00f0X\u00de2K \u00f02\u00deg \u00f0X\u00de\u00bdDF\u00f0X\u00de?2\n\nKg\u00f0X\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de1 2K \u00f02\u00deg \u00f0X\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00deDF\u00f0X\u00de\n\nEYZ 5\nDYZ 2DF\u00f0Y\u00deKg\u00f0Y\u00de2K \u00f02\u00deg \u00f0Y\u00de\u00bdDF\u00f0Y\u00de?2\n\nKg\u00f0Y\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de1 2K \u00f02\u00deg \u00f0Y\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00deDF\u00f0Y\u00de\n\nEYX 5\nDYX 2 \u00bdDF\u00f0Y\u00de1DX\u00f0Y\u00deg0?Kg\u00f0Y\u00de2K \u00f02\u00deg \u00f0Y\u00de\u00bdDF\u00f0Y\u00de1DX\u00f0Y\u00deg0?2\n\nKg\u00f0Y\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de1 2K \u00f02\u00deg \u00f0Y\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de\u00bdDF\u00f0Y\u00de1DX\u00f0Y\u00deg0?\n\nEZX 5\nDZX 2DF\u00f0Z\u00deKg\u00f0Z\u00de2K \u00f02\u00deg \u00f0Z\u00de\u00bdDF\u00f0Z\u00de?2\n\nKg\u00f0Z\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de12K \u00f02\u00deg \u00f0Z\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00deDF\u00f0Z\u00de\n\nEXY 5\nDXY 2 \u00bdDF\u00f0X\u00de1DY \u00f0X\u00deg0?Kg\u00f0X\u00de2K \u00f02\u00deg \u00f0X\u00de\u00bdDF\u00f0X\u00de1DY \u00f0X\u00deg0?2\n\nKg\u00f0X\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de1 2K \u00f02\u00deg \u00f0X\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de\u00bdDF\u00f0X\u00de1DY \u00f0X\u00deg0?\n\nEZY 5\nDZY 2 \u00bdDF\u00f0Z\u00de1DY \u00f0Z\u00deg0?Kg\u00f0Z\u00de2K \u00f02\u00deg \u00f0Z\u00de\u00bdDF\u00f0Z\u00de1DY \u00f0Z\u00deg0?2\n\nKg\u00f0Z\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de12K \u00f02\u00deg \u00f0Z\u00de\u00f0?3\u00f0i\u00de1?e sin ?\u00de\u00bdDF\u00f0Z\u00de1DY \u00f0Z\u00deg0?\n\n9>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>=\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>;\n\n\u00f07:39\u00de\nAs each experimental formula contains an installation error coefficient\nto be calculated, we calculate the average of the installation error\ncoefficients in n experimental runs.\n\n7.3.2.2 Multiposition Experiment\nThis experiment uses the Earth\u2019s rotational speed and acceleration of gravity.\nWe can obtain the error coefficient from inertial components\u2019 error model of\nthe strapdown system through a static multiposition test. Make relevant\narrangements around OXb;OYb;OZb axes and each interval represents a reading\nposition. Making full use of the amplitude change in the Earth\u2019s rotation speed\nand acceleration of gravity at different positions, then reading gyro output volt-\nage at each position, there are 24 positions including the zero position.\n\n1. Steps:\na. With outside frame vertical, middle frame horizontal and inner frame\n\nhorizontal; among them the inner frame should point to the north,\nso at the beginning, the inner, middle, and outside frames\u2019 turning\ndirections ?1;?2;?3 are all 0. A strapdown system\u2019s three axes\nOXb;OYb;OZb point to the west, the sky, and north, respectively.\nProgressively rotate the inner framework and take the 45? interval as\na reading position for a total of eight positions (1?8) including zero\nposition. Read gyro output voltages at each position.\n\nb. With outside frame vertical, middle frame horizontal and pointing\nnorth, so at the beginning ?1 5 0? ;?2 5 2 90? ;?3 5 2 90?, with\nthe strapdown system\u2019s three axes OXb;OYb;OZb respectively\npointing to the north, west, and the sky. Progressively rotate the\n\n7.3 Research on Integrated Calibration of MIMU 257\n\n\n\nmiddle framework and take the 45? interval as a reading position\nfor a total of eight positions (9?16) including zero position. Read\ngyro output voltages at each position.\n\nc. With the outside frame vertical, the middle frame is horizontal and\npointing to the north, so at the beginning\n?1 5 90? ;?2 5 0? ;?3 5 2 90?, with the strapdown system\u2019s three\naxes OXb;OYb;OZb pointing to the sky, south, and east, respectively.\nProgressively rotate the middle framework and take a 45? interval as\na reading position for a total of eight positions (17?24) including\nzero position. Read gyro output voltages at each position.\n\n2. Calculation of multiposition experiment parameters\nWhen do calculation, we assume that the scale factor Kg\u00f0X\u00de and each\ninstallation error coefficient (EXY ;EXZ) has been calibrated by\nexperimental rate Omitting the scale factor nonlinearity, that is\nK\u00f02\u00deg \u00f0X\u00de5 0, ?g\u00f0X\u00de5 0 and omitting the dynamic error term (the\nunequal inertia item, angular acceleration) the first equation of\nEq. (3.2) can be rewritten as:\n\nU2WE5AX1 ? \u00f07:40\u00de\nwhere U is the measuring angular velocity; W is the input angular\nvelocity; E is the installation error coefficient; ? is the random drift; A\nis the input acceleration; X5 DF\u00f0X\u00de\u00bd ? is the drift coefficient.\n\nSupposing all measurement of the 24 location experiments were\nindependent of each other. Then Eq. (3.16) can perform a least squares\nlinear regression, obtaining the optimal valuation of the drift\ncoefficient:\n\nX?5 ATUA\n? ?21\n\nAT \u00f0U2WE\u00de \u00f07:41\u00de\n\nTherefore, the Xb channel gyro drift coefficient\u2019s optimal valuation\nD?F\u00f0X\u00de can be calculated.\n\nIn the same way, respectively taking 24 positions of experimental data into\nthe second and third equations of Eq. (3.2), and with above analyses and\ncalculations, the optimal estimation of gyro drift coefficients in the Yb;Zb\nchannels of the strapdown system can be obtained.\n\n7.3.2.3 Calibration of the Accelerometer\u2019s Static Error Coefficient\nSimilar with gyro calibration, the calibration of each accelerometer\u2019s static\nerror coefficient is conducted in a multi-position experiment at the same\ntime, i.e., during the calibration of the accelerometer static error coefficients,\nwe record the three channels of the accelerometer output voltage at the same\ntime, and then use a linear regression method to calculate the accelerometer\n\n258 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nstatic error coefficients, including the scale factor, the second item, installa-\ntion error, etc.\n\n7.3.2.4 Rate Experiment and the Iterative Calculation\nof Multiposition Experimental Data\nFirst, scale factors and installation errors of each channel are calculated from\nthe rate experimental data. Using the known scale factor and the installation\nerror, from the multiple location experiment data, calculate the drift coeffi-\ncient for each channel gyroscope, and use the calculated gyroscope drift coef-\nficient in the calibration calculation formula of the rate experiment, to\ncalculate the scale factor and the installation error coefficients of each chan-\nnel. Above process are conducted circularly, until each channel\u2019s relative scale\nfactor error value is lower than the prescribed one. A block diagram of this\nprocess is shown in Fig. 7.17.\n\nFIGURE 7.17\nCalibration data experimental iterative process.\n\n7.3 Research on Integrated Calibration of MIMU 259\n\n\n\n7.4 MIMU INTEGRATED NAVIGATION TECHNOLOGY\n\nDue to measurement positioning errors accumulating over time, it is difficult\nfor MIMU to complete long-term measurement. There are usually two solu-\ntions to this problem. First is increaing the properties of the miniature iner-\ntial device itself by using new materials, processes, and technologies.\n\nHowever, the accuracy of the miniature inertial devices is limited by the\nworking principle and the manufacturing conditions. Second is using inte-\ngrated navigation technology, based on the filter design and other assisted\nmeasurement system in which measurement accuracy in long term is satis-\nfied. This is an effective method and one of the main directions of navigation\ntechnology. In this chapter, we will carry out research on the MIMU and\nmagnetometer, Global Positioning System (GPS)-integrated navigation and\nrelative filtering technology.\n\n7.4.1 Research of Filter Algorithm\n7.4.1.1 Kalman Filter\nSince 1960, the Kalman filter (KF) has been widely used in optimal filtering\nfields. In terms of a nonlinear filter, Extended Kalman filter (EKF) obtained\nby KF linearization has become a standard design method.\n\nFilter state equation and measurement equation have the following standard\nform:\n\n_x\u00f0t\u00de5 f \u00f0x\u00f0t\u00de; t\u00de1w\u00f0t\u00de\nzk 5 h\u00f0xk\u00de1 vk \u00f07:42\u00de\n\nwhere x is an n-dimensional state vector of the system and the variance is Pk;\nf is an n-dimensional vector function; h is an m-dimensional vector function;\nwk is a p-dimensional random process noise and the variance is Q; vk is a\nq-dimensional random observation noise and the variance is R.\n\n1. Initialization\n\nx?0 5 E x0\u00bd ?\nP0 5 E \u00f0x0 2 x?0\u00de\u00f0x02x?0\u00deT\n\n? ? \u00f07:43\u00de\n2. Time updating equation\n\nx?2k 5 f \u00f0x?k21\u00de1wk\n_Pk\u00f02 \u00de5 F\u00f0x?2k ; tk\u00dePk21 1Pk21FT\u00f0x?2k ; tk\u00de1Q\u00f0t\u00de\n\n\u00f07:44\u00de\n\n3. The measurement update equations are\n\nKk 5Pk\u00f02 \u00deHTk \u00f0HkPk\u00f02\u00deHTk1Rk\u00de21\nx?k 5 x?k?2 1Kk\u00f0zk 2 h\u00f0x?2k ; n\u00de\u00de\nPk 5Pk\u00f02 \u00de2KkCkPk\u00f02 \u00de\n\n\u00f07:45\u00de\n\n260 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nwhere\n\nFk 5\n@f\n@x\n\n; Hk 5\n@h\n@x\n\nFk;Hk are the linearized expressions of the state transfer equation and mea-\nsurement transfer equation, respectively, known as the Jacobian matrix. The\nfiltered value x?k is the linear minimum variance estimation of state xk, which\nis an unbiased estimation. Since the Kalman filter equation uses recursive\nforms, there is no need to store any measurement data, which greatly saves a\nlot of memory space and is very suitable for computer calculation.\n\n7.4.1.2 Unscented Kalman Filter\nFrom the introduction of the EKF algorithm above, we can see that the EKF\nonly provides the first-order approximation of the optimal nonlinear\nestimation, and simply linearizes all the nonlinear models, and then\napplies the linear Kalman filter method. In reality, on one hand, if the time\ninterval is not small enough, linearization might produce extremely\nunstable filtering. On the other hand, Jacobian matrix derivative is needed\nin the linearization process, which is not easy in most cases. In order to\nsolve these problems, Julier and Uhlman presented a new generalized\nKalman filter\u2014the U-Kalman filter (UKF). Compared with EKF, the UKF\nselects a batch of sampling points that can express the mean and variance\nof the system state, and achieves a third-order approximation precision to\nreal mean and variance through nonlinear transformation of sampling\npoints.\n\n1. Defects of the EKF\nIn 1960, on the basis of the following two assumptions: (1) the state\ndistribution is Gaussian distribution; (2) Gaussian distribution is still\nGaussian distribution after linear operation, Kalman first proposed the\nKalman filter. The state space method is used to describe the system.\nThe algorithm adopts a recursive method to deal with\nmultidimensional and nonstationary stochastic processes. As the\noriginal KF is only applicable to the linear system, EKF is proposed in\norder to make KF applicable to nonlinear conditions. EKF\napproximates nonlinear systems with a linear system through\n\u201clinearization,\u201d replacing all nonlinear information with linear\napproximations.\nSupposing a nonlinear discrete system state equation:\n\nXk 5 f \u00f0Xk21\u00de1Wk \u00f07:46\u00de\nwhere f is a state transition matrix and Wk is an r-dimensional system\ndynamic noise.\n\n7.4 MIMU Integrated Navigation Technology 261\n\n\n\nThe observation equation:\n\nyk 5 h XK\u00f0 \u00de1Vk \u00f07:47\u00de\nwhere yk is an observation vector, H is the observation model, Vk is an\nr-dimensional measurement noise.\n\nAssuming that noise Wk and Vk are irrelevant Gaussian white noises\nwith a zero mean, also not relevant with the initial state X0, for\nk2 1$ 1, there are\n\nE\u00bdWk21?5 0; E\u00bdWk21WTj21?5Qk21?k21;j21\nE\u00bdVk21?5 0; E\u00bdVkVTj ?5Rk?k;j\n\nE\u00bdWkVTj ?5 0; E\u00bdX0WTk21?50; E\u00bdX0VTk ?5 0\n\u00f07:48\u00de\n\nBased on Gaussian random distribution, EKF recursive estimation is\nobtained as below:\n\nX? k 5 X?\n2\n\nk 1Kk yk 2 y?\n2\nk\n\n? ?\nPXk 5P\n\n2\nXk\n2KkPBykKTk \u00f07:49\u00de\n\nAlthough we do not assume that the model is linear, the formulas\nabove are linear recursive, and the optimal iterative solution can be\ngiven by the formula below:\n\nX?\n2\n\nk 5 E F\u00f0X?k21\u00de\n? ? \u00f07:50\u00de\n\nKk 5PxkykP\n21\n~yk ~yk\n\n; ~yk 5 yk 2 y?\n2\nk \u00f07:51\u00de\n\ny?2k 5E H\u00f0X?\n2\n\nk \u00de\n? ? \u00f07:52\u00de\n\nX?\n2\n\nk , y?\n2\nk are the best predictions of Xk and yk respectively.\n\nIn the case of linear conditions, KF can accurately obtain these\nvalues. But for nonlinear models, EKF obtains these values by\napproximation.\n\nX?\n2\n\nk ? f \u00f0X?k21\u00de \u00f07:53\u00de\n\nKk ? PxkykP21~yk ~yk \u00f07:54\u00de\n\ny?2k ? H\u00f0X?\n2\n\nk \u00de \u00f07:55\u00de\nTo determine the covariance, first the model should be linearized,\nXk11 ? AXk 1BVK , yk ? CXk 1DWK , and then the covariance matrix of\nthe linear system can be determined, which is considered as the\ncovariance of the nonlinear model. In other words, in EKF, Gaussian\ndistribution is an approximation of the state distribution, and EKF\ngives the first-order approximation of the best estimate through the\n\n262 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nfirst-order linear transfer of the nonlinear system. EKF can also\nachieve the second-order accuracy. However, it is very difficult to\nachieve for its complexity. Therefore, usually in practice, the second\norder approximation is not considered. A First-order approximation\nprobably introduces large errors into the real mean and covariance of\na random variable after transformation, especially when the local\nlinearization assumption is invalid, linearization produces very\nunstable filtering. In addition, in most cases the derivative of Jacobi\nmatrix needs to be calculated in the EFF linearization process, which\nis not simple.\n\n2. Unscented Transformation (UT)\nUKF solves the approximation problem of EKF. The difference\nbetween EKF and UKF is that the UKF method uses UT to calculate\nthe mean and variance of the estimated and measured predictions.\nThe unscented transformation process is to generate a number of\ndiscrete sampling points from the estimated mean and variance,\nwhich, after the propagation of the state equation and the\nmeasurement equation, produce the mean and variance of the\npredicted value by weighting.\nSampling points are generated as follows: given the mean X and\n\nvariance Pxx of an n-dimentional random variable X, through a nonlinear\ntransformation Y 5 f \u00f0X\u00de, random variables Y can be obtained, and the\nestimations of its mean y and variance Pyy are:\na. Calculating the weighted sigma 2n1 1 sampling points\n\nX0 5X\nX0 5X1 \u00f0\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\u00f0n1?\u00dePxx\n\np\n\u00dei; i5 1; . . .; n\n\nXi 5X2 \u00f0\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\u00f0n1?\u00dePxx\n\np\n\u00dei2n; i51; . . .;2n\n\nwm0 5?=\u00f0n1?\u00de;\nwc0 5?=\u00f0n1?\u00de1 \u00f012?2 1 ?\u00de;\nwmi 5w\n\nc\ni 5 1= 2\u00f0n1?\u00de\u00bd ?; i51; :::;2n\n\n\u00f07:56\u00de\n\nwhere ?5?2\u00f0n1 k\u00de2 n, ? determines the degree of distribution of\nsampling points around the mean, k generally is 0, ? contains\ndistribution of prior information of X (for Gaussian distribution,\n?5 2 is the optimal). \u00f0\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\u00f0n1?\u00dePxx\n\np\n\u00dei is the i-th row of the matrix\n\nsquare root, and wmi , w\nc\ni are the weight of the mean and variance.\n\nWhen the state variable is single variable, k5 2.\nMeanwhile,0#?# 1, the adjustment of ? can reduce the influence\nof the higher-order terms of the nonlinear equation.\n\nb. Through the nonlinear transformation, the transformed samples are\nobtained\n\nY i 5 f \u00f0Xi\u00de; i50; . . .; 2n \u00f07:57\u00de\n\n7.4 MIMU Integrated Navigation Technology 263\n\n\n\nc. Calculating the mean and covariance\n\nY\nd\n5\nX2n\ni50\n\nwmi Yi\n\nPyy 5\nX2n\ni50\n\nwci \u00f0Yi 2 2Y \u00de\u00f0Yi22Y \u00deT\n\u00f07:58\u00de\n\nFig. 7.18 is a schematic representation of the mean and variance\nestimation processes for a two-dimensional system: (1) the true mean\nvalue and variance are generated through Monte Carlo sampling; (2)\nthe mean value and variance are generated through linearization, and\nlinearization is the same with EKF; (3) for the use of UT. Obviously,\nUT is closer to true a nonlinear state than EKF linearization.\n\n3. UKF design\nApplying UT in the recursive process and remaining other parts the\nsame, UKF filter can be obtained.\na. Initialization\n\nProcess noise and measurement noise can be augmented to state\nvectors, assuming that dimension is n, xa is augmented state vector,\n\nSigma dot\n\nVariance \n\nMean \n\nReal mean \n\n(A) (B) (C)\n\nReal variance \n\nUT variance\n\nUT mean\n\nSigma dot \n\nafter change \n\n( )y f X=\n\n( )\nT\n\ny X\n\ny f X\n\nP P? ?\n\n? ?\n=\n=\n\n( )y f X=\n\nWeighted variance\n\nand mean \n\nFIGURE 7.18\nMean and variance estimation of a two-dimentional system. (A) Monte Carlo sampling, (B) EKF, (C) UT.\n\n264 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nw and v are the process noise and measurement noise. Xa is the\ncorresponding sampling points vector. P0 is the initial estimate of\nthe original state vector covariance, Pv is the process noise variance,\nPn is the measurement noise variance.\n\nxa 5 xT wT vT\n? ?T\n\nXa 5 \u00f0Xx\u00deT \u00f0Xw\u00deT \u00f0Xv\u00deT\n? ?T\n\nx?0 5 E x0\u00bd ?; P0 5 E x0 2 x?0\u00f0 \u00de x02x?0\u00f0 \u00deT\n? ?\n\nx?a0 5 E x\na\n0\n\n? ?\n5 x?T0 0 0\n? ?T\n\nPa0 5 E x\na\n0 2 x?\n\na\n0\n\n? ?\nxa02x?\n\na\n0\n\n? ?Th i\n5\n\nP0 0 0\n0 Pw 0\n0 0 Pv\n\n2\n4\n\n3\n5\n\nb. Sampling points calculation\n\nXa0;k21 5 x?\na\nk21\n\nXai;k21 5 x?\na\nk21 1\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\u00f0n1?\u00dePak21p? ?i; i5 1; . . .; n\nXai;k21 5 x?\n\na\nk21 2\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\u00f0n1?\u00dePak21p? ?i; i5 n11; . . .; 2n 2n11 sampling points:\nc. Time updating equations\n\nXxkjk21 5 F X\nx\nk21;X\n\nw\nk21\n\n? ?\nx?2k 5\n\nX2n\ni50\n\nwmi X\nx\ni;kjk21\n\nP2k 5\nX2n\ni50\n\nwci X\nx\ni;kjk21 2 x?\n\n2\nk\n\n? ?\nXxi;kjk212x?\n\n2\nk\n\n? ?T\nZkjk21 5H Xxkjk21;X\n\nv\nk21\n\n? ?\nz?2k 5\n\nX2n\ni50\n\nwmi Zi;kjk21\n\nd. Measurement updating equations\n\nP_\nZk\n\n_\nZk\n\n5\nX2n\ni50\n\nwci Zi;kjk21 2 z?\n2\nk\n\n? ?\nZi;kjk212z?\n\n2\nk\n\n? ?T\nP\nXk\n\n_\nZk\n\n5\nX2n\ni50\n\nwci Xi;kjk21 2 x?\n2\nk\n\n? ?\nZi;kjk212x?\n\n2\nk\n\n? ?T\nK5P\n\nXk\n_\nZk\nP21_\nZk\n\n_\nZk\n\nx?1k 5 x?\n2\nk 1K zk 2 z?\n\n2\nk\n\n? ?\nP1k 5P\n\n2\nk 2KP_Zk\n\n_\nZk\nKT\n\nPzkzk 5\nX2L\ni50\n\nwci Zi;k\u00f02 \u00de2 z?2k\n? ?\n\nZi;k\u00f02\u00de2z?2k\n? ?T\n\nPxkzk 5\nX2L\ni50\n\nwci ?\nx\ni;k\u00f02 \u00de2 x?2k\n\nh i\nZi;k\u00f02\u00de2z?2k\n? ?T\n\n7.4 MIMU Integrated Navigation Technology 265\n\n\n\nKk 5PxkzkP\n21\nzkzk\n\nx?k 5 x?k?2 1Kk zk 2 z?\n2\nk\n\n? ?\nPk 5Pk\u00f02 \u00de2KkPzkzkKTk\n\nwhere zk is the measured value of step k. It can be seen that the last\nthree equations of the measurement updating equation are equivalent\nto the corresponding equations in the EKF, but the UKF improves the\nprediction accuracy. Therefore, it improves the filtering performance.\n\n7.4.1.3 Federated Filter\nWith the increasing number of navigation systems available for carrier assem-\nbly, the increase in non-similar navigation subsystems increases the measure-\nment information. The conventional centralized Kalman filter has some\nproblems in data processing of an integrated multi-sensor system. First, when\nthe combined information is redundant, the computational complexity will\nincrease the third dimension of the filter dimension and cannot meet the\nreal-time measurement requirements. Second, the increase in the navigation\nsubsystems also increases the failure rate, and the entire navigation system is\npolluted when a subsystem fails and is not detected and isolated. Speyer,\nBierman and Kerr, in order to solve this problem, proposed the idea of\ndecentralized filtering. However, there are still some problems, for example,\nthere is a large amount of information and correlation of each local state esti-\nmation solution needs to be considered in fusion. In 1988, Carlson [18] put\nforward the theory of Federated Filter, which provides integrated navigation\nsystem a design theory.\n\nFor linear time-invariant multi-sensor integrated system, it can be described\nin a discrete form below:\n\nX\u00f0k1 1\u00de5 f \u00f0k11; k\u00deX\u00f0k\u00de1?\u00f0k\u00deW\u00f0k\u00de \u00f07:59\u00de\nwhere X\u00f0k1 1\u00de is the system state variable; f \u00f0k1 1; k\u00de is the first step transfer\nmatrixes of the state; ?\u00f0k\u00de is the system noise matrix; W\u00f0k\u00de is the white noise\nseries with a zero mean, and E W\u00f0k\u00deWT\u00f0j\u00de? ?5Q?\u00f0k; j\u00de.\nAssuming that there are N sensors and each sensor makes an independent\nmeasurement, so there are corresponding N local filters and each filter can\nfilter calculation independently. The models of i-th local filters are:\n\nXi\u00f0k11\u00de5 f i\u00f0k11; k\u00deXi\u00f0k\u00de1?i\u00f0k\u00deW i\u00f0k\u00de \u00f07:60\u00de\nZi\u00f0k11\u00de5Hi\u00f0k1 1\u00deXi\u00f0k11\u00de1Vi\u00f0k1 1\u00de \u00f07:61\u00de\nwhere Zi\u00f0k1 1\u00de is the observation value of the i-th sensor; Hi\u00f0k1 1\u00de is the\nobservation matrix of the i-th sensor; Vi\u00f0k1 1\u00de is the white noise series with\na zero mean which is independent of W\u00f0k\u00de, and E V i\u00f0k\u00deV iT\u00f0j\u00de\n\n? ?\n5Ri?\u00f0k; j\u00de.\n\n266 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n1. Principles\nFederal Filter is a kind of partitioned estimation and can be regarded\nas a special dispersion filtering method based on the information\ndistribution. In Federal Filter, the subsystem includes external sensor 1,\nsensor 2, . . ., sensor N, and standard Kalman filters correspond to\ndifferent sensors. Therefore the system has multiple local filters, and\neach local filter works in parallel. The information integration and\nsequential processing are disposed of through the global filter, and the\nglobal optimal state estimation is obtained from the information\nfusion of the filtering results of all local filters.\n\n2. Information fusion algorithm based on the federal Kalman filter\nThe purpose of information fusion is to analyze and combine the\nestimated information from multiple local filters in a certain way to\nget the global optimal estimation. Supposing the state estimation of\nthe local filter is X?i, the covariance matrix of system noise is Qi and the\ncovariance matrix of state vector is Pi, i5 1. . .N; Let the parameters of\nglobal filter is X?m, Qm, Pm. The calculation process of Federal Filter is as\nfollows:\na. Initialization\n\nAssuming that the initial value of initial global state is X?0, its\ncovariance matrix is P0, and the system noise covariance matrix is\nQ0, which are distributed to each local filter and global filter\nthrough information distribution factor:\n\nQ21 5Q211 1Q\n21\n2 1?1Q\n\n21\nN 1Q\n\n21\nm ; Q\n\n21\ni 5 ?iQ\n\n21\n\nP21 5 P211 1P\n21\n2 1?1P\n\n21\nN 1P\n\n21\nm ; P\n\n21\ni 5?iP\n\n21\n\nP21X? 5 P211 X?11 1 P\n21\n2 X?2 1?1P\n\n21\nN X?N 1 P\n\n21\nm X?m; i51; 2; . . .; N;\n\nwhere ?i conforms to the law of energy conservation:\n\n?1 1?2 1?1?N 1 ?m 51; 0# ?i # 1:\n\nb. Time updating of information\n\nX? i\u00f0k1 1=k\u00de5?\u00f0k1 1=k\u00deX? i\u00f0k\u00de\nPi\u00f0k1 1=k\u00de5?\u00f0k1 1; k\u00dePi\u00f0k=k\u00de?T\u00f0k11; k\u00de\n\n1? \u00f0k11; k\u00deQi\u00f0k\u00de?T \u00f0k11; k\u00de i51;2; . . .;N;m\n\nc. Measurement updating of information\nThe measurement updating of the i-th local filter is\n\nP21k \u00f0k1 1=k11\u00deX?i\u00f0k1 1=k1 1\u00de5P21k \u00f0k1 1=k1 1\u00deX?i\u00f0k11=k11\u00de\n1HTi \u00f0k11\u00deR21i \u00f0k11\u00deZi\u00f0k1 1\u00de\n\nP21k \u00f0k1 1=k1 1\u00de5P21k \u00f0k1 1=k\u00de1HTi \u00f0k11\u00deR21i \u00f0k11\u00deHi\u00f0k1 1\u00de\ni51; 2; . . .;N\n\n7.4 MIMU Integrated Navigation Technology 267\n\n\n\nd. Information fusion\n\nX?g 5 Pg\nXN\ni51\n\nP21i X?i\n\nPg 5\nXN\ni51\n\nP21i\n\n !21\n\n3. Structure analysis\nIn different methods of information distribution, the value of\ninformation distribution factor ?i (i5 1, 2, . . ., N, m) is different.\nFederal Kalman Filters have different structures, and the general\nstructure of Federal Kalman Filter is shown in Fig. 7.19.\na. No reset structure\n\nEach local filter has all the information of its own and the output is\ndetermined by time updating and measurement updating, avoiding\nthe influence of feedback reset. The output of the global filter is\nonly determined by time updating, and it only makes a fusion of\nthe input information, but it does not keep this information and\nhas no feedback to local filters. Because there is no reset of the\nglobal optimal estimation of this method, local estimation accuracy\nis not high, but in exchange the system has good robustness of fault\n\nFIGURE 7.19\nThe structure of a general federal Kalman filter.\n\n268 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\ntolerance. Therefore, it is also known as a fault-tolerant Federal\nFiltering structure.\n\nb. Zeros-reset structure\nEach local filter provides the global filter with new information\nobtained after the data were sent last time, which is processed\nunder the condition that the estimation error variance of the public\nstate is infinite. The main global filter has long-term memory\nfunction and keeps all the fusion information. This structure can\nprocess the data from each local filter at different times and has no\nfeedback to the local filter. This structure is relatively simple to\nimplement.\n\nc. Fuse-reset structure\nMain global filter will return a feedback of distribution information\nafter each fusion calculation. Each local filter needs to wait for the\nfeedback information from the main filter before work. Because of\nthe feedback effect, this structure can improve the accuracy.\nHowever, when the information transmits, the fault also transmits\nthrough the same route at the same time, so the fault-tolerant\nability is a deficiency.\n\nd. Rescale structure\nIn the information fusion, each local filter only provides part of the\ninformation to the global filter, and keeps the rest of the\ninformation. When the fusion is completed, each local filter will\nexpand the state estimation and variance to times of the reciprocal\nof the remaining information as the initial value for filtering, and\nthen begin the next cycle of filtering.\n\n7.4.2 Combination of MIMU and Magnetometer\nSatellite autonomous navigation technology can realize independent opera-\ntion without support from the system on the ground, which can not only\neffectively reduce the cost of ground support, but also improve the surviv-\nability of the satellite. Meanwhile, satellites tend to be miniaturized, which\nrequires an autonomous navigation system that is miniaturized, cheap, and\nqualified for tasks.\n\nA three-axes magnetometer is a reliable, low-cost attitude sensor with low vol-\nume and light weight. Because the geomagnetic field intensity vector is one of\nthe vectors fixed with the Earth, different components of the geomagnetic data\ncan be measured with the three-axes magnetometer, and in this way compo-\nnents and the sum of the magnetic field and all kinds of binding parameters\ncan be obtained by computing the measured signals. With the improvement of\nthe geomagnetic field model, the combination system constituted by the MIMU\nand magnetometer can effectively estimate gyro drift and improve the accuracy\n\n7.4 MIMU Integrated Navigation Technology 269\n\n\n\nof integrated attitude determination. Especially for LEO small satellites, rich\nresources of the geomagnetic field can be taken advantage of and the require-\nment for attitude determination accuracy is not very high. Therefore, there is\ngreat practical significance to apply the measuring combination system of\nMIMU/magnetometer with low volume, light weight, reliable performance and\na certain level of accuracy to autonomous attitude determination of small\nsatellites.\n\nCompared with a traditional single magnetometer attitude determination\nsystem, gyro output replaces the satellite dynamic model and there is no\nneed to make recursion of dynamical equations, making filtering equations\nmuch simpler and decreasing the amount of calculation significantly. The\noriginal dynamic recursive accuracy is greatly influenced by the accuracy of\nthe model itself, which influences the attitude-measuring accuracy. The intro-\nduction of gyro information improves the accuracy of measurement. On the\nother hand, gyro drift can be estimated through filtering algorithm, and the\nestimation information will feedback to the MIMU, so in this way more\naccurate angular velocity measurements can be obtained, which reduce the\ninfluence of MIMU system errors accumulating over time. What is more, as a\nkind of fully autonomous navigation system, MIMU also improves the anti-\ninterference ability of this combination system.\n\n7.4.2.1 Geomagnetic Field Model\nThe geomagnetic field is a geophysical field, composed of a basic magnetic\nfield and a variable magnetic field. The basic magnetic field is derived from\nthe interior of the Earth, and the variable magnetic field is related to the vari-\nation of the ionosphere and solar activities. The geomagnetic field is a vector\nfield and geomagnetism has made great progress since Gauss introduced the\nspheric harmonic analysis method to geomagnetism and established a math-\nematical description of the geomagnetic field. In 1965, J. Cain and coworkers\nstudied Gaussian analysis of global geomagnetic data and got the global geo-\nmagnetic field model. International Association of Geomagnetism and\nAeronomy (IAGA) has explored a study of the International Geomagnetic\nReference Field (IGRF) with a 5-year interval, and so far, there have been 21\npieces of IGRF (1900?2000) data for research. The research and production\nof IGRF make it possible to study long-term changes in the geomagnetic\nfield.\n\nGiven that the potential function of the geomagnetic field is a function of\nspatial location [19]:\n\n?\u00f0r; ?;?\u00de5 a\nXk\nn51\n\nXn\nm50\n\na\nr\n\n? ?n11\ngmn cos m?1 h\n\nm\nn sin m?\n\n? ?\nPmn \u00f0cos ?\u00de \u00f07:62\u00de\n\n270 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nwhere a is the Earth reference sphere equatorial radius, a5 6378.2 km,\nr is the distance from the center of the Earth to a space position, ? is the\ngeographical longitude, ? is the geocentric colatitude and, Pmn is the Schmidt\nfunction. gmn and h\n\nm\nn are Gaussian coefficients.\n\nBecause the intensity vector of the geomagnetic field B can be expressed as\nthe negative gradient of the potential function of the geomagnetic field\nB52r?, the relationship between the geomagnetic field vector and space\nposition can be obtained:\n\nBr 52\n@?\n@r\n\n5\nXk\nn51\n\n?a\nr\n\n?n12\n\u00f0n11\u00de\n\nXn\nm50\n\ngn;mcos m?1 hn;msin m?\u00f0 \u00dePn;m\u00f0?\u00de\n\nB? 52\n@?\nr@?\n\n52\nXn5k\nn51\n\n?a\nr\n\n?n12Xn\nm50\n\ngn;mcos m?1 hn;msin m?\u00f0 \u00de @P\nn;m\u00f0?\u00de\n@?\n\nB? 52\n@?\n\nr sin ? @?\n5\n\n21\nsin ?\n\nXk\nn51\n\n?a\nr\n\n?n12Xn\nm50\n\nm 2gn;msin m?1 hn;mcos m?\u00f0 \u00dePn;m\u00f0?\u00de\n\n\u00f07:63\u00de\n\nAccording to the above three expressions, the geomagnetic field vector\nexpression can be obtained under the Earth fixed coordinate system. Select a\ngeomagnetic field model with m5 10, n5 10. Fig. 7.20 shows the geomag-\nnetic field intensity curve with an orbital altitude of 400 km under the Earth\ncoordinate system, and Fig. 7.21 shows the contour curve of geomagnetic\nfield intensity with a magnetic field intensity unit of 1 nT in the graph.\n\nFIGURE 7.20\nGeomagnetic field intensity curve.\n\n7.4 MIMU Integrated Navigation Technology 271\n\n\n\n7.4.2.2 Measurement Principles of the Magnetometer\nThe three-axes magnetometer measures the components of the Earth\u2019s mag-\nnetic field vector under the carrier coordinate system. The output of the mag-\nnetometer is the projection of the geomagnetic vector in the carrier\ncoordinate system, and the attitude of the satellite can be obtained in com-\nparison with known vector values in the reference coordinate system. The\nmeasurement at any single time contains only two-axes information and the\nthree-axes attitude cannot be obtained by just a single measurement value,\nbut using a series of sequential measurements within a certain period, we\ncan obtain all the attitude angles through the measurement values and IGRF\nmathematical model. During the period of low solar activity cycle, the mea-\nsurement accuracy of each axis of the satellite\u2019s attitude angle can reach\n,0:5 degree (1?) by using the calibrated magnetometer.\n\nLet Sb be the carrier coordinate system, So be the orbit coordinate system,\nBX ;BY ;BZ be the measured components of the geomagnetic field along three\naxes of carrier coordinate system Sb, B0X ;B\n\n0\nY ;B\n\n0\nZ be the components of the geo-\n\nmagnetic field along three axes of the orbit coordinate system, and heading\nangle, pitching angle, and roll angle be ?; ?; ?, respectively. The relationship\nbetween the geomagnetic field in the orbit coordinate system and measured\ngeomagnetic field is:\n\nBX\nBY\nBZ\n\n2\n4\n\n3\n55 1 0 00 cos? sin?\n\n0 sin? cos?\n\n2\n4\n\n3\n5U cos? 0 sin?0 1 0\n\n2 sin? 0 cos?\n\n2\n4\n\n3\n5U cos? sin? 0sin? cos? 0\n\n0 0 1\n\n2\n4\n\n3\n5U B\n\n0\nX\n\nB0Y\nB0Z\n\n2\n4\n\n3\n5 \u00f07:64\u00de\n\n7.4.2.3 Integration Structures\nThere are generally two kinds of ways for combination: (1) the output correc-\ntion combination, (2) the feedback correction combination. As we can see\nfrom Fig. 7.22, in the output correction combination, the filtering result is\ncombined with the output of the inertial system, which can compensate out-\nput error without affecting the working state of the system. But this kind of\ncombination without feedback is sensitive to the filter model error, so it\nrequires a more accurate model. The feedback correction combination esti-\nmates the error first through the filter, and then feedback to correct the iner-\ntial system. Therefore, it can control the error of the inertial system by\ncompensating the gyro, and the error is always within the assumed range of\nthe linear model. However, the changing working condition of inertial com-\nponents leads to a deviation from the best working area (Fig. 7.23).\n\n7.4.2.4 Algorithm Model of Attitude Determination Combination\nDue to the wide application and the simple design method, the Kalman filter\nhas been successfully applied to the design of the navigation system of car-\nriers with a high precision. Here, we use extended Kalman Filter (EKF) as the\n\n272 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nFIGURE 7.21\nContour curve of the geomagnetic field intensity.\n\nFIGURE 7.22\nOutput correction combination.\n\nFIGURE 7.23\nFeedback correction combination.\n\n7.4 MIMU Integrated Navigation Technology 273\n\n\n\nnavigation algorithm. According to the satellite attitude kinematic model and\nthree-axes magnetometer measurement model, the mathematical model of\ncombination system attitude can be obtained. To simplify the algorithm\nmodel and highlight the main error of the MIMU system, only gyro drift of\nthe MIMU system is taken into consideration.\n\n1. Kinematic model\n\nQ\nd\n5\n\n1\n2\n~?bi ?Q\n\nq1\nd\n\nq1\nd\n\nq1\nd\n\nq1\nd\n\n2\n666664\n\n3\n7777755\n\n0 ?biz 2?biy ?bix\n2?biz 0 ?bix ?biy\n?biy 2?bix 0 ?bix\n2?bix 2?biy 2?bix 0\n\n2\n6664\n\n3\n7775U\n\nq1\nq2\nq3\nq4\n\n2\n6664\n\n3\n7775\n\n\u00f07:65\u00de\n\nwhere Q5 q1 q2 q3 q4\n? ?T\n\nis the attitude quaternion from the\ninertial coordinate system to the carrier coordinate system, and\nB?bi 5 ?bix ?biy ?biz\n\n? ?T\nis the angular velocity of the carrier relative\n\nto the inertial coordinate system.\n2. Gyroscope output model [21]\n\n?bi 5 u2 b2?1 \u00f07:66\u00de\nwhere ?bi is the carrier\u2019s orbital angular rate in an ideal condition, u is\nthe gyro\u2019s practical output, b is the gyro drift, and ?1 is the Gaussian\nwhite noise error of gyro drift.\n\nE ?1\u00f0t\u00de\n? ?\n\n50\nE ?1\u00f0t\u00de?T1\u00f0t0\u00de\n? ?\n\n5Q1\u00f0t\u00de?\u00f0t2 t0\u00de\n\nThe gyro drift is not static, and ?2 is the random walk noise of gyro\ndrift.\n\nd\ndt\nb5?2 \u00f07:67\u00de\n\nThe characteristics of the stochastic process satisfy:\n\nE ?2\u00f0t\u00de\n? ?\n\n50\nE ?2\u00f0t\u00de?T2\u00f0t0\u00de\n? ?\n\n5Q2\u00f0t\u00de?\u00f0t2 t0\u00de\n\n3. Magnetometer measurement model:\n\nBbb 5C\nb\ni UB\n\ni\nb \u00f07:68\u00de\n\nwhere Bbb is the geomagnetic field vector measured by the\nmagnetometer under the carrier coordinate system, Bib is the\ngeomagnetic field vector calculated by IGRF under the inertial\n\n274 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\ncoordinate system, and Cbi is the attitude matrix from the inertial\ncoordinate system to the carrier coordinate system.\n\n4. The design of the attitude determination combination filter\nThe magnetometer and MIMU execute the attitude determination task,\nand the state variables of the system can be estimated by Kalman filter\nthrough the system state equation and magnetometer measurement\nequation. With the help of these results, we can compensate for the drift\nof MIMU system to improve the measurement precision of the system.\nIntroduce the definition of error quaternion, and let it be the\n\nquaternion which is needed in the rotation from the attitude\nestimation to the real value.\n\n?q25q2 ? q?21 ? ?q\n1\n\n? ?\n\u00f07:69\u00de\n\nq5 q q4\n? ?T\n\nis the real attitude quaternion, q? is the attitude\nestimation quaternion, and ?q is the error quaternion.\n\nAccording to the system model, assuming that the state vector and estimation\nerror are\n\nState vector : x5\nq\nb\n\n? ?\n\u00f07:70\u00de\n\nError vector : ?x5\n?q\nb2 b?\n\n? ?\n5\n\n?q\n?b\n\n? ?\n\u00f07:71\u00de\n\nAccording to the motion equations of satellite:\n\ndq\ndt\n\n5\n1\n2\n?? q \u00f07:72\u00de\n\nd\ndt\nq?5\n\n1\n2\n??? q? \u00f07:73\u00de\n\nso:\n\nd\ndt\n?q5\n\n1\n2\n\n?? ? ?q2 ?q? ??? ?1 1\n2\n?? ? ?q \u00f07:74\u00de\n\nwhere:\n\n??5 ?2 ??\n0\n\n? ?\n\nIgnore the second-order items, the state error equation is obtained as follows\n\nd\ndt\n\n?q\n?b\n\n? ?\n5\n\n??\u00f0t\u00de3\u00bd ? 2 1\n2\nI333\n\n033 3 033 3\n\n2\n4\n\n3\n5U ?q?b\n? ?\n\n1\n2\n\n1\n2\nI33 3 0333\n\n0333 I333\n\n2\n4\n\n3\n5U ?1?2\n? ?\n\n\u00f07:75\u00de\n\nwhere ??\u00f0t\u00de3\u00bd ? is the skew symmetric matrix of ??.\n\n7.4 MIMU Integrated Navigation Technology 275\n\n\n\nThe sensitive axes of the magnetometer are parallel to the three axes of\nthe satellite body coordinate system respectively, its measurement value\nBb is the three-axes component of local magnetic field intensity under the\ncarrier coordinate system. According to the magnetometer measurement\nequation, we can get:\n\nB?m 5C\u00f0q?\u00deBi \u00f07:76\u00de\nwhere B?b is the estimation value of Bb, C\u00f0q?\u00de is the attitude matrix derived\nfrom estimated quaternion, Bi is the magnetic field intensity calculated from\nIGRF.\n\nDefining the measurement vector as\n\nZ5Bb 2 B?b 5 \u00f0C\u00f0?2q\u00de2 I\u00deB?b ? 2 ?q3\n? ?\n\nB?b 1 v \u00f07:77\u00de\n\n?q3\n? ?\n\nis the skew symmetric matrix of ?q, and v is measurement noise.\n\nThrough the simulation analysis, we can get that: the combination of MIMU\nand the magnetometer is feasible as a satellite attitude determination scheme,\nand it can satisfy the low attitude accuracy requirement. On one hand, this\ncombination estimates the gyro drift, and it can effectively reduce the mea-\nsurement error of the MIMU accumulated over time through correction. On\nthe other hand, when there are magnetic anomalies, MIMU can work alone in\na short time, which guarantees the requirement of satellite attitude determina-\ntion. MIMU and the magnetometer rely on each other to achieve autonomous\nnavigation and satisfy the requirement of the development of microsatellites\nin the future. Besides, the convergence rate of UKF is much faster than that of\nEKF, and UKF is not sensitive to initial errors, so UKF can be applied in the\nprocess of satellite rapid mobility in order to achieve high precision estima-\ntion in real time under the condition where the satellite attitude varies\nrapidly.\n\n7.4.3 Integration of MIMU and GPS\n7.4.3.1 The Meaning of MIMU/GPS Integration\nUsing inertial navigation system for navigation and positioning is completely\nautonomous, strongly confidential, all-weather, flexible. But the main disad-\nvantage of the inertial navigation system is that the positioning error accu-\nmulates quickly over time, therefore it is difficult to conduct measurement\nfor a long time. How to solve this problem has been a hotspot in the inertial\nnavigation field. Adopting new materials, new fabrication processes, and new\ntechnologies to improve the accuracy of the existing devices, or developing\nnew types of miniature inertial devices with high precision could solve the\nproblem fundamentally, whereas it takes much manpower, material\nresources, financial resources, and time, and whether the accuracy of the\n\n276 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\ninertial devices can be improved is limited by technology and many other\nfactors. Combining the navigation system and other auxiliary measurement\nsystem to improve the measurement accuracy is an effective method.\n\nGlobal positioning system (GPS) can provide 24-hour, global, all-weather\nlocation services with high-precision and low-cost measurement. Since its\nbirth, its high precision and globalization have attracted people\u2019s attention.\nHowever, influenced by working conditions and other factors, GPS also has\nmany shortcomings:\n\n1. Poor autonomy. GPS is not an autonomous navigation system and\nrelies on the satellite\u2019s radio signal.\n\n2. Poor reliability of dynamic environment: GPS positioning requires at\nleast four satellites\u2019 signals. During dynamic environment especially\nwhen flying with high mobility, it is possible that multiple satellites\nlose their lock at the same time. In addition, precision positioning\nusing observation quantity of GPS carrier phase requires that no cycle\nslips occur. However, cycle slips often generate in dynamic\nenvironments due to the reduced signal-to-noise ratio and other\nreasons;\n\n3. Susceptible to interference. Navstar\u2019s radio signal is vulnerable to be\naffected by the ionosphere, terrain shade, and other factors;\n\n4. Update frequency of receiver\u2019s data is low, therefore it is difficult to\nmeet the requirements of real-time measurement.\n\n7.4.3.2 The Advantage of MIMU/GPS Integration\nThe MIMU and GPS combination system can complement each other and\novercome the shortcomings of the individual system.\n\n1. Improve the system accuracy. On one hand, GPS information of high\nprecision can be used to correct the inertial navigation system and\ncontrol the accumulated error. On the other hand, MIMU\u2019s\ncharacteristics of high positioning precision and high data sampling\nrate in short time provide auxiliary information for GPS. Using the\nauxiliary information, GPS receiver can keep track with low bandwidth.\nAnd during the period when the satellite coverage is poor, the inertial\nnavigation system improves the ability of GPS to capture satellite\nsignals again.\n\n2. Strengthen the antijamming ability of the system. When the GPS\nreceiver malfunctions, the inertial navigation system can position\nindependently. When the GPS signal condition is improved\nsignificantly to allow tracking, the inertial navigation system provides\ninformation, such as the initial position and velocity for the GPS\nreceiver, then the GPS can quickly get the GPS code and carrier wave.\n\n7.4 MIMU Integrated Navigation Technology 277\n\n\n\nThe inertial navigation system signal can also be used to assist the GPS\nreceiver antenna\u2019s direction to aim at the GPS satellite, which reduced\nthe interference effect of the work system.\n\n3. Solve the problem of real-time performance. Because the inertial\nnavigation system has a high data update rate and the position and\nspeed calculation measurement has certain accuracy in the short term,\ncreating an integration system and regularly using GPS to update\nmeasurement of the inertial navigation system can ensure accuracy and\nimprove the data update rate of the integration system at the same\ntime.\n\n7.4.3.3 Basic Principle of GPS\nTwenty-one working satellites and three spare satellites form the GPS space\nsystem. The satellites are uniformly distributed in six uniformly spaced\napproximate circular orbit planes; the orbit altitude is 20,183 km, the opera-\ntion cycle is 11 hours and 58 minutes. Therefore, on the Earth or any loca-\ntion at near-Earth space at any time, at least four satellites can be observed,\nwhich provide continuous three-dimensional position, three-dimensional\nvelocity, and precision time information for all types of users, implementing\nglobal, all-weather continuous navigation and positioning. Users receive GPS\nsatellites broadcast signals and obtain positioning observation through GPS\nreceivers.\n\nHere we describe the working principle of the pseudo range measuring method\nin absolute positioning field. Starting the GPS receiver at any time, users can\ncontact at least four GPS satellites at the same time. We can calculate the accu-\nrate orientation of the current GPS receiver and the relationship between the\nreceiver and the reference coordinate system through the accurate measurement\nof the actual distance between the receiver and the four satellites.\n\nBecause the GPS receiver does not carry atomic clocks, the measured distances\nbetween the receiver and GPS satellites introduce errors originating from the\nclock error, and the distance is called the pseudo range. As shown in Fig. 7.24,\nthe pseudo PRi range between receiver P and the i-th satellite Si can be deter-\nmined by the following formula:\n\nPRi 5Ri 1CU?tAi 1CU\u00f0?tu 2?tsi\u00de \u00f07:78\u00de\nAmong them: i5 1, 2, 3, 4;\n\nRi\u2014the real distance between the i-th satellite to the receiver P;\nC\u2014the speed of light;\n?tAi\u2014the i-th satellite\u2019s transmission delay and other errors;\n?tu\u2014the receiver clock\u2019s errors relative to GPS system time;\n?tsi\u2014the i-th satellite\u2019s errors relative to GPS system time.\n\n278 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nAssuming the position of the satellite Si and the receiver P under the geocen-\ntric rectangular coordinate system is (XSi, YSi, ZSi) and (X, Y, Z), respectively,\nthen\n\nRi 5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\u00f0XSi2X\u00de2 1 \u00f0YSi2Y\u00de2 1 \u00f0ZSi2Z\u00de2\n\nq\n\u00f07:79\u00de\n\nApply Eq. (7.79) into Eq. (7.78), then\n\nPRi 5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\u00f0XSi2X\u00de2 1 \u00f0YSi2Y\u00de2 1 \u00f0ZSi2Z\u00de2\n\nq\n1CU?tAi 1CU\u00f0?tu 2?tsi\u00de \u00f07:80\u00de\n\nIn above formula, the satellite position (XSi, YSi, ZSi) and the satellite clock\ndifference ?tsi are obtained through demodulating satellite cable and calcula-\ntion. Radio wave propagation delay error ?tAi is corrected with a double-\nfrequency measurement method, or can be estimated according to the wave\npropagation model by using the correction parameter provided by the satel-\nlite cable. The pseudo range PRi is measured by the receiver. Linearizing\nEq. (7.79) and using the iteration method to solve the linear equations, we\ncan get the receiver\u2019s position (X, Y, Z).\n\n7.4.3.4 The Composite Mode of MIMU and GPS\nThe combination of GPS receiver and MIMU usually has two forms. One is\ncalled location speed combination; the other is called the pseudo range and\npseudo range rate combination.\n\nWorking principle of the location speed combination mode is shown in\nFig. 7.25. In this mode, MIMU is reset using GPS information. Comparing\nthe position and velocity information output by GPS with those calculated\nby MIMU and regard the difference as the measurement variable, the optimal\n\nFIGURE 7.24\nPrinciple diagram of the GPS pseudo range measurement [22].\n\n7.4 MIMU Integrated Navigation Technology 279\n\n\n\nestimation of the inertia system error obtained by filtering processing is used\nto correct the system, alleviating the disadvantage that the inertia system\nmeasurement error accumulates over time. According to the structure, loca-\ntion/speed integration model is divided into two modes, that is, with feed-\nback and without feedback. Due to the independence of the GPS receiver,\nthe combination system does not improve the GPS receiver\u2019s antijamming\nand dynamic characteristics.\n\nIn location/speed integration model, MIMU and GPS keep their indepen-\ndence. Meanwhile, he system structure is simple, where GPS receiver and the\nMIMU have strong independence. However, in this mode, measuring accu-\nracy is lower than the pseudo range/pseudo range mode, also GPS antijam-\nming performance is not been improved.\n\nWorking principle of the pseudo range/pseudo range rate integration model\nis shown in Fig. 7.26. In this mode, the position and speed of the MIMU out-\nput are used to estimate GPS\u2019s pseudo range and pseudo range rate, then it is\ncompared with the pseudo range and pseudo range rate of the GPS\u2019s output,\n\nPseudo range, \npseudo range rate\n\nEphemeris,\nstar clock\n\nIntegrated \noutput \n\nFilter\nGPS\n\nMIMU Navigation \nsolution\n\nAngular velocity\n\nAcceleration\nMIMU\n\n\u2013\n\nPseudo range and \npseudo range rate \n\nestimation\n\nFIGURE 7.26\nPseudo range/pseudo range rate integration model.\n\nMIMU Navigation \nsolution\n\nGPS\n\nAngular velocity \n\nKalman filter\n\nAcceleration\n\nMIMU location \nand speed\n\nLocation and speed\noptimum solution\n\nMIMU\n\nGPS location \nand speed\n\nFeedback \ncorrection\n\nOutput \ncorrection\n\nMIMU  error \nestimation\n\nFIGURE 7.25\nLocation/speed integration model.\n\n280 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nand the difference is taken as the input of the synthesis filter. Through the\noptimal estimation of the filter, MIMU and GPS can be corrected respectively\nusing the output of the filter.\n\nIn pseudo range/pseudo range rate integration model, the integration sys-\ntem\u2019s measurement accuracy is high, also it can monitor the information\nintegrity of the GPS receiver. However, the structure of the integrated naviga-\ntion system is more complex.\n\n7.4.4 Integration of MIMU, GPS, and Magnetometer\nOn the basis of the above research on the MIMU/magnetometer integration\nattitude determination and MIMU/GPS integrated positioning, we can also\ndesign the all integration of the navigation system MIMU/GPS/magnetome-\nter. The system can effectively estimate the attitude, speed, position, gyro drift\nrate, and accelerometer zero offset and other error parameters, providing\nhigh-precision navigation parameters through compensation correction\n(Fig. 7.27).\n\n7.4.5 Simulation of Integrated Navigation Based on MIMU\nWe take the MIMU/GPS integration navigation system as an example to\nunderstand the effect of the integration navigation (due to the limitations of\nspace, the specific process is abbreviated).\n\n7.4.5.1 Centralized MIMU/GPS Integration\nSince the structure of pseudo range/pseudo range rate integration system is\ncomplex and the system is highly influenced by the hardware conditions, we\nadopt the conventional location speed feedback integration model to build\nthe integration system. We regard the difference of position and velocity\n\nMIMU Navigation \nsolution\n\nGPS\n\nAngular velocity\n\nKalman \nfilter\n\nAcceleration\n\nMIMU location \nand speed\n\nLocation, speed \nand attitude \n\noptimum solution\n\nMIMU\n\nGPS location \nand speed\n\nFeedback \ncorrection\n\nOutput \ncorrection\nMIMU error \nestimation\n\nMagnetometer\nMagetometer \n\nattitude\n\nFIGURE 7.27\nSchematic diagram of an MIMU/GPS/magnetometer integration mechanism.\n\n7.4 MIMU Integrated Navigation Technology 281\n\n\n\ninformation output by GPS and those calculated by MIMU as the input sig-\nnal of the composite filter, and adjust the system output using the optimum\nestimate of MIMU navigation error obtained by the filter. Figs. 7.28 and 7.29\nare the velocity error and position error curve of the MIMU/GPS integration,\nrespectively. The location error of the combined system is less than\n\nFIGURE 7.28\nPosition error curve.\n\nFIGURE 7.29\nThe velocity error curve.\n\n282 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n10 m \u00f01?\u00de and the velocity error is less than 0:3 m=s \u00f01?\u00de, which are com-\nparable to GPS accuracy.\n\nFig. 7.30 shows the MIMU/GPS integration GPS position error curve without\ndata updating as GPS lock loss occurred during 90?100 seconds. At\n100 seconds, the GPS data returned to normal. At this time the eastward\nposition error of the integrated system was superior to 14 m, but for individ-\nual GPS navigation, position error produced by lock loss was 110 m.\nObviously, the integrated system improves the reliability of the system. With\nthe continuous renewal of valid GPS data, the system position error gradu-\nally returned to normal, further illustrating that GPS updating data can effec-\ntively reduce the MIMU positioning error accumulated over time.\n\nIn the experiments, it is also found that when the GPS velocity measurement\nsignal jump occurred for a short time (measurement errors surged to 5 m/s),\nthe severe changes led to filter divergence. In practical conditions, GPS recei-\nvers are prone to generate speed jumps. This unpredictable sudden situation\noften makes the composite filter unable to adapt to the change in time, lead-\ning to divergence.\n\nIn order to overcome this defect, the MIMU/GPS federated filtering structure\nis designed using the advantages of federal filtering with strong fault detec-\ntion capability.\n\nFIGURE 7.30\nEastward position error curve.\n\n7.4 MIMU Integrated Navigation Technology 283\n\n\n\n7.4.5.2 Federated MIMU/GPS Integrated System\nThe new composite structure is shown in Fig. 7.31. Two parallel processing\nsubfilters are adopted. The two subfilters take the position error and velocity\nerror value of the GPS and MIMU as measuring information to process.\nBecause of the federated filtering structure with no feedback, the main filter\ndirectly integrates the output results of the two subfilters, achieving the opti-\nmal estimation of the system.\n\nFigs. 7.32 and 7.33 show the location and velocity error curve obtained by\nthe positioning subfilter alone.\n\nFIGURE 7.31\nFederated MIMU/GPS integrated system.\n\nFIGURE 7.32\nPosition error curve.\n\n284 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nFigs. 7.34 and 7.35 show the location and velocity error curve obtained by\nthe velocity subfilter alone.\n\nWe can see that when the position subfilter worked alone, the location posi-\ntioning error (1?) was better than 10 m. As the location integration system\nadopted location information to update the measurement, so it only has the\nindirect observation ability when dealing with the velocity error and the\nspeed estimation error is large. When the velocity subfilter worked alone,\nspeed estimation had high precision, which was better than 0.3 m/s, but was\nalmost unable to estimate the position.\n\nFigs. 7.36 and 7.37 show the location and velocity error curve obtained by\nthe federated filter.\n\nThe position/speed integration system has the advantages of the former sub-\nfilters. Compared with the previous centralized filtering, the overall filtering\naccuracy is equivalent to that of the centralized filter due to the change of\nupdating time despite of the federated filtering structure without feedback.\n\nThe simulation analysis shows that the positioning error of the traditional\ncentralized MIMU/GPS integrated is less than 10 m (1?) and velocity error is\nless than 0.3 m/s \u00f01?\u00de, which is equivalent to GPS precision. Moreover, posi-\ntioning error analysis of the integration system during the short period when\nGPS lock-lose occurred illustrated that the integration federated system can\n\nFIGURE 7.33\nVelocity error curve.\n\n7.4 MIMU Integrated Navigation Technology 285\n\n\n\nFIGURE 7.35\nThe velocity error curve.\n\nFIGURE 7.34\nThe location error curve.\n\n286 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nFIGURE 7.36\nThe location error curve.\n\nFIGURE 7.37\nThe velocity error curve.\n\n7.4 MIMU Integrated Navigation Technology 287\n\n\n\neffectively improve system reliability. In order to solve the problem that\nvelocity data jumping from the GPS receiver leads to filtering divergence, the\nfederated filter combination of position and velocity subfilters is designed\naccording to the theory of federated filtering. The results show that the over-\nall filtering accuracy of the federated filtering system is equivalent to that of\nthe centralized filter system, and the federated filtering system has a certain\nability of fault detection.\n\nThe integrated navigation technology has been used in the development of\nnanosatellites and played important roles in ensuring the stability and reli-\nability of satellite attitude determination and control.\n\n7.5 MIMU MODULE FLIGHT TEST\n\n7.5.1 Test Objective\nMIMU integrates multiple miniature inertial sensors to obtain comprehensive\ninertial parameters of the moving object, including the attitude, position,\nand speed information. MIMU is highly independent and less susceptible to\noutside interference with fast data updates and strong stability. MIMU mod-\nule satellite-borne experiments aim to test and analyze embedded micro-\naccelerometers and micro-gyroscopes, and to establish the micro inertial\nmeasurement model, providing experiences for application of micro-\naccelerometers and micro-gyroscopes in space technology as well as for com-\nprehensive integration of MIMU. During the MIMU flight test, we measured\nthe micro-satellite attitude and orbit maneuver trajectory and then assembled\nthe MIMU combining with the magnetometer, GPS and other devices, which\npromoted the study of microsatellite autonomous navigation.\n\n7.5.2 MIMU Combination and Installation\nIn order to fully reduce the size, MIMU module was installed in the payload\ncabin that was at the bottom of the satellite, surrounded by microjet parts\naround MIMU. Figs. 7.38 and 7.39 show the virtual and practical assembly\ndrawing of the MIMU in the module box, respectively.\n\n7.5.3 Engineering Implementation\nAs MIMU is the carrying load of the \u201cNS-1\u201d nanosatellite, the strict and even\nharsh aerospace device standards raise new requirements for the reliability\nand stability of MIMU. According to \u201cAerospace vehicle standards\u201d and\n\u201cAerospace Tsinghua NS-1 nanosatellite standards,\u201d the MIMU module has\nbeen tested in a series of system tests and environmental experiments.\n\n288 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\n7.5.3.1 Signal Processing Circuit Calibration\nSince the interference in the circuit section will affect the measurement char-\nacteristics, there is a great need to calibrate the circuit in advance. Introduce\nknown standard voltage and current signals as output signals of the gyro-\nscope and the accelerometer respectively to processing circuits, then directly\nmeasure the output end of the circuits using a precision voltmeter. According\nto the relationship between the input and output of the gyroscope and accel-\nerometer signal processing channels, we can carry out the calibration. The\ncalibration results can be used to modify the MIMU measurements, which\ncan minimize the impact of the circuit on the measurement results of the\nsystem.\n\nFIGURE 7.39\nMIMU assembly in the entire NanoSat payload cabin.\n\nFIGURE 7.38\nVirtual assembly.\n\n7.5 MIMU Module Flight Test 289\n\n\n\n7.5.3.2 Overall Calibration of MIMU System\nAccording to the section \u201cResearch on MIMU entire calibration technology,\u201d\nwe established the mathematical model of the combined sensor and\nconducted the whole calibration. As shown in Fig. 7.40, we carried out speed\nand position tests through the three-axes turntable to calibrate the MIMU. We\nobtained 33 error coefficients in total, including 3 gyro scale factors, 6 gyro\ninstallation error coefficients, 3 gyro constant drift coefficients, 9 gyro orthogo-\nnal imbalance drift coefficients, 6 accelerometer installation error coefficients,\n3 accelerometer zero deviation coefficients, and 3 accelerometer scale factors.\n\n7.5.3.3 Calibration Verification Measurement\nAccording to above calibration results, we carried out the validation experi-\nment. The performance test of the MIMU was carried out using a single-axis\nturntable (accuracy: 0.0001?/s). The calibration results were verified by com-\nparing the MIMU measurement signals before and after calibration under the\nstandard input rotational speed. Experimental results showed that after calibra-\ntion, the measurement performance and 3D positioning accuracy of the\nMIMU were greatly improved compared with the results before calibration.\nThere was an order of magnitude improvement in the measurement perfor-\nmance, positioning accuracy was kept in 15 cm during the 3.5-m travel in\n5 seconds. However, the experimental results also showed that the positioning\nerror of the MIMU was still increasing rapidly with the accumulation of time\ndespite the previous calibration. Without the support of other measurement\n\nFIGURE 7.40\nThree-axes turntable.\n\n290 CHAPTER 7: Miniature Inertial Measurement Unit\n\n\n\nsystems with long-term reliable measurement accuracy, MIMU can only be\nemployed to position targets in a short time.\n\n7.5.3.4 Space Environment Test\nAccording to the requirements of the space environment and \u201crequirements\nof the satellite environment test,\u201d MIMU has been tested in a series of envi-\nronmental experiments embedded in the nanosat, including the thermal\ncycle, thermal vacuum, vibration, and so on (Figs. 7.41?7.43).\nCirculating temperature range was 225?C to 155?C. Heat insulation in the\nhigh and low extreme temperatures lasted for 2 hours respectively in each\ncycle, and there were four cycles, namely a total of 20 hours. The vibration\ntest was divided into three parts: sinusoidal vibration, random vibration, and\nhalf sine shock. Thermal vacuum test conditions were: vacuum degree was\n1:53 1023 Pa; there were four cycles with the temperature range of 265?C\nto 155?C and heat insulation in the high and low extreme temperature\nlasted for 6 hours respectively in each cycle. The successful completion of\nenvironmental experiments proves the reliability of the MIMU system, which\nmet the requirements of space flight.\n\nThe experimental satellite was successfully launched from the Xichang satel-\nlite launch site in April 2004, and tests of the main subsystems including the\nMIMU were completed. Telemetry data showed that the MIMU system was\nworking properly and the space experiment was a complete success.\n\nFIGURE 7.41\nThermal cycle test of the entire satellite.\n\n7.5 MIMU Module Flight Test 291\n\n\n\nReferences\n[1] G.A. Pavlath, Fiber-optic gyroscope, in: Proceedings of the IEEE LEOS Annual Meeting, 1994,\n\npp. 237?238.\n[2] M.S. Perlmutter, A tactical fiber optic gyro with all-digital signal proceeding, in: Proceedings\n\nof SPIE, 1994, pp. 192?205.\n[3] G. Mao, Q. Gu, et al., Review of micro inertial measurement unit development, Navigation\n\n35 (2) (1999) 8?14.\n[4] M. Kraft, Micro-machined inertial sensors: the state-of-the-art and a look into the future,\n\nMeas. Control 33 (6) (2000) 164?168.\n\nFIGURE 7.43\nThermal vacuum test.\n\nFIGURE 7.42\nVibration test.\n\n292 CHAPTER 7: Miniature Inertial Measurement Unit\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref2\n\n\n[5] A.M. Madni, D. Bapna, et al., Solid-state six degree of freedom motion sensor for field\nrobotic applications, in: IEEE International Conference on Intelligent Robots and Systems,\nVictoria, BC, Canada, October 1998, pp. 1389?1398.\n\n[6] A.I. Tkachenko, Satellite correction equations for a strapdown inertial system, J. Autom. Inf.\nSci. 29 (1) (1997) 91?99.\n\n[7] R.E. Kalman, A new approach to linear filtering and prediction problem, J. Basic Eng.\n(ASME) 82D (1960) 35?46.\n\n[8] R.E. Kalman, C.S. Bucy, New results in linear filtering and prediction theory, J. Basic Eng.\n(ASME) 83D (1961) 95?108.\n\n[9] Y. Sunahara, An approximate method of state estimation for nonlinear dynamical systems,\nin: Proceedings of Joint Automatic Control Conference, University of Colorado, 1969,\npp. 161?172.\n\n[10] J.L. Fisher, A factorized extended Kalman filter, in: Proceedings of SPIE, 1985,\npp. 119?129.\n\n[11] T.L. Song, J.L. Speyer, The modified gain extended Kalman filter and parameter identifica-\ntion in linear system, Automation 22 (1) (1986) 59?75.\n\n[12] T. Ruokonen, Failure detection performance analysis of the optimal nonlinear filter for\nidentification problem, in: Proceedings of the American Control Conference, 1989,\npp. 876?878.\n\n[13] M.C. Algrain, J. Saniie, Interlaced Kalman filtering of 3-D angular motion based on Euler\u2019s\nnonlinear equations, IEEE Trans. AES 30 (1) (1994) 175?185.\n\n[14] A. Ruth, Satellite angular rate estimation from vector measurements, J. Guid. Control Dyn.\n21 (3) (1998) 450?457.\n\n[15] S. Julier, J.K. Uhlmann, Reduced sigma point filtering for the propagation of means and\ncovariances through nonlinear transformations, in: Proceedings of the American Control\nConference, May 2002, pp. 887?892.\n\n[16] E. Wan, R. van der Merwe, The unscented Kalman filter for nonlinear estimation,\nin: Proceedings of IEEE Symposium 2000 (AS-SPCC), Alberta, Canada, October 2000,\npp. 153?158.\n\n[17] T.H. Kerr, Decentralized filtering and redundancy management for multi-sensor navigation,\nIEEE Trans. Aerosp. Electron. Syst. AES-23 (1) (1987) 83?119.\n\n[18] N.A. Carlson, Federated filter for fault tolerant integrated navigation systems, in:\nProceedings of IEEE PLANS\u201988, 1988, pp. 110?119.\n\n[19] D.H. Titterton, J.L. Weston, Strapdown Inertial Navigation Technology, Peter Peregrinus\nLtd, London, 1997, pp. 19?318.\n\n[20] Z. Sun, Strapdown Inertial Measurement System, Ministry of Aeronautics and Astronautics\nBeijing Institute of Control Instruments, Beijing, 1988, pp. 451?536.\n\n[21] E.J. Lefferts, F.L. Markley, Kalman filtering for spacecraft attitude estimation, J. Guid.\nControl Dyn. l5 (3) (1982) 417?427.\n\n[22] Z. Qiu, Design of Nanosatellite GPS Receiver and Its Application, Department of Precision\nInstrument Tsinghua University, Bejing, 2003, pp. 16?20.\n\nReferences 293\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00007-2/sbref13\n\n\nCHAPTER 8\n\nMicropropulsion\n\n8.1 SUMMARY\n\n8.1.1 The Necessity for the Study of Micropropulsion\nBuilding a constellation or formation of flying microsatellites should be\ncheaper, more robust, and more versatile than building a single huge satel-\nlite. Typical space missions well adapted for microsatellite applications\nare space science, asteroid missions, or multispacecraft observer clusters.\nPropulsion technologies become a key point in the miniaturization of satel-\nlites because micro- or nanosatellites would need very small and very accu-\nrate forces to realize their stabilization, pointing, and station keeping. The\nlevel of thrust and the impulse precision required for microsatellite maneuver\ncan not be reached with conventional propulsion systems. As a result, the\nmicropropulsion field has been a worldwide active field of research.\n\nFirst of all, the volume and weight of subsystems need to be reduced as the\nvolume and weight of satellites decrease. As a propulsion system equipped\non a small satellite, it should first satisfy the requirements of the volume and\nweight of the whole satellite. And according to experience, the volume and\nweight of traditional propulsion systems are large, the weight and size is\noften the largest share of the satellite subsystems; therefore, reducing\nthe weight and size of the system becomes the bottleneck in making more\ncompact satellites. A new micropropulsion system to meet the demand of\nsatellites must be developed to build microsatellites with orbit maneuver\nfunction.\n\nSecondly, development and application of the distributed space satellite\nnetwork represented by microsatellite constellation and satellite formation\nflying technology, require the development of a micropropulsion system.\nSmall satellite formation, microsatellite constellation can accomplish a great\ndeal of work that complex and expensive large satellites can not complete,\nsuch as the composition of the carrier distributed satellite-borne radar,\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00008-4\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n295\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00008-4\n\n\nsatellite three-dimensional imaging, and high-resolution synthetic aperture\nremote sensing. To accomplish these tasks, it is an essential requirement to\nhave high-precision maintenance of the relative position and attitude control\nfor microsatellites. Microsatellites during formation flying should regularly\nhold their position to maintain a desired formation, the goal is to maintain\nthe relative position between satellites, rather than keeping the absolute\nposition of each satellite, the impulse needed is very small, the difference in\naerodynamic drag from the strongest and weakest between the satellites in a\nconstellation is the only thing need to be overcome. During each mission,\nit is estimated that every 10?100 seconds, 1 ?Ns to 1 mNs impulse need to\nbe provided to overcome the difference in aerodynamic drag mentioned\nabove. Existing conventional propulsion systems find it difficult to provide\nsuch small and precise impulses [1,2].\n\nIn addition, micropropulsion systems can be used as attitude control actua-\ntors for microsatellites, especially nano/pico satellites which are lighter than\n20 kg. If they are used reasonably, they will decrease the number of compo-\nnents of the control system to improve integration of nano/pico satellites.\nNano/pico satellites, because of their small size and weight and small\nmoment of inertia, suffer from low torque disturbance in space. Depending\non the accuracy and stability requirements for its attitude control, the thrust\nrequired to overcome interference torque is generally at the mN level.\n\nThe current thrust propulsion systems tend to be large, hardly able to meet\nthese requirements. Therefore, we need to study high-precision small-thrust\npropulsion systems.\n\nAt the same time, the development of micro/nanotechnology, microelectron-\nics, and MEMS technology, provides technical support for research into the\nmicropropulsion system. With the development of these technologies, more\nand more microsystem applications are used in the aerospace equipment,\ngreatly improving the integration and functional density of satellites. The\napplication of these new systems also led to the further development of\nmicro/nanotechnology.\n\nAll in all, the development of micro/nanotechnology and the requirement\nof microsatellite technology, provide technical support and an application\nmarket for research and development of micropropulsion systems.\n\n8.1.2 Overview of Micropropulsion\nCompared with conventional propulsion systems, micropropulsion systems\nhave the following two characteristics in general.\n\n296 CHAPTER 8: Micropropulsion\n\n\n\n1. They are capable of generating a relatively small thrust\n(100 mN magnitude or less) and impulse (?Ns?mNs).\n\n2. Volume and weight are relatively small. Generally, weight is in\nkilograms or lower orders of magnitude.\n\nA propulsion system only with characteristic (1) above is usually called a\nmicropropulsion system.\n\nThe propulsion system is actually a mechanical system which turns different\nforms of energy into kinetic energy. According to the kind of energy utilized,\nthey are roughly divided into four categories [3]:\n\n1. Gas thruster system: using the potential energy of high-pressure gas\nstored in a high-pressure vessel (nitrogen, helium, hydrogen, etc.),\naccelerating the propellant gas, so that it is ejected at high speed from\nthe nozzle, to produce thrust.\n\n2. Chemical propulsion system: catalytic reaction and combustion\nutilizing the propellant that release inherent chemical energy, are used\nto accelerate the reaction product (usually gas). The reaction product is\nsprayed through the nozzle at high speed, to produce thrust.\n\n3. Electric propulsion system: using the means of electric heating,\nelectromagnetic, or electrostatic to accelerate the propellant, and\nemerge with a high-velocity jet-flow.\n\n4. Nuclear propulsion system: energy produced by nuclear fission (or\nfusion) making the propellant working fluid (typically an inert reaction\nsubstance such as hydrogen or helium) heated to a high temperature,\nthen the reaction is ejected from the high-speed spray nozzle,\nproducing thrust.\n\nTraditional gas thruster systems, chemical propulsion systems, and electric\npropulsion systems have been studied extensively around the world and\nthere are many practical flying experiences. Nuclear propulsion systems are\ncurrently being studied in a new type of propulsion system, such as the\nPennsylvania State University is studying antiproton catalyzed microfission/\nfusion propulsion. In addition, the United States, Europe, and Japan and\nmany other countries have also proposed new concepts like laser propulsion\nand solar propulsion [3,4].\n\nThe micropropulsion system is a special propulsion system. At present\ndomestic and international research mainly concentrates on miniaturization\nof the traditional gas thruster propulsion, chemical propulsion, and electric\npropulsion systems, and miniaturization based on advanced MEMS technol-\nogy. Descriptions of each micropropulsion system and the principles and\nresearch into them are introduced here.\n\n8.1 Summary 297\n\n\n\n8.1.2.1 Gas Thruster\nThe gas thruster is currently the widely used and the most mature one for micro/\nnano satellite. It mainly consists of a propellant tank, solenoid valve, pipeline,\nand a nozzle. There are many propellants available for gas thruster, such as liq-\nuid nitrogen, liquid ammonia, freon, helium, or butane, which produce thrust\nby the pressure of the medium itself in the propellant tank. It works simply, to\nproduce thrust of 10?100 mN magnitude, and it is successfully used in many\nsmall satellites. Fig. 8.1 shows the University of Surrey SNAP-1 gas thrusters\nwhich were used successfully on a satellite launched in 2000; its specific perfor-\nmance indicators are described in Table 8.1 [5,6].\n\n8.1.2.2 Pulsed Plasma Thruster (PPT)\nThe PPT is one of the earliest researched electric thrusters. In the 1950s\npulsed plasma thruster technology began to be developed and applied. In\n1964 in the Soviet Zond-2 satellite, it was used in flight tests for the first\ntime [7]. Because it relies on an electromagnetic field to accelerate the plasma\nto produce thrust, it is an electromagnetic electric thruster. Fig. 8.2 illustrates\nthe PPT in a schematic diagram.\n\nThe PPT system comprises: a solid propellant rod, propellant feed supply\nspring, propellant thrust ring, spark generator, and the yin and yang electro-\ndes. Customary propellants contain polypropylene, Delrin, Teflon, and the\nlike. Experimental results show that the best of these is Teflon, which is\n\nFIGURE 8.1\nSnap-1 gas-thruster [5].\n\nTable 8.1 Typical Gas Thruster System Performance [6]\n\nPropulsion System Type Snap-1 Gas-Thruster (Butane)\n\nThrust form Continuous\nThrust (mN) 45 at 0?C, 120 at 40?C\nSpecific impulse (s) .60\nMass (kg) ,0.5\n\n298 CHAPTER 8: Micropropulsion\n\n\n\nsuitable for long-life use of PPT. The work principle of PPT is that a circuit\ncharges the capacitor to a sufficiently high voltage (B2 kV), closes the thyris-\ntor switch, high voltage discharges between the cathode and the anode rod\nsleeve, high temperature heats the exposed front end portion of the propel-\nlant to make it decompose, the decomposed gas is ionized, the joint action\nof its own magnetic pressure and the gas dynamic pressure in the thin layer\nof ionized gas, and gas is accelerated to produce thrust.\n\nFrom the first flight test, there had been no attention to PPT because the\nthrust generated is small and it has no application background. However,\nfrom the beginning of the 1990s, due to the development of small satellites\nand satellite formation flying technology, PPT has drawn attention from\nresearchers for its simple design, low cost, robustness, and capability of pro-\nducing low-level thrust, suitable for formation flying satellites for microappli-\ncations. AFRL is developing a micro-PPT (?PPT, Fig. 8.3) whose mass is less\nthan 100 g. It is desired to be applied in micro/nanosatellite formation flying\nand a special attitude control system [8]. Table 8.2 gives the performance\nparameters of two typical PPT systems.\n\n8.1.2.3 Field Emission Electric Propulsion (FEEP)\nFEEP is an electrostatic electric propulsion, which relys on a high-voltage\nelectrostatic field accelerating charged ions to produce thrust. At present, no\ninformation is available about FEEP for flight tests. Typical FEEP principles\nare shown in Fig. 8.4.\n\nFEEP mainly includes a transmitter (containing a propellant reservoir\nchamber), an accelerating electrode, and a neutralizer. The propellant used\nincludes low melting point metals, such as cesium, indium, etc. Solid propel-\nlant is stored in the transmitter storage chamber until needed, when the\n\nCap Electrical\nconverter 28 V\n\nSwitch\n\nElectrode\n\nPlasma\ncurrent\n\nElectrode\nAnnular propellant\n\nPropellant rod\n\nFIGURE 8.2\nPulsed plasma thruster principle [8].\n\n8.1 Summary 299\n\n\n\nreservoir chamber is heated to liquefy the propellant. Due to capillary action,\nthe liquid metal flows to the emitter outlet slit. High voltage is applied\n(8?15 kV) between the emitter electrode exports and the accelerating electric\nfield, causing metal ions to overcome the surface tension and accelerate and\n\nFIGURE 8.3\nUPPT prototype developed by AFRL [8].\n\nTable 8.2 Typical PPT Propulsion System Performance\n\nPropulsion System Type DawgStar PPT [9] \u00b5PPT at AFRL [8]\n\nThrust form Pulse Pulse\nThrust (?N) ,112 B10\nSpecific impulse (s) 500\nMinimum impulse bit (N s) 5.6e-5\nThrust to power ratio (?N/W) 8.3\nMass (kg) 3.95 ,0.1\n\nEmitter Slit Accelerator\n\nPropellant\nreservoir\n\nVe Va\n\nNeutralizer\n\nVn\n\ne\u2013\n\nCs+\n\nFIGURE 8.4\nFEEP ion thruster principles [10].\n\n300 CHAPTER 8: Micropropulsion\n\n\n\nthus to produce thrust. An electric field is formed by applying a positive volt-\nage to the transmitter and a negative voltage to the accelerator, and electron\nbeams emit discharge metal ions, reducing the pollution plume.\n\nCesium has a low melting point (B29?C), low escape energy (2.14 eV), and\na high atomic mass (B2.2073 10?25 kg), and is an ideal working fluid for\npropellant FEEP. FEEP thrust is proportional to the magnitude of the operat-\ning voltage, it is a function of the length of the accelerating electrode slit. The\nslit width is generally 1 ?m, with a length of 1?15 mm is generally capable\nof producing thrust ranging from 0.1 to 100 ?N [11].\n\nAs for small satellite applications, the biggest problem with FEEP is the\nexcessively high operating voltage. Table 8.3 gives two types of typical FEEP\nsystem performance parameters.\n\n8.1.2.4 Colloid Thruster\nThe colloid thruster is another electric propulsion system that was studied\nearlier, and is categorized as electrostatic. In the 1960s and 1970s, a lot of\nresearch was undertaken in the international community into this system.\nHowever, because of its higher operating voltage and the huge volume of the\nsystem needed to obtain a large advance, its study was not extensive. In con-\ntrast to PPT, until now the international community had not widely heard of\nthe colloid thruster flight test. Recently, with the development of technology,\nthe study of colloid thrusters has begun to heat up again. Fig. 8.5 is a sche-\nmatic for principles of colloid thrusters.\n\nThe colloid thruster comprises four parts: charged particle emitters, extraction\nelectrodes, accelerating network, and neutralizer. It works similar to FEEP\nand also uses high voltage to accelerate charged particles to produce thrust. It\nuses more conductive liquid as working fluid, such as glycerol or sodium\niodide, etc. In the strong electric field formed under 5?10 kV voltage, propel-\nlant is extracted to form the mist stream of charged particles, and accelerated\nby network acceleration. In order to prevent ionic contamination caused by\n\nTable 8.3 Typical FEEP Propulsion System Performance [9]\n\nPropulsion System Type Slit Emitter FEEP (Cesium) FEEP (Indium)\n\nThrust form Continuous Continuous\nThrust (?N) 0.1?1200 1?100\nSpecific impulse (s) 7000?11,000 10,000\nMinimum impulse bit (N s) 1e-9 ,1e-8\nThrust to power ratio (?N/W) 16?20 15\nMass (kg) 2.2 2.5\n\n8.1 Summary 301\n\n\n\nthe ejected particles on the satellites, a neutralizer is needed to discharge.\nExtraction electrodes and the acceleration electrodes may be either positive\npotential or negative potential, the electrodes may generate different polarity\nof particle stream.\n\nTypical colloid thruster performance parameters are listed in Table 8.4.\n\n8.1.2.5 Hall Thruster\nHall thrusters belong to electrostatic electric propulsion. They have been\nwidely researched in Russia, Europe, Japan, and the United States. Their tech-\nnologies and applications are mature among electric propulsions. In 1974 it\nwas first used for orbit control in the Meteor-8 satellite, before going on to\nbe used on many satellites. Its general thrust is in mN welterweight, which\nmeans Hall propulsion technology needs further development. Fig. 8.6 illus-\ntrates a Hall thruster.\n\nElectrospray\nneedle\n\nJet breakup\n(droplet formation)\n\n(Satellite\ngage)\n\nOut\nScreen\n\nExtractor\n\nFIGURE 8.5\nColloid thruster principles [9].\n\nTable 8.4 Typical Colloid Thruster System Performance [9]\n\nPropulsion System Type Colloidal Advance\n\nThrust form Continous\nThrust (?N) 0.1?1200\nSpecific impulse (s) 7000?11,000\nMinimum impulse bit (N s) 1e-9\nThrust to power ratio (?N/W) 16?20\nMass (kg) 2.2\n\n302 CHAPTER 8: Micropropulsion\n\n\n\nThe basic structure of a Hall thruster is composed of an annular solenoid,\ninjector anode, a plasma chamber, and a cathode. Electrons emitted from the\ncathode initially move to the anode in the electric field strength. They are\ncaptured during movement by a magnetic field in the plasma chamber.\nPropellant gas (usually xenon) is injected from the anode to plasma cham-\nber, where it is ionized due to the effect of the electrons. Once the anode gas\nis ionized, it will be accelerated and fly out in the electric field, producing\nthrust. Typical Hall thruster performance parameters are listed in Table 8.5.\n\n8.1.2.6 MEMS Thruster\nThe propulsion systems described above are mainly miniaturized large pro-\npulsion systems instead of microminiaturization. With the development of\nMEMS technology, there is now a microminiaturized propulsion system\nbased on MEMS technology, known as the MEMS thruster in the 1990s.\nThere are mainly two categories of MEMS thruster at home and abroad:\nMEMS electric propulsion and MEMS chemical propulsion.\n\nPropellant gas\nflows in\n\nCathode\n\nGage magnetic\nfield\n\nAnnular\nsolenoid\n\nPlasma\nchamber\n\nInjector\nanode\n\nFIGURE 8.6\nHall thruster principles [9].\n\nTable 8.5 Typical Hall Thruster System Performance [9]\n\nPropulsion System Type Hall Advance (Xenon)\n\nThrust form Continuous\nThrust (?N) .4e-3\nSpecific impulse (s) .1200\nMinimum impulse bit (N s) 1e-3\nThrust to power ratio (?N/W) 60\nMass (kg) 0.9\n\n8.1 Summary 303\n\n\n\n8.1.2.6.1 Electrothermal MEMS Electrical Propulsion\nThe structure of electrothermal electric propulsion is simple, easy to be\nimplemented by MEMS technology, and is one of the hotspots of MEMS\nelectrical propulsion. It works in two ways, one is using electrical resistance\nheaters to heat gas in the thrust chamber, and then discharging the gas\nthrough a nozzle to produce thrust. In order to reduce the leakage rate, the\npusher is generally still using a solenoid valve to control the air flow off,\nwhich makes it difficult to reduce the size of the entire system.\n\nFig. 8.7 shows the structure of an MEMS micro gas electric thruster developed\nby MIT\u2019s Robert L. Bayt. The thruster is a supersonic micropropulsion system.\nA de Laval nozzle that accelerates the fluid from a plenum is designed and\nfabricated by the Deep Reactive Ion Etching(DRIE) of silicon. The thruster's\nperformance is greatly improved by heating the flow in the plenum. This is\nachieved using integrated microheaters, which are fabricated in a novel man-\nner, using silicon both as the structural material and the electrical heater ele-\nment. Experiments show that when the thruster works at 420?C, its specific\nimpulse can reach 83 seconds [12].\n\nAnother type of MEMS electric thruster is a subliming solid micro-thruster or\na vaporizing liquid micro-thruster. Its operating principle is that the propel-\nlant phase transition which is heated by the heating resistor generates gas,\nthen the gas exits through the specially shaped nozzle with high speed, and\nthus producing thrust. Suitable propellants are ammonia salt, water, ammo-\nnia, hydrazine, etc. This greatly reduces the requirement for sealing of the\nvalve, so an MEMS valve is generally used, reducing the quality and size of\nthe system. At the same time, compared with the cold gas thruster, its specific\nimpulse increases, but is still small, and consumes higher power.\n\n6 mm\n\nGas\nInjection\nport - 25 \u00b5m\n\n10\n m\n\nm\n\nElectrode\nfootprint\n\nElectrode\n\nCurrent flow\n\n1500 \u00b5m\n\nFIGURE 8.7\nResistance heating gas microthruster [12].\n\n304 CHAPTER 8: Micropropulsion\n\n\n\nFigs. 8.8 and 8.9 are, respectively, a vaporizing liquid micro-thruster and a\nsubliming solid micro-thruster developed by JPL. A vaporizing liquid micro-\nthruster is composed of a film heater, chamber, and micro-nozzle. Its perfor-\nmance figures include: specific impulse 75?125 seconds, thrust 0.5 mN,\npower ,5 W, efficiency $ 50%, the mass of a few grams. A subliming solid\nmicrothruster consists of the propellant tank, the microvalve, microfilter,\nmicro-nozzle, and other components. Its performance figures include: spe-\ncific impulse 50?75 seconds, thrust 0.5 mN, power ,2 W/mN, the mass of a\nfew grams.\n\nIn 1999, the Micro-Nano Technology Research Center of Tsinghua University\ndeveloped China\u2019s first MEMS-based vaporizing water thruster [14]. It con-\nsists of two silicon wafers as shown in Fig. 8.10. The nozzle and the holes for\nwire bonding are fabricated on the top wafer by bulk silicon etching. The\nvaporizing chamber and the microchannel are etched into bulk silicon on\nthe front side of the bottom wafer. The heating resistor, internal leads, and\n\nNozzle\n\nHeater\ncontact pads\n\nFIGURE 8.8\nLiquid vaporization MEMS electric thruster [13].\n\nMicrovalve Filter\n\nPropellant\ntank\n\nMicrovalve\n\nThruster chip\n\nFIGURE 8.9\nSolid sublimation MEMS electric thruster [13].\n\n8.1 Summary 305\n\n\n\nbonding pads are formed by metal Ti at the bottom of the chamber to sim-\nplify the fabrication process. The propellant inlet and a cavity are etched into\nthe bulk silicon from the back side of the bottom wafer. The cavity formed\nunder the heating resistor is aimed to reduce heat capacitance of the bottom\nsilicon layer, which in turn decreases the heat loss. The vaporizing chamber\nis connected with a propellant tank through a microchannel and an inlet.\nWires are bonded with the pads through the holes in the top wafer, and the\nholes are filled with glue to seal water. At a working voltage of 30.2 V, the\nmaximum thrust can be generated at 2.8 N.\n\n8.1.2.6.2 Electrostatic MEMS Electrical Thruster\nThe electrostatic MEMS electric thruster has two types of working principles:\nfield-effect ion engines and colloid thrusters.\n\nThe working medium of the MEMS-based field effect ion engine is a low-\nmelting liquid metal, such as cesium or indium. Its structural principles are\nshown in Fig. 8.11 [15]; several electrode layers are machined on a silicon\nsubstrate, with different high pressures to form a strong electric field, the liq-\nuid metal is ionized, positively charged metal atoms are ejected out of the\naccelerating electric field to generate thrust, and electrons are discharged by\nthe external power source. It has the advantages of low power, high specific\nimpulse (even up to thousands of seconds), the thrust is small and precise,\nand it is easy to control. However, its working voltage is relatively high. In\naddition, the cesium atoms are bombarded on other structural surfaces and\ndeposited cesium causes pollution.\n\nThe MEMS microcolloid thruster works basically the same as the field effect\nparticle thruster, but the liquid propellant is nonmetallic, accelerating tiny\ncharged droplets, its operating voltage is higher, and the thrust density is\n\nWire Hole for\nwire bonding Vapor Nozzle\n\nTop wa fer\n\nChamber\n\nHeating\nresistor\n\nBottom wafer\n\nCavity for heat isolation\n\nSilicon Ti (Heating resistor seed internal wire)\nInlet\n\nBonding\npad\n\nFIGURE 8.10\nEvaporating water thruster [14].\n\n306 CHAPTER 8: Micropropulsion\n\n\n\nalso increased. However, its specific impulse is smaller than the field effect\nion engine and several times higher than the electrothermal thruster.\nFig. 8.12 shows a microcolloid thruster developed by Stanford University,\nit is used for the satellite orbit maintaining in emerald constellation [18].\nThruster units are divided into three for the MEMS structure, these being\nthe source, the insulating layer, and the extraction electrode. The material\nof the source and extraction electrode is copper, and the insulating layer is\n0.5 cm thick boron nitride. A stainless steel micronozzle extends from the\nsource electrode, the propellant is glycerol or isopropyl alcohol. Positive\nvoltage is applied on the source during working, and a negative voltage is\napplied to the extract pole. Under the influence of an electric field, the\npropellant droplets are accelerated to produce thrust. The thruster can\nimplement small-scale position control and can provide the order of\none-thousandth of a Newton thrust vectoring, a specific impulse of about\n1000 seconds [16,17].\n\nNeedle Extractor\n\nInsulator\n\nSource\n\nPropellant feed\n\nFIGURE 8.12\nAdvanced microcolloid thruster [16,17].\n\nSubstrate\n\nPlenum\nDielectric\n\nElectrode\n\n5 \u00b5m\nIon path\n\n3\n\n2\n\n1\n\nFIGURE 8.11\nFET ion engine working principles [15].\n\n8.1 Summary 307\n\n\n\n8.1.2.6.3 MEMS Chemical Thrusters\nA typical MEMS microchemical thruster is a digital microarray, which uses\nMEMS technology, the SOC technology, which puts the address driving\ncircuit, ignition, working fluid tank, combustion chamber, valves, and\nmicrominiature nozzles integrated into one chip. It uses solid or liquid pro-\npellants, such as double-base solid nitrocellulose. The impulse of such thrus-\nters is higher than that of electrothermal thrusters, but the advance is lower\nthan the electrostatic and electromagnetic thrusters, with the typical specific\nimpulse being 100?300 seconds.\nFig. 8.13 shows a digital micropropulsion system developed by Darpa and\ncooperated with by TRW. It consists of three layers of silicon and glass in a\ndouble-standard 24-pin ceramic electronic package, a total of 15 separate\nthrusters in the middle of the 33 5 arrangement, and a visible bond con-\nnected to the heating resistor on each thrust [20]. Its internal structure is\ndivided into three layers: the top layer of the nozzle; an intermediate layer of\npropellant storage unit which may raise various types of propellant; and the\nbottom for the ignition, namely the heating resistor.\n\nThe US Honeywell Center and Princeton University cooperative research\nMEMS micropropulsion unit trillion cell array is shown in Fig. 8.14. The\nMEMS array consists of 5123 512 independent propulsion unit arrays with\nspacing of 51 ?m3 51 ?m integrated on 1.3 in.3 1.3 in. silicon wafers. Each\nunit has a separate heating wire, which is arranged coaxially in the cavity\nwith fuel injected, and is integrated with an RICMOS circuit, so that each\nunit can be individually addressed and ignited. Two-stage ignition is used to\ndetonate the fuel combustion to produce thrust. One nanogram of thermal\n\nTop die\n\nMiddle die\n\nBottom die\n\nPolysilicon \u201cignitors\u201d with direct\ninterconnects to bond pad (no electronics)\n\nPropellant fills individual holes\n\nDiaphragms on bottom\nexpansion nozzles on top\n\nFIGURE 8.13\nPrototype and unit structure of a digital microthruster [19].\n\n308 CHAPTER 8: Micropropulsion\n\n\n\nexplosion TNR is first heated, the deflagration of which releases a lot of heat.\nWith this heat, a mixture of nitrocellulose in the cavity is ignited, and the\nnitrocellulose is quickly vaporized and ejected, generating thrust [1].\n\nPerformance parameters of three typical MEMS thrusters are shown in\nTable 8.6.\n\n8.1.3 Comparison of Different Micropropulsion Systems\nFrom the development of the above-mentioned micropropulsion system at\nhome and abroad, the various micropropulsion systems are being studied\nand the gradual application of the principles of different micropropulsion\nsystems have their own advantages and disadvantages.\n\nGas thruster systems are currently the most sophisticated propulsion systems\nfor small satellites, and their structure is simple, reliable, and has already been\nsuccessfully used in many launched tiny satellites, such as the Snap-1 satellite\n\nWafer #1\nignitor array\n\nWafer #2\ncavities field\nwith fuel\n\nOptional wafer #3\negress\n\n800 \u00c5 silicon nitride\ndiaphragm\n\n600 \u00c5 silicon nitride\ndiaphragm\n\n400 \u00c5 silicon nitride\ndiaphragm\n\nLead styphnate\nparticels Emitter\n\nresistor\nSignal\nvoltage\n\nSolder seals\n\n>500 \u00b5m\n\nPixel\naddress lineVss\n\nVdd\n\nSilicon Nitride\npixel\n\nSiO2\n \nwall\n\nsurrounds\neach pixel\n\nSignal\nline\n\nRed-hard CMOS pixel\ntransistor circuitry\n\nPixel \naddress\nline\n\nFIGURE 8.14\nMEMS trillion cell array miniature thruster prototype and its unit structure [1].\n\nTable 8.6 Typical MEMS Thruster Systems Performances [9].\n\nPropulsion System\nType\n\nMEMS Chemical\nPropulsion\n\nMEMS Electrostatic\nElectric Propulsion\n\nMEMS Liquid Evaporates\nElectric Propulsion\n\nThrust form Pulse Pulse Pulse\nThrust (?N) 1?100,000 1?100,000 B500\nSpecific impulse (s) 100?300 500?2000 50?75\nMinimum impulse bit (N s) 1e-9 1e-9\nThrust to power ratio\n(?N/W)\n\n1000 .1000 500\n\nMass (kg) 2.4e-3\n\n8.1 Summary 309\n\n\n\ndeveloped by the University of Surrey. However, the gas thruster has a large\nvolume, integration is not high, with a need for bulky massive propellant\ntanks, with low specific impulse, which are disadvantageous factors for small\nsatellites. Further enhanced integration and mitigation quality are needed.\n\nThe PPT system has a simple structure, and is low cost with good stability.\nEspecially, PPT system technology is relatively mature, has been used on\nmany satellites, and has worked reliably. Also, the PPT system has a higher\nspecific impulse, and can provide small and repeatable pulse impulse. These\ncharacteristics are more suitable for microsatellite formation. However, the\nshortcomings are that the mass of PPT systems is commonly large, and the\nplume contamination problems, thrust to power ratio is low. In addition,\nthe physical principles of PPT are complex, and the work process is complex\nwith electromagnetic and electric effects requiring further study. A micro-\npulsed plasma thruster developed by University of Washington, which was\nfunded by a program of university satellites, will be used in the UW\nDawgStar in ION-F Constellation.\n\nFEEP also has many advantages that make it suitable for small satellites for\nrelative position holding and track keeping. It has a high specific impulse,\nsmall thrust, and it can provide a slight pulse impulse. Although there is no\nformal FEEP used in space flight tests, indium ion emission technology was\non the MIR satellite launched in 1991, the GEOTAIL satellite launched in\n1992, and the EQUATOR-S satellite launched in 1997, carried out the experi-\nment, therefore this technology has achieved space flight requirements.\nFEEP\u2019s drawback is that its pushing power ratio is low, and a high operating\nvoltage (B10 kV) is needed. It also has the problem of pollution plumes.\nIn addition, due to the life limit of the emission cathode tube\n(B28,000 hours), its working life is limited. Of course, this is not a problem\nin the microsatellite in terms of the short working life.\n\nThe colloid thruster system is a kind of propulsion system which can be used\nin small satellites. It is a simple design, resulting in low cost and high stabil-\nity. It uses an inert propellant, conducive to the preservation and long-term\ntask. It is promoted further because it can provide a wide range of thrust and\nspecific impulses. Its drawback is that it has a low ratio of pushing power,\nthe operating voltage is higher than FEEP at the same time, and the presence\nof a plume of pollution and the cathode emitter has a lifetime limit.\n\nThe advantages of the Hall thruster system include its higher specific impulse\nand high thrust power ratio. Meanwhile, the Hall thruster is the most mature\nsystem of the electric thruster systems. It is used in a large number of satel-\nlites. There is a lower risk of a contamination plume. Its disadvantage is\nthe poor quality and the large, complex structure, and it is also limited\n\n310 CHAPTER 8: Micropropulsion\n\n\n\nby the cathode emitter lifetime, which is unfavorable for use on these\nmicrosatellites.\n\nThe MEMS microthruster system is a new direction in development, and is\ncombined with MEMS technology, creating a new method for propulsion sys-\ntems research in microsatellites, particularly for nano/pico satellites. The main\nadvantages of the MEMS are its quality and small size, high integration, low\npower consumption, volume manufacturing, and low cost. For different prin-\nciples of MEMS thruster, they also have distinct advantages and disadvantages.\nThe electrothermal MEMS electric thruster has no pollution, any propellant\ncan be use in principle, however its drawbacks are its low specific impulse and\nthere are often leaks. The electrostatic MEMS electric thruster, such as the col-\nloidal thruster or ion thruster, has a high specific impulse, low power, and\nhigh push to power ratio. However, the presence of high-voltage, complex\ncontrol systems and existing plumes of pollution are disadvantages. For the\nMEMS chemical thruster, in particular the solid chemical thruster array, since\nit has no moving parts, there is no leakage and it has high reliability. In addi-\ntion, it is easy to adjust the thrust to provide small and precise impulses. Its\nlow specific impulse is insufficient compared with electric propulsion. In\nshort, with the MEMS technology, the development of microthrusters is a new\ntechnology, but it is not mature and needs further research and testing. The\nMEMS microchemical thruster array is ready for flight testing in the United\nStates in the planned TechSat21 satellite formation flight. MEMS microcolloid\nthrusters developed by Stanford University will also be used in emerald con-\nstellation inclusive orbiting satellites maintenance [16?18].\nMicropropulsion should mainly be chosen based on functional requirements\nand the actual satellite mission need. Fig. 8.15 shows the thrust, total\nimpulse, and mobility provided by various microthrusters.\n\n8.2 DESIGN AND SIMULATION OF MEMS-BASED SOLID\nPROPELLANT PROPULSION\n\n8.2.1 Structure and Principles\nThe bottom layer is in Fig 8.16 is the ignition layer (hereinafter also referred\nto as the head), to produce the ignition resistor array on a glass substrate, the\nresistor is a Pt thin-film resistor.\n\nThe intermediate layer is a combustion chamber, where single-crystal Si is\nused as the structural material. As a result of the bottom ignition program,\nthe gas-guide holes are designed with a symmetrical distribution around the\ncombustion chamber. The presence of gas-guide holes enables the ignited gas\nto be discharged from the combustion chamber in a way that ensures the\n\n8.2 Design and Simulation of MEMS-Based Solid Propellant Propulsion 311\n\n\n\nsmooth flow of gas. Meanwhile, the structure can increase the pressure in the\ncombustion chamber, which is conducive to combustion of the propellant.\n\nThe top layer is the nozzle, using silicon as structural material. It is conver-\ngent/divergent exhaust nozzle.\n\nThe entire propeller chip is arranged in unit array form, and the size of the\narray is selected according to actual need, as well as to the level of technology\nlimitations. Each propulsion unit can be independently ignited, or ignition\ncan be combined. The array structure is shown in Fig. 8.17. Fig. 8.18 shows a\nthruster array chip package model. The minimum impulse pulse can be\ndetermined by resizing the combustion chamber. The entire pusher has no\nmoving parts, which makes it highly reliable.\n\n8.2.2 Structure Mechanics and Heat Transfer Simulation\nfor Combustion Chambers\nPropellant combusts in the combustion chamber to produce high-pressure\ngas, the gas affects the chamber wall leading to the combustion chamber\ndeforming and producing mechanical and thermal stresses. To ensure the\n\nTh\nru\n\nst\n (N\n\n)\n\n0.2 2\n\n10\u20131\n\n10\n\n10\u20131\n\n10\u20132\n\n10\u20133\n\n10\u20134\n\n10\u20135\n\n10\u20136\n\n100\n\n100 101 102\n\n20 200 m/s\n\nTotal impulse (mN-s)\n\n Ion thrusters\n\nResistojet\n\nPPT\n\nC\nold gas\n\nS\nolid\n\n \u00b5 thruster\n\n\u00b5\n\u00b5\n\n\u00b5\n\nLiquid\n\nm/s1000100101V\n\nV\n\nfor a 10 kg satellite\n\nfor a 50 kg satellite\n\nFIGURE 8.15\nPart of a microthruster performance comparison [21].\n\n312 CHAPTER 8: Micropropulsion\n\n\n\n1.\n\n2.\n\n3.\n\n4.\n\n5.\n\nFIGURE 8.16\nSchematic of a propulsion unit: 1, convergent divergent nozzle; 2, gas-guide hole; 3, combustor;\n4, firing resistor; 5, glass substrate.\n\nFIGURE 8.18\nThruster package model.\n\nFIGURE 8.17\nPropulsion array structure schematic diagram.\n\n8.2 Design and Simulation of MEMS-Based Solid Propellant Propulsion 313\n\n\n\nreliability of the combustion chamber, it must be simulated on structural\nmechanics and thermal force coupling when the combustor is working.\nThrough calculating the maximum stress ?max of the combustion chamber\nwall, it should be compared with the yield stress of the silicon material ?s.\nWhen the structure is designed, ?max ,?s should be ensured.\n\nWhen the thruster is working, not all units are simultaneously lit, often a sin-\ngle unit or a combination of several units are lit. A working unit is bound to\ngenerate heat which reaches the adjacent units that are not working. Under\nthe effect of high-temperature gas, if the combustion chamber temperature of\nan adjacent unit that is not working rises to above the decomposition tem-\nperature of the propellant, the propellant will decompose even if mistakenly\nlit, which is called \u201chot crosstalk.\u201d In order to ensure that there is no cross-\ntalk between adjacent combustion chambers, heat transfer simulation should\nbe conducted when designing the structure, to provide a guarantee of ther-\nmal reliability while the thruster is working. Eqs. (8.1) and (8.2) give the\nheat conduction and convection transfer formulas in microsystems; it can be\nseen from these formulas that per unit area thermal convection and the ther-\nmal conductivity speed are inversely proportional to the characteristic scale\nof the systems. Under the micro scale, heat conduction and heat convection\nare greatly enhanced [19,22].\n\nqk\nA\n\n5\nk\nL\n\u00f0?T\u00de (8.1)\n\nqc\nA\n\n5Nu\nk\nL\n\u00f0?T\u00de (8.2)\n\nwherein, qk is the conductive heat transfer velocity; qc is the convective heat\ntransfer rate; is the area of contact; is the thermal conductivity of the material\nor the fluid; and Nu is the Nusselt number of the fluid.\n\nA problem of integration of the array, namely the number of cells per unit\narea, also needs to be considered while designing the thruster array. The main\nfactors affecting the degree of integration are stress, heat transfer, and process.\nA structural mechanics and thermal coupling force simulation study is used to\ninvestigate the influence of stress and heat transfer on the degree of integration\nof the array, generally using finite element method (FEA) simulation analysis.\n\n8.2.3 Process Flow and Results\nThe solid chemical thruster array is a three-tiered structural, ignition, com-\nbustion chamber and nozzle that are processed respectively on the glass and\nsilicon substrates, and then bonded or integrated with adhesive. Wafers are\n300 ?m thick double-sided polishing (100) single-crystal silicon, and glasses\nare 500 ?m thick Pyrex7740 special bonding glass. The process of manufac-\nture is as follows (Fig. 8.19):\n\n314 CHAPTER 8: Micropropulsion\n\n\n\n1. The underlying layer igniter\na. A glass substrate is selected, and a common lithography\n\nmachine is used to photoetch with AZ1500 photoresist. The wire\nreticle, a pad, and a resistor pattern are transferred to the\nphotoresist, and shallow grooves are etched on the glass with\nHF acid buffer.\n\nb. Cr, Pt, and Au are consecutively sputtered by magnetron sputtering.\nThe thickness of sputtering is about 10 nm, 50 nm, and 50 nm,\nrespectively.\n\nc. The metal layer, other than the wire, the pads, and the resistive\npatterns, is peeled off using an ultrasonic stripping process, forming\nthe leads, pads, and resistive patterns.\n\nd. The etched Au pattern is transferred to the photoresist by the\nsecond photolithography process, forming etching windows.\n\ne. Au is etched on to the surface of resist by a metal etching process to\nform platinum resistance.\n\n2. An intermediate layer of the combustion chamber\na. Using lightly doped n-type (100) silicon wafer with a thickness of\n\n300 ?m, a silicon oxide layer of 900 nm is grown by a thermal\ngrowth process, serving as the etching mask layer.\n\nb. The diffusion window pattern is transferred to the photoresist by\nlithography, forming a silicon dioxide etching window, and a\nwindow is formed by etching silicon dioxide with an HF acid buffer\nlayer.\n\nc. The P-type island is formed in the n-type silicon through the use of\ndiffusion window B under the process of diffusion, and the silicon\ndioxide masking layer is etched.\n\nd. A 900 nm thick layer of silicon dioxide is grown by a thermal\ngrowth process, and is used as a masking layer.\n\ne. The window of the etching blind hole is transferred to a photoresist\nby lithography to form a corrosion window. The silicon dioxide of\nthe window is etched with an HF acid buffer layer, exposing the\nunderlying silicon.\n\nf. Blind holes of thruster are etched using a photoresist mask and\nsilicon dioxide mask under the ICP etching process.\n\ng. The pattern of the through-hole is transferred onto the photoresist\nby lithography, forming etching windows. The oxide layer is etched\nwith HF acid buffer to form an etching window.\n\nh. Combustion chamber through-holes of the thruster are etched using\na photoresist mask and silicon dioxide mask under the ICP etching\nprocess. The silicon dioxide mask layer is etched away with an HF\nacid buffer.\n\n8.2 Design and Simulation of MEMS-Based Solid Propellant Propulsion 315\n\n\n\n3. Top nozzle layer\na. The silicon oxide layer (6000 \u00c5) is grown on (100) P-type silicon\n\nsubstrate with thickness of 300 ?m by double-sided thermal\noxidation as an etch mask layer.\n\nb. The etching pattern of the inlet is transferred to the photoresist by\nlithography, forming a nozzle inlet window, and a silicon dioxide\nwindow is formed by etching with an HF acid buffer layer.\n\nc. The etching pattern of the outlet is transferred to the photoresist by\nlithography, forming a nozzle outlet window, and a silicon dioxide\nwindow is formed by etching with an HF acid buffer layer.\n\nd. The nozzle is etched with anisotropic etching solution KOH or EPW\nto form the nozzle shape.\n\nPtSi02 Au Si Sb\n\nFIGURE 8.19\nFabrication process of the microthruster array (A) Deposit metal on glass to form igniter resistor, (B) diffuse Sb in P type silicon to form\nN type island, (C) ICP etching process to form combustion chamber, (D) bonding the combustion chamber layer and the igniter layer,\n(E) double-side etch to form nozzle, (F) Nozzle layer is bonded to the combustion chamber filled with solid propellants.\n\n316 CHAPTER 8: Micropropulsion\n\n\n\ne. The silicon-based combustion chamber layer and the glass-based\nignition layer are bonded together by a silicon-glass anodic bonding\nprocess. The chip is divided into individual dies.\n\nf. Two bonded layers of ignition and combustion are filled with solid\ncomposite propellant. The nozzle layer is bonded to the\ncombustion chamber using epoxy glue.\n\nFig. 8.20 shows a prototype of solid chemical microthruster chip, and\nFigs. 8.21 and 8.22 are partial SEM photographs of the chip die.\n\n8.2.4 Propellant\nThe selection of propellant is important in the design and manufacture of\nMEMS microchemical thrusters. The selection of different propellants affects\n\nFIGURE 8.20\nPackaged thruster chip.\n\nFIGURE 8.21\nIgnition resistance.\n\n8.2 Design and Simulation of MEMS-Based Solid Propellant Propulsion 317\n\n\n\nthe difficulty of MEMS technology and the thruster-specific impulse and\nthrust limit performance. Both the general principles of the propellant selec-\ntion and the special requirements of an array of MEMS thruster should be\ntaken into consideration when selecting the propellant. The principles below\nshould be followed:\n\n? High energy density;\n? Good combustion performance;\n? Conducive to the realization of the structure;\n? Economic, easy injection, without too much difficulty for MEMS\n\ntechnology;\n? Component as uniform as possible under the micro-scale;\n? Stable performance, with good physical stability and chemical stability.\n\nChemical propellants are generally divided into two categories: liquid propel-\nlants and solid propellants. Relative to the solid propellant, the specific\nimpulse of the liquid propellant is higher, but reducing and oxidizing agents\nneed to be stored separately, and to be supplied by specialized equipment at\nwork, when mixed in the combustion chamber to ignite, to achieve combus-\ntion. The system design includes micropumps and microvalves, etc., which\nincreases the complexity of the system. The performance capabilities of sub-\nsystems should be considered, such as leakage of the microvalves. The liquid\npropellant is only used on occasions where specific impulse is strictly\nrequired for combustion to be controlled. The solid propellant can be conve-\nniently stored, and the reducing agent can be stored by mixing with the oxi-\ndizer at room temperature. The high chemical stability, high specific impulse\ndensity, and small size, can greatly simplify system design, and this is not\ndifficult for MEMS technology to control. According to the basic principles\nmentioned above, considering the performances of the two types of\n\nFIGURE 8.22\nCombustion chamber etched by ICP.\n\n318 CHAPTER 8: Micropropulsion\n\n\n\npropellant, solid propellant is most suitable for use in the MEMS propulsion\nsystem.\n\nSolid propellant can be generally divided into two categories (Fig. 8.23):\nhomogeneous propellant and heterogeneous propellant. The fuel and oxi-\ndizer are uniformly mixed in homogeneous propellant to form a colloi-\ndal solution. Its elements and performance over the entire substrate is\nuniform. Single-base propellant has a nitrocellulose (NC)-based gel struc-\nture. Double-base propellant (DB) has a gel structure based on the basic\ncomponents of nitrocellulose (NC) and nitroglycerin (NG).\nHeterogeneous propellant is different from homogeneous propellant. Its\ncomposition and properties are not uniform. Black powder is a typical\nheterogeneous propellant that was used a long time ago but has now\nbeen abandoned; black powder is made by a mechanical mixture of sul-\nfur, charcoal, and potassium nitrate. Modern composite propellant is\nmade up under similar principles, generally consisting of the oxidant,\nadhesives, metal fuel, curing agents, plasticizers, etc., and has been widely\nadopted. Some heterogeneous components are added on the basis of\ndouble-base propellants to improve the performance of double-base pro-\npellant, and this kind of propellant is called a composite-modified dou-\nble-base propellant (CMDB), and therefore belongs to category of\nheterogeneous propellants [23?26].\nConsidering propulsion unit thrust and impulse uniformity, double-base\npropellants are an ideal choice. However, the ignition of double-base propel-\nlant is more difficult, with more sticking due to the pressure in the combus-\ntion chamber. Meanwhile, the energy of double-base propellant is relatively\nlow, due to the relatively large loss of silicon combustion heat, and likely to\n\nSolid propellant\n\nHeterogeneous\npropellant\n\nComposite\npropellantBlack powder\n\nComposite modified\ndouble base propellant\n\nDouble base\npropellant\n\nSingle base\npropellant\n\nHomeogeneous\npropellant\n\nFIGURE 8.23\nClassification of solid propellants.\n\n8.2 Design and Simulation of MEMS-Based Solid Propellant Propulsion 319\n\n\n\ncause incomplete combustion of the propellant and large energy losses, mak-\ning it difficult to meet the basic requirements of the impulse.\n\nThe energy of composite propellants is relatively high, and the ignition tem-\nperature is low. By means of a certain process, minimizing the size of solid\nparticles in the formulation and being sufficiently stirred and mixed, it is\npossible to improve the propellant uniformity. Composite propellants, such\nas AP/HTPB, AP/GAP, etc., have been adopted in foreign-developed MEMS\nthrusters. Modified double-base propellants, by the addition of high-energy\neasily ignited oxidant ingredients in double-base propellants, can improve\nthe performance of those double-base propellants, while ensuring uniformity\nof propellant components to some degree [27]. Thus, the composite propel-\nlants and modified double-base propellants are ideal propellants for MEMS\nsolid chemical thrusters.\n\n8.3 PERFORMANCE MODELING AND ANALYSIS\n\n8.3.1 Modeling and Heat Transfer Analysis\nof the Pt Resistor Igniter\nAs to traditional solid chemical rocket engines, igniter design is aimed at ana-\nlyzing the physical and chemical processes from ignition powder deflagration\nto propellant ignition. The influence of ignition powder gas temperature, igni-\ntion air density, and flow velocity on the ignition delay time are considered.\nSince the ignition process is very complex, the establishment and solution of\nthe whole process simulation model are generally difficult. In the design and\nanalysis of thruster ignition, it is often assumed that the ignition process is a\none-dimensional unsteady heat transfer process. The ignition temperature cri-\nteria are used and all phase transitions and chemical reactions before ignition\nare ignored to establish the unit heat conduction model with convection\nboundary conditions and to find the analytical solution. According to the\nsolution, the impact of various factors on the ignition delay is qualitatively\nanalyzed and the approximate quantitative values are given [28].\n\nFor the igniter design of the MEMS solid chemical thruster, the ignition delay\ntime is not only considered, but also the influence of the resistance bridge\nwire and the ignition voltage on the temperature of propellant before igni-\ntion. Therefore, it is necessary to establish a heat conduction model for the\nMEMS igniter. In order to analyze the influence factors on the temperature\ndistribution in the ignition phase qualitatively and approximately quantita-\ntively, the influence of temperature on the surface of propellant especially,\nand also finding the main influence factors on the ignition delay times, a\none-dimensional heat conduction model has been established.\n\n320 CHAPTER 8: Micropropulsion\n\n\n\nIn the thruster unit, propellant, a film resistor bridge wire, and the glass sub-\nstrate constitute a sandwich structure, while the resistance bridge wire is a\nheating element. We can consider the propellant and the glass substrate as\ntwo one-dimensional semiboundless heat conductors and the resistance\nbridge wire heat rate as the convective boundary condition of the common\nboundary of these two objects.\n\nElectric power for resistant bridge wire:\n\nP5\nU2\n\nR\n5\n\nU2\n\nRs\n\nb\nL\n\n(8.3)\n\nwhere U is the voltage on the resistance bridge wire, Rs is the resistivity, b is\nthe width of the resistant bridge wire, and L is the equivalent length of the\nbridge wire. The electric power can be divided into two parts, one part trans-\nferred to propellant Pp and the other transferred to the glass substrate. Pgl:\n\nP5 Pp 1Pgl (8.4)\n\nThe heat flux density of propellant boundary can be described as:\n\nqp 5\nPp\nS\n\n(8.5)\n\nOne-dimensional heat-conduction equation on the semi-unbounded region\nis described as below, as to the propellant:\n\n@Tp\n@t\n\n5 ap\n@2Tp\n@t2\n\n(8.6)\n\nwhere ap 5?p=?pcpr refers to the thermal diffusivity of propellant, and ?p, ?p,\ncpr are the thermal conductivity, density, and specific heat capacity of the pro-\npellant, respectively.\n\nThe initial condition is:\n\nTp\u00f0z; t\u00de5T0; \u00f00# z,N; t5 0\u00de (8.7)\n\nThe second boundary condition is:\n\n2?p\n@Tp\n@z\n\n5 q\u00f0t\u00de5 0; \u00f0t50\u00de\nqp; \u00f0t.0\u00de\n\n?\n(8.8)\n\nwhere T0 is the initial temperature and qp is the heat flux of ignition resis-\ntance wire transferred to the propellant.\n\nBoth sides of Eq. (8.6) are multiplied by 2?p, and differentiated with respect\nto z. This obtains:\n\n@\n\n@t\n5 2?p\n\n@Tp\n@z\n\n? ?\n5 ap\n\n@2\n\n@z2\n2?p\n\n@Tp\n@z\n\n? ?\n(8.9)\n\n8.3 Performance Modeling and Analysis 321\n\n\n\nWhile q52?@Tp@z is heat flux density, Eq. (8.9) can be converted into\nEq. (8.10) with the excess heat flux density introduced.\n\n@q?\n@t\n\n5 ap\n@2q?\n@z2\n\n(8.10)\n\nThe corresponding boundary conditions are converted into Eq. (8.11).\n\nq?\u00f0t\u00de5 qp; \u00f0t50\u00de0; \u00f0t.0\u00de\n?\n\n(8.11)\n\nMethods of solving equation involve separation of variables, Laplace trans-\nform, and so on. We choose the method of separation of variables. We\nassume that the solution of the equation has the following form:\n\nq? 5X\u00f0t\u00deY\u00f0z\u00de (8.12)\nwhere X(t) has only one variable t, simplified as X. Y(z) has the variable z,\nsimplified as Y. We can obtain Eq. (8.13) by substituting Eq. (8.12) into\nEq. (8.10).\n\n1\napX\n\n@X\n@t\n\n5\n1\nY\n@2Y\n@z2\n\n(8.13)\n\nIn Eq. (8.13), the left side is a function of the time variable, and the right is\na function of the spatial variable. To ensure this equation is tenable, both\nsides must equal a constant. From the physics point of view, q should have\n\nmeanings when t-N. Therefore, we let 1apX\n@X\n@t 5\n\n1\nY\n@2Y\n@z2 52?\n\n2 and Eq. (8.13)\n\ncan be divided into two independent ordinary differential equations.\n\n@X\n@t\n\n1 apX?2 50\n\n@2Y\n@z2\n\n1Y?2 50\n\n8>>>><\n>>>>:\n\n(8.14 and 8.15)\n\nThe solutions is as follows:\n\nX5C1e\n\u00d0\n2apB2dt 5C1e\n\n2ap?2t (8.16)\n\nY 5D1e\ni?z 1D2e\n\n2i?z (8.17)\n\nSubstituting Eqs. (8.16) and (8.17) into Eq. (8.12) gives Eq. (8.18):\n\nq? 5C1e\n2ap?2t D1e\n\ni?z 1D2e\n2i?z? ? (8.18)\n\nThis is the particular solution of the equation, because the solution is tenable\nregardless of the value of ?. Since Eq. (8.10) is a linear equation, satisfying\nthe superposition principle, the general solution is described below.\n\nq? 5\nX\n\u00f0?\u00de\n\nC1?e\n2ap?2t D1?e\n\ni?z 1D2?e\n2i?z? ? (8.19)\n\n322 CHAPTER 8: Micropropulsion\n\n\n\nWithout any boundary conditions, ?A\u00f02N; 1N\u00de, D1?ei?z 1D2?e2i?z\n? ?\n\ncan\nbe simplified as D?ei?z. The summation of Eq. (8.19) can be substituted with\nintegration of ? because of the continuity; this gives Eq. (8.20):\n\nq? 5\n\u00f01N\n2N\n\nC1?e\n2ap?2tD?e\n\ni?zd?5\n\u00f01N\n2N\n\nC\u00f0?\u00deei?z2ap?2td? (8.20)\n\naccording Eq. (8.11), when t5 0, q? 5 qp, then Eq. (8.20) is converted to\nEq. (8.21):\n\nqp 5\n\u00f0N\n2N\n\nC\u00f0?\u00deei?zd? (8.21)\n\nAccording to the inverse Fourier transform formula, the following result is\nobtained:\n\nC\u00f0?\u00de5 1\n2?\n\n\u00f01N\n2N\n\nqpe\n2i??d? (8.22)\n\nSubstituting Eq. (8.22) into Eq. (8.20), we obtain the following results:\n\nq? 5 qp\n\n\u00f01N\n2N\n\n\u00f01N\n2N\n\n1\n2?\n\nei?\u00f0z2?\u00de2ap?\n2t\n\n0\n@\n\n1\nAd?d?\n\n5 qp\n\n\u00f01N\n2N\n\n1\n2\nffiffiffiffiffiffiffi\na?t\n\np e\n2\n\n\u00f0z2?\u00de2\n4apt\n\nd?\n\n5\nqp\n\n2\nffiffiffiffiffiffiffi\na?t\n\np\n\u00f01N\n0\n\ne\n2\n\n\u00f0z2?\u00de2\n4apt\n\nd?1\n\u00f00\n2N\n\ne\n2\n\n\u00f0z2?\u00de2\n4apt\n\nd?\n\n0\nB@\n\n1\nCA\n\n5\nqp\n\n2\nffiffiffiffiffiffiffi\na?t\n\np\n\u00f01N\n0\n\ne\n2\n\n\u00f0z2?\u00de2\n4apt\n\n2 e\n2\n\n\u00f0z2?\u00de2\n4apt\n\n0\nB@\n\n1\nCAd?\n\n(8.23)\n\nBecause qp is a constant, Eq. (8.24) follows with the first integration\n?5 z1 2?\n\nffiffiffiffiffiffi\nast\n\np\nand the second integration ?52 z1 2?\n\nffiffiffiffiffiffi\nast\n\np\n[29].\n\nq? 5\nqpffiffiffi\n?\n\np\n\u00f01N\n2 z\n\n2\nffiffiffiffi\napt\n\np\ne2?\n\n2\nd?2\n\nq0ffiffiffi\n?\n\np\n\u00f01N\n\nz\n2\nffiffiffiffi\napt\n\np\ne2?\n\n2\nd?\n\n5\nqpffiffiffi\n?\n\np\n\u00f0 z\n\n2\nffiffiffiffi\napt\n\np\n\n2 z\n2\nffiffiffiffi\napt\n\np\ne2?\n\n2\nd?\n\n5\n2qpffiffiffi\n?\n\np\n\u00f0 z\n\n2\nffiffiffiffi\napt\n\np\n\n0\ne2?\n\n2\nd?\n\n5 qpUerf\nz\n\n2\nffiffiffiffiffiffi\napt\n\np\n? ?\n\n(8.24)\n\nwhere erf \u00f0x\u00de5 2ffiffi?p \u00d0 x0 e2?2d? is an error function.\n\n8.3 Performance Modeling and Analysis 323\n\n\n\nWe obtain the following equation from Eq. (8.24):\n\nq5 qp 2 q? 5 qp 12 erf\nz\n\n2\nffiffiffiffiffiffi\napt\n\np\n? ?? \t\n\n5 qpUerfc\nz\n\n2\nffiffiffiffiffiffi\napt\n\np\n? ?\n\n(8.25)\n\nThe extra temperature is indicated in Eq. (8.26):\n\nT? 5 Tp 2T0 (8.26)\n\nTherefore the temperature distribution function is describe as follows:\n\nTp 5T0 1T? 5T0 1 2\n\u00f01N\nz\n\nq\n?p\n\ndz\n\n0\n@\n\n1\nA\n\n5T0 1 2\nqp\n?p\n\n\u00f01N\nz\n\nerfc\nz\n\n2\nffiffiffiffiffiffi\napt\n\np\n? ?0@\n\n1\nA\n\n5T0 1\n2qp\n\nffiffiffiffiffiffi\napt\n\np\n?p\n\nierfc\nz\n\n2\nffiffiffiffiffiffi\napt\n\np\n? ?\n\n(8.27)\n\nwhere ierfc\u00f0x\u00de5 1ffiffi?p e2x2 2 xUerfc\u00f0x\u00de is the integral extra error function [29].\nTherefore the propellant temperature distribution function is indicated as:\n\nTp\u00f0z; t\u00de5T0 1\n2qp\n\nffiffiffiffiffiffi\napt\n\np\n?p\n\n1ffiffiffi\n?\n\np e\n2\n\nz2\n4apt\n\n2\nz\n\n2\nffiffiffiffiffiffi\napt\n\np Uerfc z\n2\nffiffiffiffiffiffi\napt\n\np\n? ?24\n\n3\n5\n\n5T0 1\n2qp\n?p\n\nffiffiffiffiffiffi\napt\n?\n\ns\ne\n2\n\nz2\n4apt\n\n2\nz\n2\n\nffiffiffiffiffiffi\n?\napt\n\ns\nUerfc\n\nz\n2\nffiffiffiffiffiffi\napt\n\np\n? ?24\n\n3\n5\n\n(8.28)\n\nEq. (8.28) is the solution to Eq. (8.6).\n\nWhen z5 0 follows, Tp(0,t) is the temperature of the contact surface bound-\nary between the propellant and resistance:\n\nTp\u00f00; t\u00de5 T0 1\n2qp\n?p\n\nffiffiffiffiffiffi\napt\n?\n\nr\n(8.29)\n\nResistance wire fusing is not under consideration when finding the solution.\nThe real situation is that the resistance fuses when Tmelt. 773.15K, and the\nheat flow density q5 0.\n\nAt the same time, the derivations above are under the condition of unburned\npropellant and no phase transitions and chemical reactions. The real ignition\npoint of propellant is Tig5 543.15?653.15K. According to the ignition tem-\nperature criterion, we believe that when T(0,t). Tig, the propellant starts\nto burn.\n\n324 CHAPTER 8: Micropropulsion\n\n\n\nBased on the consideration above, Eq. (8.29) should be transformed into\nEq. (8.30):\n\nTp\u00f00; t\u00de5 T0 1\n2qp\n?p\n\nffiffiffiffiffiffi\napt\n?\n\nr\n; Tp\u00f00; t\u00de# Tig (8.30)\n\nAs for the glass substrate, a one-dimensional temperature can be formed sim-\nilar to the propellant:\n\n@Tgl\n@t\n\n5 agl\n@2Tgl\n@t2\n\n(8.31)\n\nwhere agl 5\n?gl\n?glcgl\n\nis the propellant thermal diffusivity, and ?gl, ?gl, cgl are the\nthermal conductivity, density, and special heat of the glass substrate,\nrespectively.\n\nInitial condition:\n\nTgl\u00f0z; t\u00de5 T0; \u00f00# z,N; t50\u00de (8.32)\n\nSecond boundary condition:\n\n2?gl\n@Tgl\n@z\n\n5 q\u00f0t\u00de5 0; \u00f0t50\u00de\nqgl; \u00f0t.0\u00de\n\n?\n(8.33)\n\nwhere\n\nqgl 5\nPgl\nS\n\n(8.34)\n\nThis is the heat flow density from the resistance wire to the glass substrate.\nT0 is the initial temperature.\n\nSimilarly, we can obtain Eq. (8.35):\n\nTgl 5 T0 1\n2qgl\n\nffiffiffiffiffiffiffi\naglt\n\np\n?gl\n\nierfc\nz\n\n2\nffiffiffiffiffiffiffi\naglt\n\np\n? ?\n\n(8.35)\n\nWhen z5 0, the boundary temperature is:\n\nTgl\u00f00; t\u00de5 T0 1\n2qgl\n?gl\n\nffiffiffiffiffiffiffi\naglt\n?\n\nr\n; Tgl\u00f00; t\u00de#Tmelt (8.36)\n\nThe common boundary of propellant and the glass substrate makes\nEq. (8.37) tenable.\n\nTgl\u00f00; t\u00de5 Tp\u00f00; t\u00de (8.37)\n\nWith substituting Eq. (8.30) into Eq. (8.35), the result in Eq. (8.38) is\nobtained:\n\nqp\nqgl\n\n5\n?p\n\nffiffiffiffiffi\nagl\n\np\n?gl\n\nffiffiffiffiffi\nap\n\np 5 ? (8.38)\n\n8.3 Performance Modeling and Analysis 325\n\n\n\nAccording to Eqs. (8.3), (8.4), and (8.34), the following is tenable:\n\nqgl 1 qp 5\nP\nS\n5\n\nP\nbL\n\n(8.39)\n\nEq. (8.40) is the solution to Eqs. (8.38) and (8.39):\n\nqp 5\n?\n\n11 ?\nP\nbL\n\n(8.40)\n\nSubstituting Eqs. (8.3) and (8.40) into Eq. (8.30) gives the propellant\nboundary temperature function of time:\n\nTp\u00f00; t\u00de5 T0 1\n2?\n\n11 ?\nU2\n\n?pRsL2\n\nffiffiffiffiffiffi\napt\n?\n\nr\n; T\u00f00; t\u00de# Tig (8.41)\n\nConsidering the reality of three-dimensional thermal conduction, the model\ncorrection coefficient k is added to obtain Eq. (8.42), where 0, k, 1:\n\nTp\u00f00; t\u00de5 T0 1 kU\n2?\n\n11 ?\nU2\n\n?pRsL2\n\nffiffiffiffiffiffi\napt\n?\n\nr\n; T\u00f00; t\u00de# Tig (8.42)\n\nTherefore the thruster ignition delay can be described as:\n\ntdelay 5\n?\u00f011?\u00de2?2pR2s L4\n\n4k2?2U4ap\n\u00f0Tig2T0\u00de2\n\n5\n?\u00f011?\u00de2?2p b2L2\n\n4k2?2P2ap\n\u00f0Tig2T0\u00de2\n\n(8.43)\n\nWhen Tp(0,t)5 Tig, the ignition power and the ignition voltage can be\ndescribed as follows from Eqs. (8.3) and (8.42):\n\nP5\n\u00f011 ?\u00de?pbL\u00f0Tig 2T0\u00de\n\n2k?\n\nffiffiffiffiffiffi\n?\napt\n\nr\n(8.44)\n\nU5\n\u00f011?\u00de?pRsL2\u00f0Tig2T0\u00de\n\n2k?\n\nffiffiffiffiffiffi\n?\napt\n\nr\" #12\n(8.45)\n\nThere are several ways to reduce the ignition delay time under the conditions\nof a particular initial temperature and unchanged propellant properties from\nEqs. (8.41) to (8.42).\n\n1. Increase the ignition voltage, because t ~ 1U4 ~\n1\nP2. This is the most\n\nobvious method.\n2. Reduce the resistance value of the resistance bridge wire because of\n\nt ~R2s . In case of a certain voltage, this method increases the ignition\npower.\n\n326 CHAPTER 8: Micropropulsion\n\n\n\n3. Reduce the width and length of the resistance wire. This reduces the\narea of the resistance and increases the heat flow density in a certain\nignition power. If the contact area of the resistance wire and propellant\nis too small, it is not suitable for the propellant end face to be ignited\nat the same time.\n\n4. Increase ?. Because ?~\nffiffiffiffiffiffiffiffiffiffiffi\n\n1\n?glcgl?gl\n\nq\n, the essence is to reduce the thermal\n\nconductivity, density and specific heat of the base material to reduce\nthe heat loss from the base material.\n\nFrom Eqs. (8.44) to (8.45), we can conclude that the ignition power and the\nignition voltage have several influence factors with certain propellant proper-\nties and ignition delay time regardless of heat loss caused by the resistance\ndivider.\n\nThe higher the initial temperature, the less the ignition power and ignition\nvoltage.\n\nThe ignition power is reduced by reducing the width and length of the resis-\ntance wire. A shorter resistance wire and lower electrical resistivity creates a\nlower thruster ignition voltage. The width of the resistance wire makes no\ndifference to the ignition voltage.\n\nIncreasing ? reduces the thermal conductivity, density, and specific heat of\nthe base material in order to reduce the heat loss of the base material and\nthe ignition power and ignition voltage.\n\n8.3.2 Interior Ballistic Lumped Parameter Model\nand Simulation\nSimulated calculations are taken on a one-dimensional lumped parameter\nmodel established on the energy conservation equation, mass conservation\nequation, and the ideal gas state equation. The advantage of this model is in\ninfluencing shock waves on gas flow and heat transfer in the combustion\nchamber.\n\nThe object of the model is the gas in the combustion chamber from the\nburning surface to the nozzle throat. In order to ensure accuracy and conve-\nnience, the following conditions are assumed to be true:\n\n? The gas temperature and pressure are uniform and approximately\ninvariable.\n\n? The gas meets the ideal gas law.\n? The gas in the nozzle expansion is one-dimensional isentropic flow.\n? The change of gas pressure in the combustion chamber with propellant\n\nburning rate is ignored.\n\n8.3 Performance Modeling and Analysis 327\n\n\n\n8.3.2.1 Mass Conservation Equation\nThe mass of the gas in the combustion chamber is changing all the time.\nMass m meets the following equation:\n\ndm\ndt\n\n5 qin 2 qout (8.46)\n\nwhere qin and qout are the mass of gas going into the combustion chamber\nand the mass of gas going out from the nozzle throat per unit time.\n\n8.3.2.1.1 Incoming gas flow\nThe mass of gas flowing into the combustion chamber per unit time, propel-\nlant burning rate @x=@t, burning cross-sectional area Ac(x), and solid propel-\nlant density ? are met in Eq. (8.47), where x is the coordinates of the\nburning cross-sectional area:\n\nqin 5\n@x\n@t\n\nAc\u00f0x\u00de? (8.47)\n\nThe propellant burning rate can be described as in Eq. (8.48) according to\nexperience:\n\n@x\n@t\n\n5 aPn 31023 (8.48)\n\nwhere a is the coefficient of propellant burning rate (mm/s), n is the pressure\nindex of the propellant burning rate, and P is the pressure of the combustion\nchamber.\n\n8.3.2.1.2 Out going gas flow\nThe mass of the gas out of the nozzle throat per unit time is related to the\nflow rate of the gas in the throat. The calculations can be divided into hyper-\nsonic flow and subsonic flow.\n\nFor convergence?divergence nozzles, the critical pressure ratio of the gas in\nthe nozzle bc meets the following equation:\n\nbc 5 11\n?21\n2\n\nM2e\n\n? ?2?=\u00f0?21\u00de\n(8.49)\n\nwhere gas Mach number of the nozzle outlet Me can be decided by\nEq. (8.50).\n\nAe\nAt\n\n5\n1\nMe\n\n2\n?11\n\n? ?\u00f0?11\u00de=2\u00f0?21\u00de\n11\n\n?21\n2\n\nM2e\n\n? ?\u00f0?11\u00de=2\u00f0?21\u00de\n(8.50)\n\nWhen the environment pressure Pa=P# bc, the gas at the throat can reach\nsonic levels. The mass flow of the gas can be described as follows:\n\n328 CHAPTER 8: Micropropulsion\n\n\n\nqout 5\n\nffiffiffi\n?\nr\n\nr\n?11\n2\n\n? ?\u00f0?11\u00de=2\u00f012?\u00de Pffiffiffi\nT\n\np At (8.51)\n\nWhen Pa=P. bc, the gas at the throat can reach subsonic and the mass flow\nof the gas meet Eq. (8.52):\n\nqout 5\n\nffiffiffi\n?\nr\n\nr\n?11\n2\n\n? ?\u00f0?11\u00de=2\u00f012?\u00de Pffiffiffi\nT\n\np At\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n12\n\n\u00f0Pe=P\u00de2bc\n12bc\n\n? ?2s\n(8.52)\n\nwhere Ae is the cross-sectional area of the nozzle outlet, At is the cross-\nsectional area of the nozzle throat, ? is the specific heat ratio of the gas, r is\nthe gas constant, T is the gas temperature in combustion chamber, and Pe is\nthe gas pressure at the nozzle outlet.\n\n8.3.2.2 Energy Conservation Equation\nWe assume that the gas in the combustion chamber has uniform tempera-\nture, pressure, and density. According to the energy conservation equation,\nthe gas meets the following equation:\n\nm\ndT\ndt\n\n1T\ndm\ndt\n\n52?Tqout 1\n?\nCv\n\n(8.53)\n\nwhere, Cv is gas constant volume specific heat capacity, ? is the heat change\nof the gas in the combustion chamber, consisting of heat caused by propel-\nlant burning ?in, heat loss of gas convection ?con, and heat loss of gas thermal\nradiation ?rad. These parameters meet Eq. (8.54).\n\n?5?in 2?con 2?rad (8.54)\n\nHeat caused by propellant burning meets the following equation:\n\n?in 5 qinhc (8.55)\n\nwhere hc is propellant burning entropy which can be obtained by experience\nor thermodynamic calculation.\n\nAs to heat loss of gas convection, the flowing equation is tenable:\n\n?con 5 hSc\u00f0x\u00de\u00f0T2 Tw\u00de (8.55)\n\nwhere h is the convective heat transfer coefficient, S(x) is heat transfer surface\narea, and Tw is the wall temperature of the combustion chamber.\n\nHeat loss due to radiation heat transfer is illustrated in Eq. (8.56):\n\n?rad 5??Sr\u00f0x\u00de\u00f0T4 2T4w\u00de (8.56)\n\nwhere ? is Boltzmann constant of blackbody radiation, ? is the coefficient of\nthermal radiation, and S(x) is the heat transfer surface area.\n\n8.3 Performance Modeling and Analysis 329\n\n\n\n8.3.2.3 The Ideal Gas State Equation\nThe differential Eqs. (8.46) and (8.47) have three unknowns: m, T, and x.\nThere are three equations needed to obtain the numerical solution. If the\ngas is an ideal gas then it fulfills Eq. (8.57):\n\nP5\nmrT\nV\u00f0x\u00de\n\n(8.57)\n\nwhere,\n\nr5\nR\nmg\n\n(8.58)\n\nand mg is the average molecular weight of the gas.\n\nEqs. (8.46), (8.53), and (8.57) compose first-order ordinary differential\nequations, having a unique solution with initial conditions x0, m0, and T0.\n\n8.3.2.4 Calculation of Thrust and Impulse\nBy solving the first-order ordinary differential equations, we can get the rela-\ntion of T, P with time. We assume that the gas at the nozzle expansion is\none-dimensional isentropic flow and we have the thrust description in\nEq. (8.60)\n\nF5\n1\n2\n\nPeAe 11 ?M2e\n? ?\n\n2AePa\n? ?\u00f011 cos?e\u00de (8.59)\n\n?e is divergence angle in the nozzle, equal to ?e 5 35:3 degrees. From\nEq. (8.59) Pe and Me are needed to solve the thrust F.\n\nThe impulse of the thruster unit is decided by the following equation:\n\nI5\n\u00f0t\n0\nFdt (8.60)\n\n8.3.2.5 Determination of Pe and Me\nThree conditions are discussed according to the laws of isentropic flow of the\ninterface tube.\n\n1. Pa/P. bc, the flow is subsonic in the divergent of nozzle.\n\nPe 5 Pa (8.61)\n\nMe 5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n2\n\n?2 1\nPe\nP\n\n? ?\u00f012?\u00de=?\n21\n\n !vuut (8.62)\n\n330 CHAPTER 8: Micropropulsion\n\n\n\n2. Pa=P# bc, the flow is supersonic in the divergent of nozzle.\n\nPe 5P 11\n?21\n2\n\nM2e\n\n? ?2?=\u00f0?21\u00de\n(8.63)\n\nMe can be determined by Eq. (8.64).\n\nAe\nAt\n\n5\n1\nMe\n\n2\n?11\n\n? ?\u00f0?11\u00de=2\u00f0?21\u00de\n11\n\n?21\n2\n\nM2e\n\n? ?\u00f0?11\u00de=2\u00f0?21\u00de\n(8.64)\n\n3. Pa=P# bc, the flow is supersonic flow with right shock in the divergent of\nnozzle. Therefore we should ensure the position of the shock waves.\nWe assume the shock waves are normal shock and the cross-sectional\narea is As, the Mach number of the upstream gas of shock is Mn0.\n\nAs\nAt\n\n5\n1\n\nMn0\n\n2\n?11\n\n? ?\u00f0?11\u00de=2\u00f0?21\u00de\n11\n\n?21\n2\n\nM2n0\n\n? ?\u00f0?11\u00de=2\u00f0?21\u00de\n(8.65)\n\nThe Mach number of the downstream gas of shock can be described as:\n\nMn1 5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n11 \u00f0\u00f0?2 1\u00de=2\u00deM2n0\n?M2n0 2 \u00f0\u00f0?21\u00de=2\u00de\n\ns\n(8.66)\n\nThe stagnation pressure of downstream gas of shock is:\n\nPi1 5\n2?\n?11\n\nM2n02\n?21\n?11\n\n? ?21=\u00f0?21\u00de 2\n?11\n\n1\nM2n0\n\n1\n?21\n?11\n\n? ?2?=\u00f0?21\u00de\nPi0 (8.67)\n\nwhere Pi0 is the stagnation pressure of upstream gas of shock and\nPi05 P.\n\nAe\nAs\n\n5\nMn1\nMe\n\n11 ?212 M\n2\ne\n\n11 ?212 M\n2\nn1\n\n !\u00f0?11\u00de=2\u00f0?21\u00de\n(8.68)\n\nUsing Eq. (8.68), we can solve Me. Substituting Me into Eq. (8.69) we\nobtain Pe:\n\nPe 5 11\n?21\n2\n\nM2e\n\n? ?2?=\u00f0?21\u00de\nPi1 (8.69)\n\nIf\n\nPe 5Pa (8.70)\n\nthe assumptions are tenable. Otherwise, Eqs. (8.65)?(8.70) are\nexecuted to find the solution by adding a small incremental to As until\nAs5Ae, and then turn to condition 2.\nAccording to the theory model above, SIMULINK is used to\n\nsimulate the performance with unique structures and parameters.\nThe SIMULINK flow chart is illustrated in Fig. 8.24.\n\n8.3 Performance Modeling and Analysis 331\n\n\n\nbc\n\nbc Solution Original value\n\nq_out\n\nq_in\nx\n\ndx/dt\ndm/dt\n\ndm/dt\n\ndT/dt\n\ndT/dt T\n\nm\ndm/dt\n\nq_out\nT_in\n\nfai   d(T_out) 1\ns\n\n1\ns\n\n1\ns\n\nm\n\nIntegrator1\n\nIntegrator2\n\n+\n\n\u2013\n\nT\n\nP\n\nbc\n\nPe\n\n0.4bc Criteria\n\nOutgoing flow\n\nS.Outgoing Flow Rate\n\nIngoing flow rate\n\nIngoing heat flux\n\nIntegratorBurn rate\n\nConvectionloss\n\nConvection area\n\nConvarea\n\nT\n\nSx\nfai_rad\n\nT\n\nSx\nfai_con\n\nq_in fai_in\n\nfai\n\nEquation of state\n\nPFI array\n\nPFI\n\nP\n\nF\n\nI\n\nT\nm P\n\nP\nF 1\n\ns\n\nIntegrator3\n\nbc\nPe\n\nThrust\n\nThrust force & Pex\n\nfai\n\n+\n\u2013\n\u2013\n\nRadiation loss\n\nGain\n\nCalBRateK-\n\nFIGURE 8.24\nModel of one-dimensional gas flow in SIMULINK.\n\n\n\n8.4 TEST OF MICROPROPULSION\n\n8.4.1 Summary of Micropropulsion Measurement\nThe testing of micropropulsion is a very difficult task because of its characteristics.\nThe thrust of micropropulsion is too small, from several ?N to dozens of mN,\ntherefore the challenges are mainly manifested in the following aspects.\n\n1. Too small thrust. Relative to the weight of the equipment installed on\nthe test platform, the thrust and impulse is much smaller. This means\nthat the test platform is very sensitive to small thrusts. Therefore the\ndesign of the test system is of high impostance.\n\n2. Too many elements which may influence the accuracy. Thrust between\nseveral ?N and dozens of mN can be submerged by many elements\nwhich normally could be ignored. The friction and circuit connection\ncould also influence the accuracy.\n\nThe resolution, error, and thrust measurement range should be fully analyzed\nwhen the test system is designed.\n\nThe test contains average thrust measurement and impulse measurement\nbased on the thrust bench. The essence is to observe the movement of the\nthrust bench to measure the thrust and impulse indirectly. The measurement\nmethods vary according to the measurement range. As for a thrust of dozens\nof mN, weighting benches and swing benches are used while a thrust of sev-\neral ?N is needed for a torsion pendulum, double pendulum, or four-arm\ncounterweight structure.\n\nThis measurement system involves time scales. If the natural frequency of the\nplatform is much higher than the frequency of the thruster impulse, the plat-\nform can be used to measure the average thrust and the impulse in the time\nintegral of the thrust. If the frequency of the platform is much smaller than\nthe frequency of the thruster impulse, the impulse can be measured and the\ndamper or spring effect can be ignored. However, if the natural frequency is\nnear the frequency of the thruster impulse, the influence of the natural fre-\nquency of the platform on the thrust measure should be eliminated. Since\nthe vibration amplitude is related to the natural frequency, it should be\nguaranteed that the platform natural frequency is near the thruster impulse\nfrequency when designing the platform.\n\nTable 8.7 lists the basic types, principles, and realization forms of microim-\npulse systems.\n\n8.4.2 Measurement System Based on Laser Interference\nand Rigid Pendulum Principle\nThe thrust of the MEMS solid chemical thrusters is impulse thrust. The thrust\naction time is very short, from several to dozens of microseconds. The unit\n\n8.4 Test of Micropropulsion 333\n\n\n\nimpulse is hundreds of ?Ns in a vacuum and dozens of ?Ns at atmosphere\npressure. Therefore a laser interferometer rigid pendulum is selected, as illus-\ntrated in Fig. 8.25. The thruster is fixed on the pendulum and the impulse\nthrust causes the pendulum to vibrate. The amplitude of the laser interferom-\neter measurement reflects the impulse.\n\nDepartment of Precise Instruments, Tsinghua University, has built a MEMS\nthruster impulse measurement system based on laser interferometer working\n\nTable 8.7 Basic Measurement Schemes of Microimpulse Systems [30]\n\nBasic Types Basic Principle Realization Form\n\nBalance structure Balance the weight of the thruster and its accessories\nand use the force caused by measuring elements to\nbalance the thrust of the micropropulsion\n\nBalance\n\nRigid pendulum Twist moment balance theory Positive pendulum, straight\npendulum, inverted pendulum\n\nFlexible pendulum Twist balance theory or thrust balance theory Twisted wire hanging pendulum,\nparallelogram, structure, single\npendulum\n\nRotary table with\nno friction\n\nThe platform is supported frictionlessly, measuring the\ntorque caused by microthruster or force of equilibrium\ntorque to implement measurement\n\nFloating platform, rotating shaft\nsupport platform\n\nFlexible pivot\n\nWindow\nRectangular prism\n\nRectangular prism\n\nBeam splitter mirror\n\nBeam splitter mirror\n\nAdjustable mirror\nCylindrical lens\n\nHeNe laser\n\nHeNe laser\nPhotodiode\n\nMicro\npropeller\n\nFIGURE 8.25\nLaser interferometer rigid pendulum system.\n\n334 CHAPTER 8: Micropropulsion\n\n\n\nat atmosphere pressure. The pendulum amplitudes are recorded by computer\nat 10 Hz. The natural frequency of the vibration isolation platform is 3 Hz.\nThe thruster is fixed on a precise platform with a step progress of 50 nm and\nautomatically moved to the pendulum controlled by computer to guarantee\nthe distance between the pendulum and nozzles. The measurement platform\nis shown in Fig. 8.26.\n\n8.4.3 Microimpulse Test and Data Analysis\nof the MEMS-Based Solid Propellant Propulsion\nMeasurements are taken on a 36-array solid chemical microthruster using the\ntest system above. The impulsion of a single unit is too small and easy to be\nsubmerged by free oscillation of a simple pendulum. Therefore multiple\nunits are ignited at the same time. Ten test results are shown in Fig. 8.27A?J\n(Table 8.8).\n\nTen measurements are taken and 43 unit propulsions are obtained. The aver-\nage unit impulse is 7.603 ?Ns. The standard deviation is 1.683 ?Ns. The min-\nimum value is 4.561 ?Ns and the maximum value is 10.859 ?Ns.\n\nThe measurement results have a certain discreteness. The main causes of\nthese results are:\n\n1. Experiments are performed in the lab atmospheric environment and\nare influenced by atmospheric flow, causing random error.\n\n2. Composite propellant is not totally uniform, causing uneven hole filler\nloading.\n\n3. Incomplete combustion.\n\nFIGURE 8.26\nTest platform.\n\n8.4 Test of Micropropulsion 335\n\n\n\n0\n\u20130.015\n\n\u20130.01\n\n\u20130.005\n\nA\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n0.02\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18\n\n\u20130.015\n\n\u20130.01\n\n\u20130.005A\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18 0\n\u20130.015\n\n\u20130.01\n\n\u20130.005A\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18\n\n0\n\u20130.01\n\n\u20130.008\n\n\u20130.006\n\n\u20130.004\n\n\u20130.002\n\nA\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.002\n\n0.004\n\n0.006\n\n0.008\n\n0.01\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18 0\n\u20130.02\n\n\u20130.015\n\n\u20130.01\n\n\u20130.005A\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n0.02\n\n0.025\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18\n\n0\n\u20130.02\n\n\u20130.015\n\n\u20130.01\n\n\u20130.005A\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n0.02\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18\n\n(A)\n\n(C) (D)\n\n(E) (F)\n\n(B)\n\nFIGURE 8.27\nImpulse measurement curves. (A and C) 3 units, (B, D?F) 4 units, (G?I) 5 units, (J) 7 units.\n\n336 CHAPTER 8: Micropropulsion\n\n\n\n0\n\u20130.02\n\n\u20130.015\n\n\u20130.01\n\n\u20130.005\n\nA\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n0.02\n\n0.025\n\n0.03\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18 0\n\u20130.02\n\n\u20130.015\n\n\u20130.01\n\n\u20130.005A\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.005\n\n0.01\n\n0.015\n\n0.02\n\n0.025\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18\n\n0\n\u20130.04\n\n\u20130.03\n\n\u20130.02\n\n\u20130.01\n\nA\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.01\n\n0.02\n\n0.03\n\n0.04\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18 0\n\u20130.04\n\n\u20130.03\n\n\u20130.02\n\n\u20130.01A\nm\n\npl\nitu\n\nde\n (m\n\nm\n)\n\n0\n\n0.01\n\n0.02\n\n0.03\n\n0.04\n\n0.05\n\n2 4 6 8 10 12\nTime (s)\n\n14 16 18\n\n(G) (H)\n\n(I)\n(J)\n\nFIGURE 8.27\n(Continued)\n\nTable 8.8 Micropropulsion Test Results\n\nNumber\nof Units\n\nMaximum\nAmplitude\n(\u00b5m)\n\nSimple\nPendulum\nAmplitude (\u00b5m)\n\nMeasurement\nError\n\nAverage Single-\nHole Impulse\n(\u00b5Ns)\n\n3 14.43 1.61 0.1116 7.2169\n3 12.31 1.56 0.1267 6.15663\n3 9.12 1.64 0.1798 4.5612\n4 19.87 1.13 0.0569 7.4532\n4 20.56 0.7 0.0340 7.7121\n4 19.19 1.59 0.0829 7.1982\n5 26.82 2.06 0.0768 8.0481\n5 24.93 1.64 0.0658 7.4810\n5 36.16 1.81 0.0501 10.8509\n7 43.63 5.39 0.1235 9.3518\n\n8.4 Test of Micropropulsion 337\n\n\n\nReferences\n[1] D.W. Youngner, S.T. Lu, E. Choueiri, et al., MEMS mega-pixel micro-thruster arrays for small\n\nsatellite stationkeeping, in: 14th Annual/USU Conference on Small Satellites, AIAA, SSC00-\nX-2, Logan, UT, 2000.\n\n[2] C. Rossi, M.D. Rouhani, D. Esteve, Prediction of the performance of a Si-micromachined\nmicrothruster by computing the subsonic gas flow inside the thruster, Sens. Actuators A 87\n(2000) 96?104.\n\n[3] G.P. Sutton, O. Biblarz, Rocket Propulsion Elements, John Wiley & Sons, Inc., New York,\n2001.\n\n[4] F. Tang, Theoretical and experimental study of a silicon-based microthruster. Thesis,\nTsinghua University, 2003.\n\n[5] http://www.sstl.co.uk/documents/SNAP-1%20Propulsion.pdf.\n\n[6] C. Underwood, G. Richardson, J Savignol, SNAP-1: a low cost modular COTS-based nano-\nsatellite\u2014design, construction, launch and early operations phase, in: 15th AIAA/USU\nConference on Small Satellites, SSC01-VI-7, 2001.\n\n[7] R.L. Burton, P.J. Turchi, Pulsed plasma thruster, J. Propul. Power 14 (5) (1998) 716?735.\n[8] G. Spanjers, New satellite propulsion system has mass below 100 grams. ,http://www.afrl-\n\nhorizons.com/Briefs/Dec01/PR0109.html., 2003.\n\n[9] R. Leach, K.L. Neal, Discussion of micro-newton thruster requirements for a drag-free\ncontrol system, in: 16th Annual/USU Conference on Small Satellites, SSC02-VIII-1, 2002.\n\n[10] http://www.centrospazio.cpr.it/FEEPPrinciple.html\n\n[11] S. Marcuccio, A. Genovese, M. Andrenucci, Experimental performance of field emission\nmicrothrusters, J. Propul. Power 14 (1998) 774?781.\n\n[12] R.L. Bayt, Analysis, fabrication and testing of a MEMS-based micropropulsion system. Ph.D.\nThesis of MIT, 1999.\n\n[13] J. Anderson, J. Blandino, J. Brophy, et al., Phase-change micro-thrusters. ,http://www.\nislandone.org/APC/Micropropulsion/01.html., 2003.\n\n[14] X.Y. Ye, F. Tang, H.Q. Ding, et al., Study of a vaporizing water micro-thruster, Sens.\nActuators A 89 (1?2) (2001) 159?165.\n\n[15] S.W. Jason, H. Helvajjian, W.W. Hansen, et al., Microthrusters for nanosatellites, in: The\n2nd International Conference on Integrated Micro Nanotechnology for Space Applications,\nPasadena, CA, April 11?15, 1999.\n\n[16] F.M. Pranajaya, M. Cappelli, Progress on colloid micro-thruster research and flight testing.\nReach Report, 1999, pp. 1?8.\n\n[17] M. Martin, H. Schlossberg, J. Mitola, et al., University nanosatellite program. IAF\nSymposium, Redondo Beach, CA, April 19?21, 1999, pp. 1?8.\n\n[18] K. Luu, M. Martin, M. Stallard, et al., University nanosatellite distributed satellite capabili-\nties to support TechSat 21, in: 13th AIAA/USU Small Satellite Conference, Logan, UT,\nAugust 23?26, 1999.\n\n[19] D. Teasdale, Solid propellant microrockets. Master Thesis of UCB, 2000.\n\n[20] H. David, W. Siegfried, B. Ronald, et al., Digital micropropulsion, Sens. Actuators A 80 (2)\n(2000) 143?154.\n\n[21] C. Rossi, Micropropulsion for space: a survey of MEMS-based micro thrusters and their\nsolid propellant technology. Research Report, CNRS, France, 2003, p. 274.\n\n[22] Z. Yu, Y. Lu, Heat Transfer Theory, Higher Education Press, Beijing, China, 1995.\n\n[23] L. Hou, Composite Solid Propellant, Aerospace Press, Beijing, China, 1992.\n\n338 CHAPTER 8: Micropropulsion\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref2\nhttp://www.sstl.co.uk/documents/SNAP-1%20Propulsion.pdf\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref3\nhttp://www.afrlhorizons.com/Briefs/Dec01/PR0109.html\nhttp://www.afrlhorizons.com/Briefs/Dec01/PR0109.html\nhttp://www.centrospazio.cpr.it/FEEPPrinciple.html\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref4\nhttp://www.islandone.org/APC/Micropropulsion/01.html\nhttp://www.islandone.org/APC/Micropropulsion/01.html\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref8\n\n\n[24] Z. Zheng, Solid Rocket Propellant, National University of Defense Technology Press,\nBeijing, China, 1981.\n\n[25] Key Laboratory of Explosive Fire, Fire dynamite manual, 1980.\n\n[26] A. Dalvina, in: D. Zhang (Ed.), Technology of Solid Rocket Propellant, Aerospace Press,\nBeijing, China, 1997.\n\n[27] J. Zhang, Solid Propellant Chemistry and Technology, National University of Defense\nTechnology Press, Beijing, China, 1987.\n\n[28] C. Fan, F. Li, A study on igniter to shorten ignition delay time for micro-solid propellants\nrocket motor, J. Propul. Technol. 3 (1995) 42?45.\n\n[29] E.R.G. Eckert, R.M. Drake, Analysis of Heat and Mass Transfer, McGrawHill Book Co,\nTokyo, 1972.\n\n[30] X. Liu, N. Fan, K. Li, The state-of-the-art and development tendencies of the thrust measure-\nment, Obs. Control Technol. 23 (5) (2004) 18?20.\n\nReferences 339\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00008-4/sbref14\n\n\nCHAPTER 9\n\nMagnetometer Technology\n\n9.1 SUMMARY\n\n9.1.1 Concept, Function, and Application of Magnetometers\nThe magnetometer, also known as a magnetic sensor, is a sensor for measuring\nmagnetic induction (magnetic field intensity), which is an important sensor\ncomponent in all types of aircraft and spacecraft. It also has been widely used\nin other fields, such as industry, agriculture, national defense, as well as biol-\nogy, medicine, aerospace, interplanetary research, etc., and currently almost no\nfield of technology is immune from magnetic field measurement [1,2].\n\nThe magnetometer plays a more important role in the development, research,\noperation, management, and maintenance of defense equipment and weapons.\nFor example, magnetic sweeping, ship degaussing, weapons search, magnetic\nwave communication, magnetic detection, magnetic guided missiles, as well as\nunderwater mines, landmines, bomb detectors, and magnetic navigation, etc.,\nare all inseparable from magnetic field measurement techniques. In addition,\nthe magnetometer has the characteristic that other types of sensors do not have\nof being able to work normally under severe and limited conditions.\n\nIn the field of aeronautics, the magnetometer can be used to measure the\ngeomagnetic field vector information of the position of the aircraft body,\nsuch as airplanes and satellites. And, according to the reference model for the\nEarth\u2019s magnetic field and local magnetic field, the angle information of a\ncertain precision can be obtained through an algorithm, therefore, the mag-\nnetometer is widely used in aircraft attitude determination systems, especially\nin microsatellites, such as nanosatellites and picosatellites, etc. [3,4].\n\n9.1.2 Principle and Classification of Magnetometers\nMagnetometers can be classified according to different criteria.\n\nAccording to its physical effects, magnetometers can be classified as follows:\nsensors made according to Faraday\u2019s electromagnetic induction law are called\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00009-6\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n341\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00009-6\n\n\ninduction magnetometers; magnetometers working by the principle that cur-\nrent in the magnetic field can generate a Lorentz force are called magnetic\nmagnetometers; where the resistivity of the conductor changes in the mag-\nnetic field, this type of sensor is called a magnetoresistive magnetometer;\nmagnetometers based on the Faraday magneto-optical effect are called\nmagneto-optical magnetometers, such as the optical pump magnetometer;\nmagnetic sensors based on the Josephson effect are called superconducting\nquantum interference devices (SQUID), etc. [2].\n\nMore often, from the point of view of the detection technology, classification\ncan be carried out according to different measuring methods. There are similar-\nities as well as differences between this classification and the classification\nabove. Some magnetometers\u2019 physical effects are the same, but they are differ-\nent in their detection method, which is because the magnetic field measuring\nmethods are built on the basis of various physical effects and physical phe-\nnomena related to the magnetic field. There are dozens of methods to measure\nthe magnetic field at present. Some of these are basic, widely used, and have\nbroad development and can be divided into the following types: force and\nmoment method, measuring by the Lorentz force of magnet or carrying fluid\nacting in the magnetic field; electromagnetic induction method, based on\nFaraday\u2019s law of induction, can measure DC, AC, and pulse magnetic fields,\nusually including a ballistic galvanometer, flux meter, electronic integrator,\nrotation coil magnetometer, vibrating coil magnetometer, etc.; Hall effect\nmethod; magnetoresistance effect method; magnetic resonance method,\nweakly connected superconducting effect method (SQUID); magnetic flux gate\nmethod; magneto-optical method; magnetostrictive method; etc. [5?7].\nThey can also be classified in regard to some other characteristics.\n\nAccording to the ability to measure the vector information of the magnetic\nfield, there are vector sensors which are available to measure the magnetic\nfield along the magnetometer sensitivity axis, and scalar (total) sensors,\nwhich can only measure the magnitude of the magnetic-field vector.\n\nThere are also point field sensors that can measure a point of magnetic field\ninformation in space and magnetometers that can only measure the average\nmagnetic field information in a certain region in space, which is related to the\nsize of the sensitive element of the magnetometer. However, there are no uni-\nform criteria for this classification. If it is small enough for the size of the sen-\nsitive direction of the sensitive element compared to the range measurement,\nwe can consider that it is capable to measurement as a point magnetic field.\n\nIn addition, there is another important classification method, which is based on\nthe sensitive range and the sensitive resolution of various specific magnet-\nometers. The magnetic field to be measured can generally be divided into three\n\n342 CHAPTER 9: Magnetometer Technology\n\n\n\ncategories as follows: weak magnetic field (,1 mGs [0.1 nT]); medium mag-\nnetic field (1 mGs?10 Gs); strong magnetic field (. 10 Gs) [8]. This classifica-\ntion is based on the intensity of the geomagnetic field. Considering the needs of\nthe task, magnetometers that measure the above magnetic fields are also divided\ninto three types: high-sensitivity magnetometers; medium-sensitivity magnet-\nometers; and low-sensitivity magnetometers. Fig. 9.1 and Table 9.1 compare the\nsensitivities and applications of some major magnetometers.\n\nTable 9.2 compares various types of magnetic field measurement methods.\n\n9.2 GEOMAGNETIC FIELD MODEL\n\nThe devices used to obtain satellite attitude are mainly inertial measurement\nunits (IMUs), GSPS, magnetometers, sun sensors, infrared earth profilers, star\ntrackers, etc. The devices which satisfy the requirements of microsatellites\nsuch as nano- or picosatellites are mainly miniature inertial measurement\n\nAnisotropic magnetoresistive\n\nFlux-gate\n\nMagnetotransistor\n\nMagnetodiode\n\nMagneto-optical sensor\n\nGiant magnetoresistive\n\nHall-effect sensor\n\nSquid\n\nFiber-optic\n\nOptically pumped\n\nNuclear procession\n\nSearch-coil\n\nMagnetic sensor\n\ntechnology\n\nDetectable field range (Gauss)*\n\n10\n\u20138\n\n10\n\u20134\n\nEarth\u2019s field\n\n * Note: 1 Gauss (Gs) \u2013 10\u20134 Tesla (T) \u2013 105 Gamma (Y)\n\n10\n0\n\n10\n4\n\n10\n8\n\nFIGURE 9.1\nSensitive range of different types of magnetometer.\n\n9.2 Geomagnetic Field Model 343\n\n\n\nunits (MIMUs), sun sensors, and MEMS magnetometers (MEMSMAGS).\nGSPS can also obtain the information about a satellite\u2019s attitude by means of\ndifference, but the installation of two GSPS receivers for differential solution\nrequires a long distance, which is not suitable for microsatellites. Infrared\nEarth profilers and star sensors use optical measurement, and the volume of\nthe optical structure is too large to be used in the microsatellite field. The\nattitude determination accuracy can reach less than 0.5?2 degrees measuring\nby MEMSMAGS, and can reach less than 0.05 degree by the joint attitude\ndetermination technique of MIMU and MEMSMAGS [9?11].\nMiniature magnetometers measure the instant geomagnetic field vector\ninformation under the satellite body coordinate system, and they need to\nestablish the satellite attitude kinematics and dynamics model to be com-\npared with the geomagnetic reference model (WMM: world magnetic\nmodel), and then through information processing the satellite attitude\ninformation can be obtained. The extended Kalman filter (EKF) or sam-\npling Kalman filter (UKF) are generally used. The principles are shown in\nFig. 9.2.\n\nHere it is necessary to involve several aspects of content, which are mainly\nthe status of the geomagnetic reference model and the research status of min-\niature magnetometers. Fig. 9.3 illustrates the current geomagnetic field model\npublished by IAGSA (the International Airborne Geophysics Safety\nAssociation) (IGSRF2000: from 2000 to 2005; the model of 2005?2010 has\nalso been published\u2014IGSRF10.)\n\nTable 9.1 Classification and Main Applications of Magnetometers [8]\n\n1025 Gs 1 Gs\n\nCategory 3 Category 2 Category 1\n\nHigh Sensitivity Medium Sensitivity Low Sensitivity\n\nDefinition\n? Measuring field gradients or\n\ndifferences due to induced (in\nEarth\u2019s field) or permanent dipole\nmoments\n\nDefinition\n? Measuring perturbations in the\n\nmagnitudes and/or direction of\nEarth\u2019s field due to induced or\npermanent dipoles\n\nDefinition\n? Measuring fields\n\nstronger than the\nEarth\u2019s magnetic field\n\nMajor applications\n? Brain function mapping\n? Magnetic anomaly detection\n\nMajor applications\n? Magnetic compass\n? Munitions fuzing\n? Mineral prospecting\n\nMajor applications\n? Noncontact switching\n? Current measurement\n? Magnetic memory\n\nreadout\nMost common sensors\n\n? SQUID gradiometer\n? Optically pumped magnetometer\n\nMost common sensors\n? Search-coil magnetometer\n? Flux-gate magnetometer\n? Magnetoresistive magnetometer\n\nMost common sensors\n? Search-coil\n\nmagnetometer\n? Hall-effect sensor\n\n344 CHAPTER 9: Magnetometer Technology\n\n\n\nTable 9.2 Several Typical Magnetic Field Measurement Methods in Conventional Scales [1]\n\nMeasurement\nMethods\n\nPerformance Index Advantages and Disadvantages\n\nResolution\nMeasurement\nAccuracy Measuring Range Advantages Disadvantages\n\nMagnetic\nresonance\nmethod\n\nHigh\nresolution,\nup to pT\nstage\n\nThe accuracy of the\nsimple device can reach\n13 1024; the accuracy\nof sophisticated\nequipment can reach\n13 1025 after certain\nmeasures\n\nThe lowest magnetic field\nintensity that can be\nmeasured is 13 1024 T,\nwhich can reach a limit\nof 13 1027 T with the\nelectron injection\ndynamic polarization\nmethod\n\nNarrow resonance\nline; High stability;\nAn order of\nmagnitude can be\nimproved when\nmeasuring weak\nmagnetic field.\nThe most accurate\nmethod in the\nabsolute\nmeasurement\nmethods of magnetic\nfield at present\n\nWhen measuring in the\nwhole measurement\nrange, it needs change\nto several kinds of\ndifferent resonance\nfrequency probes, which\nare not easy to carry out\nin continuous\nmeasurement.\nComplex structure;\nLarge size\n\nHall effect\nmethod\n\nLow, about\n100 ?T\n\n13 1024 About 1310\n24 T to 10 T Available to measure\n\nat extremely low\ntemperatures\n(4.2K) and extremely\nhigh temperatures\n(573K).\nHigh sensitivity;\nGood linearity;\nSmall probe size.\nVery small,\nIC process\n\nZero error, Hall voltage\nand internal resistance\nhave temperature\ncoefficient and can be\naffected by the input\ncurrent and the uneven\nelectrical potential and\nthe self-excited zero\npotential when\nmanufacturing\n\nElectromagnetic\ninduction method\n\nHigh, about\n10 nT\n\n13 1024 to 13 1025 From zero to the\npossible maximum\n\nAvailable to measure\nthe abnormal\nmagnetic field;\nWide measuring\nrange;\nGood linearity;\nAvailable to carry out\npoint measurement to\na constant magnetic\nfield\n\nWhen measuring a\nconstant magnetic field,\nthe coil must move in the\nmagnetic field.\nLarge size\n\nContinued\n\n\n\nTable 9.2 Several Typical Magnetic Field Measurement Methods in Conventional Scales [1] Continued\n\nMeasurement\nMethods\n\nPerformance Index Advantages and Disadvantages\n\nResolution\nMeasurement\nAccuracy Measuring Range Advantages Disadvantages\n\nMagnetic flux\ngate method\n\nHigh, about\n10 pT\n\n13 1023 (resolution of\nmeasuring the magnetic\nfield below 1023 can\nreach 1028 2 1029 T)\n\nMeasure the magnetic\nfield under 0.01 T\n\nHigh sensitivity;\nSimple structure;\nReliable;\nCan be made very\nsmall\n\nOptical pumping\nmethod\n\nLow, about\n?T\n\n13 10210 The range of magnetic\nfield is\n53 1026 2 13 1023 T\n\nHigh sensitivity;\nSmall size;\nContinuous\nmeasurement and\nabsolute\nmeasurement;\nHave direct reading\nand automatic\nrecording features\n\nOnly able to measure the\nscalar intensity, but\nunable to measure the\ncomponent value of the\nmagnetic field vector\n\nMagneto\nresistance\nmethod\n\nRelatively\nhigh,\n10 nT?1 nT\n\n13 1023 High sensitivity; low\npower consumption;\nSimple structure;\nIC process (have\npotential to develop)\n\nSuperconducting\nquantum\ninterference\ndevice method\n\nThe\nresolution is\n13 10214 T\nhope to\nreach over\n13 10215 T\n\nMagnetic field\nmeasurement method\nwith the highest\nsensitivity up to date.\nIt has a unique\nadvantage in the\nweak magnetic field\nmeasurement\n\nAn of 10 \u00c5 is clamped\nbetween the two\nsuperconductors of the\ninterferometer, which is\ndifficult to achieve;\nLarge size and structure;\nNeed low temperature of\n4K; High cost\n\n\n\nAt the same time, the IAGSA also published the calculation theory and\nmethod for the geomagnetic vector of an arbitrary point. The nominal mag-\nnetic field strength is 0.5 Gs (50,000 nT). While in the Earth\u2019s surface, the\nmaximum magnetic field strength is about 0.7 Gs, the minimum is about\n0.2 Gs. In the absolute position of 120 degrees east longitude, 34 degrees\nnorth latitude, the magnetic field strength for the year of 2000 was as fol-\nlows: the total strength was 47,852 nT, the horizontal intensity was\n30,713 nT, the declination was 25.16 degrees, and the magnetic inclination\nwas 50.07 degrees. The predetermined height of the miniature space weapon\nplatform is about 400?800 km, which requires the magnetometer measuring\nrange to be roughly between 260 and 160 ?T. The average annual rate of\n\nMicromagnetic\n\nsensor\nExtended Kalman\n\nfilter\n\nAttitude dynamics/\n\nkinematic model\n\n(Bex Bey Bez)(? ? ?)\n\n( ? ? ?)(Bx, By, Bz)\n\nReference model of\n\ngeomagnetic field\n\n(?  ?  ?  )x y y\n\nFIGURE 9.2\nPrinciple diagram of miniature magnetometer attitude determination.\n\n20,000 30,000 40,000 50,000\n\n[nT] [%]\n\n60,000 70,000 \u20130.4 \u20130.3 \u20130.2 \u20130.1 0.0 0.1 0.2\n\nFIGURE 9.3\nCurrent geomagnetic field model and geomagnetic field intensity.\n\n9.2 Geomagnetic Field Model 347\n\n\n\nchange of the geomagnetic field is approximately within 6 40 nT, and the\naverage annual rates of declination and magnetic inclination are approxi-\nmately within 6 30.\n\nSupposing the geomagnetic field is caused by the internal source, the geo-\nmagnetic potential function can be expressed as the form of Gaussian spheri-\ncal harmonic function:\n\nV\u00f0r; ?;?; t\u00de5RE\nXN\nn51\n\nRE\nr\n\n? ?n11 Xn\nm50\n\ngnm\u00f0t\u00decos\u00f0m?\u00de1 hnm\u00f0t\u00desin\u00f0m?\u00de\n? ?\n\nPmn \u00f0?\u00de\n\nwhere RE is the average radius of the Earth, 6371.2 km; r is the geocentric dis-\ntance, km; ? is the colatitude, complementary value of geographical latitude,\n90 degrees latitude; ? is longitude; gnm, hnm is the Gaussian coefficient; Pmn \u00f0?\u00de\nis the standardized Legendre polynomials of N order and M degree.\n\nThe magnetic flux density function B\u00f0r; ?;?; t\u00de of the geomagnetic field can\nbe expressed as:\n\nB\u00f0r; ?;?; t\u00de52rV\u00f0r; ?;?; t\u00de\n\nIn the spherical coordinate system \u00f0r; ?;?\u00de, it can be expressed as:\n\nBr\u00f0r; ?;?; t\u00de52\n@V\u00f0r; ?;?; t\u00de\n\n@r\n\n5\nXN\nn51\n\n\u00f0n1 1\u00de\n?\nRE\nr\n\n?n12Xn\nm50\n\ngnm\u00f0t\u00decos\u00f0m?\u00de1 hnm\u00f0t\u00desin\u00f0m?\u00de\n? ?\n\nPmn \u00f0?\u00de\n\nB?\u00f0r; ?;?; t\u00de52\n1\nr\n@V\u00f0r; ?;?; t\u00de\n\n@?\n\n5\nXN\nn51\n\n?\nRE\nr\n\n?n12Xn\nm50\n\ngnm\u00f0t\u00decos\u00f0m?\u00de1 hnm\u00f0t\u00desin\u00f0m?\u00de\n? ? dPmn \u00f0?\u00de\n\nd?\n\nB?\u00f0r; ?;?; t\u00de52\n1\n\nrsin?\n@V\u00f0r; ?;?; t\u00de\n\n@?\n\n5\n1\n\nsin?\n\nXN\nn51\n\n?\nRE\nr\n\n?n12Xn\nm50\n\nm gnm\u00f0t\u00decos\u00f0m?\u00de1 hnm\u00f0t\u00desin\u00f0m?\u00de\n? ?\n\nPmn \u00f0?\u00de\n\n8>>>>>>>>>>>>>>>>>>>>>>>>>>>><\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>:\n\nWe obtain the B information based on the spherical coordinate system\n\u00f0r; ?;?\u00de from the above formula, but what we are interested in is the informa-\ntion value based on the geographic coordinate system \u00f0?;?; h\u00de (geographic\nlatitude, longitude, and altitude). Therefore, we need to perform coordinate\nconversion.\n\n348 CHAPTER 9: Magnetometer Technology\n\n\n\nFirst, we can get the values of the point in \u00f0r; ?;?\u00de from those in \u00f0?;?; h\u00de:\n\ncos ?5\nsin?ffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n\nQ2cos2?1 sin2?\np\n\nsin ?5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n12 cos2?\n\np\n\nQ5\nh\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\na2 2 \u00f0a2 2 b2\u00desin2?\n\np\n1 a2\n\nh\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\na2 2 \u00f0a2 2 b2\u00desin2?\n\np\n1 b2\n\na: semi-major axes; 6378:137 km\n\nb: semi-minor axes; 6356:7523142 km\n\n8>>>>>>>>>>>>><\n>>>>>>>>>>>>>:\n\nr2 5 h2 12h\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\na2 2 \u00f0a2 2 b2\u00desin2?\n\nq\n1\n\na4 2 \u00f0a4 2 b4\u00desin2?\na2 2 \u00f0a2 2 b2\u00desin2?\n\nGet \u00f0Br ;B?;B?\u00de, then use:\n\ncos ?5\nh1\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\na2 cos2?1 b2 sin2?\n\np\n\nr\n\nsin ?5\n\u00f0a2 2 b2\u00decos? sin?\n\nr\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\na2cos2?1 b2 sin2?\n\np\n\n?5?1 ?2\n?\n2\n\n8>>>>>>>>><\n>>>>>>>>>:\nThe magnetic flux density component under the local coordinate system\n(geographical coordinates) is obtained:\n\nBX\u00f0?;?; h; t\u00de52 cos?B?\u00f0r; ?;?; t\u00de2 sin?Br\u00f0r; ?;?; t\u00de\nBY \u00f0?;?; h; t\u00de5B?\u00f0r; ?;?; t\u00de\nBZ\u00f0?;?; h; t\u00de5 sin?B?\u00f0r; ?;?; t\u00de2 cos?Br\u00f0r; ?;?; t\u00de\n\n8<\n:\nWe can also get:\n\n1. Local horizontal magnetic flux density:\n\nBH\u00f0?;?; h; t\u00de5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nB2X\u00f0?;?; h; t\u00de1B2Y \u00f0?;?; h; t\u00de\n\nq\n\n2. Local total magnetic flux density of that point:\n\nBF\u00f0?;?; h; t\u00de5\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\nB2H\u00f0?;?; h; t\u00de1B2Z\u00f0?;?; h; t\u00de\n\nq\n\n3. Magnetic declination:\n\nBD\u00f0?;?; h; t\u00de5 tan21\nBY \u00f0?;?; h; t\u00de\nBX\u00f0?;?; h; t\u00de\n\n? ?\n\n4. Magnetic inclination:\n\nBI\u00f0?;?; h; t\u00de5 tan21\nBZ\u00f0?;?; h; t\u00de\nBH\u00f0?;?; h; t\u00de\n\n? ?\n\n9.2 Geomagnetic Field Model 349\n\n\n\n5. Raster change:\n\nBG\u00f0?;?; h; t\u00de5 BD\u00f0?;?; h; t\u00de2?; ?$0BD\u00f0?;?; h; t\u00de1?; ?,0\n?\n\n9.3 THE APPLICATION OF A MICROMAGNETOMETER\nIN NANOSAT\n\nLAGSA published the theory and method of computation of the geomag-\nnetic vector (including the three-axes components, magnetic declination,\nand magnetic inclination). The nominal geomagnetic intensity was 0.5 Gs\n(50,000 nT). The geomagnetic intensity ranged from about 0.2 Gs to about\n0.7 Gs over the surface of the Earth. The total geomagnetic intensity, hori-\nzontal geomagnetic intensity, magnetic declination, and magnetic inclina-\ntion were 47,852 nT, 30,713 nT, 25.16 degrees, and 50.07 degrees,\nrespectively, in an absolute location on 30?N, 120?E, and 100 km altitude\n(Fig. 9.4).\n\n\u2013100\u2013200\n\n\u2013100\n\n100\n\n200\n\n1.5\n\n2\n\n2.5\n\n3\n\n4\n\n5\n\n3.5\n\n4.5\n\nG\ne\n\no\nm\n\na\ng\n\nn\ne\n\nti\nc\n f\nie\n\nld\n a\n\nm\np\n\nlit\nu\n\nd\ne\n\n (\nn\n\nT\n)\n\nMaximum amplitude: 0.4992 Gs\n\nMinimum amplitude: 0.1802 Gs\n\n0\n\nLongitude\n\u201350\n\n0\n\n50\n\n2\n\n2.5\n\n3\n\n3.5\n\n4\n\n4.5\n\nThe distribution curved surface of geomagnetic field\u2019s amplitude at 600 km atitude\nx 10\n\n4\n\nx 10\n4\n\nLatitude\n\nFIGURE 9.4\nThe magnetic field distribution at 600 km altitude.\n\n350 CHAPTER 9: Magnetometer Technology\n\n\n\nThe orbit height of a microsatellite is about 600 km. We can obtain the dis-\ntribution of the geomagnetic field vector amplitude on the day of December\n17, 2008, as shown in Fig. 9.1, using the WMM2005 model in MATLAB. The\namplitude ranged from 0.1802 to 0.4992 Gs. The average annual rate of geo-\nmagnetic field was less than 6 40 nT, and the average annual rates of mag-\nnetic declination and magnetic inclination were less than 6 30.\n\nThe measurement of altitude of the magnetometer is designed between 260\nand 160 ?T based on the above model. According to the survey of existing\ncommercial micromagnetometers, several types of micromagnetometers\ncould barely reach the application conditions of the microsatellite.\n\nMagnetometers are usually made up of a sensitive component, conversion\ncomponent, and other components (including power supply part, signal con-\nditioning part, etc.). The sensitive component is the kernel of the sensor. It\nperceives the magnetism of the environmental magnetic field directly, and\noutputs another physical quantity which has a relationship with the mea-\nsured magnetism. The conversion component, also known as the converter,\ndoes not perceive the measured quantity generally, but converts the sensor\u2019s\noutput quantities to electrical output. The signal conditioning part can con-\nvert the electrical parameter (voltage, current, etc.) into an electrical signal,\nwhich is useful, and can be easily displayed, recorded, processed, and con-\ntrolled. Commonly used circuits include the weak signal amplifier, electric\nbridge, signal generator, modulation and demodulation circuit, filter and\nphase-shifter circuit, impedance matching, and conversion circuit, etc.\n\nThe APS Model 534 minifluxgate magnetometer from American Physical\nSociety (APS) is shown in Fig. 9.5.\n\nFIGURE 9.5\nAPS Model 534.\n\n9.3 The Application of a Micromagnetometer in Nanosat 351\n\n\n\nThis minimagnetometer is machined by precision machining technology and\nhas been used in aerospace application, such as in the NS-1 Nanosat. It can\nmeasure the three-axes geomagnetic field with an analogue signal output and\nhas a temperature measurement model through reconstruction.\n\nThe technical index of this minimagnetometer is shown in the following\ntable.\n\nMeasurement range 21 Gs B 11 Gs\nNoise ,13 1026 Gs RMS/vHz\nBandwidth DC to 400 Hz (23 dB)\nLinearity 60.1% at full scale\nSensitivity 4.00 V/Gs\nDimensions 203 203 70 mm\nWeight 30 gsm\nPower 6 5 to 6 12 VDC at 20 mA\n\n9.4 AMR MAGNETOMETER\n\n9.4.1 The Principles and Realization of AMR\nMagnetometers\nThe system principle block diagram is shown in Fig. 9.6. The magnetometer\nis composed of single-axis and two-axes magnetometer chips based on the\n\nThe probe\nDifferential\n\namplifiction\nAD conversion\n\nSignal\n\ncontrol\n\nSystem\n\ninterface\n\nFIGURE 9.6\nPrinciple diagram of the MAMRM three-axes magnetometer module.\n\n352 CHAPTER 9: Magnetometer Technology\n\n\n\nAMR (anisotropic magnetoresistance) principle, which can be purchased, to\nmeasure the three-axes geomagnetic field intensity. It can amplify the ana-\nlogue signal accurately through differential amplification and has a digital\noutput through AD conversion.\n\nFour round principle designs are performed according to the task demands\nof the microsatellite. Research on real objects is conducted in three rounds\n(Ver1, Ver2, Ver3), as shown in Fig. 9.7.\n\nThe magnetometer module is composed of a magnetic sensor component\nand other relevant electronics. Its circuit board is placed outside of the satel-\nlite through an installing box. Its function is for sensing the magnetic vector,\ngenerating an analogue voltage output corresponding to the magnetic vector.\nThe circuit contains an internal resistance bridge using magnetic-resistance\neffect, converting the magnetic quantities to voltage output through a differ-\nential instrumentation amplifier, a low-pass filter, and an operational ampli-\nfier (op-amp) driver. In addition, a TTC (telecontrol telemetry subsystem)\n\nFIGURE 9.7\n(A) The MAMRM three-axes magnetometer version 1. (B) The MAMRM three-axes magnetometer version 2. (C) The MAMRM three-axes\nmagnetometer version 3.\n\n9.4 AMR Magnetometer 353\n\n\n\ntemperature measurement circuit is also placed in it. The power supply\n(15 V) of the TTC temperature measurement circuit is provided by\nPDM, the analogue voltage output transfers to the TTC module directly\nthrough a wire.\n\nThe magnetometer circuit is composed of a TTC temperature measurement\nchip, a voltage regulator, an AMR chip, and an analogue signal conditioning\ndevice. The TTC temperature measurement chip used is an AD22100 chip.\nBecause the AMR chip (HMC1001/1002 from Honeywell) has a resistance\nbridge structure inside which will affect the output if the power is not stabi-\nlized, it needs a voltage regulator to stabilize the voltage for the 15 V power\nsupply. The signal conditioning device includes an instrumentation amplifier,\nlow-pass filter, and op-amp. The differential analogue output of the AMR\nmagnetometer single-ended outputs to the low-pass filter through preampli-\nfying by an instrumentation amplifier to filter out noise, then outputs to the\nsatellite\u2019s MUX port by an op-amp driven cable. Referencing to the magnetic\nfield direction control circuit, the pulse signal (controlled by ADCS), which\ncan make the magnetic sensor\u2019s magnetic field direction reverse, improves\nthe measurement precision through twice measurement forward and inverse,\nrespectively, to the same direction. In addition this can also prevent acciden-\ntal magnetization by an external magnetic field reducing the magnetic mea-\nsurement performance (Fig. 9.8).\n\nDuplex, +5 V, analogue output\nTTC\n\ntemperature\n\nsensor Controlled power\n\u2014four-channel:\n\n+5 V, \u00b115 V, AGND\n\nAnalogue output\u2014\n\n4-channel: X-axis,\n\nY-axis, Z-Axis, AGND\n\nAnalogue output\u20137\nchannel: X-axis,\nY-axis, Z-Axis,\n\nand AGND\n\nAnalogue\n\nconditioning\n\ncircuit\n\n(amplifier-\n\nfilter)\n\nMUXADC\n\nMR_Probe\n\n5   :  +5 V, \u00b115 V\n\nAGND, DGND\n\n1-channel\ncontrol signal\n\nReference\n\nmagnetic\n\nheating\n\ncontrol\n\ncircuit\n\nPIO\n\nPDM\n\nTTC\n\nMCU\n\nUART\n\nMIMU\n\nOBC\n\nFIGURE 9.8\nSchematic diagram of a magnetometer module.\n\n354 CHAPTER 9: Magnetometer Technology\n\n\n\n9.4.2 Calibration of the System Main Parameters\nThe detection system can measure the main parameters of the magnetometer\nmodule, such as sensitivity and zero deviation. The detection system is\nmainly composed of a 3d Helmholtz coil and its drive and current monitor-\ning circuit are shown in Fig. 9.9.\n\nUsing an existing fluxgate magnetometer whose precision is 1 nT as standard,\nthe external magnetic field can be shielded by adjusting the value and direc-\ntion of the electric current in three axes. And adjusting the current linear in\none direction can change the value and direction of the drive magnetic field\n(this magnetic field can be recorded by a standard magnetometer). Then the\noutput voltage of the magnetometer module is recorded and the three-axes cal-\nibration parameter of the magnetometer module can be obtained through lin-\near fitting. The input and output curve of the X-axis are shown as Fig. 9.10:\n\nX-axis: B(nT)5 1896*V(V)1 6475, linearity: 0.9997 (Fig. 9.11).\n\n9.5 THE PRINCIPLES OF ORBIT AND ALTITUDE\nDETERMINATION USING A MAGNETOMETER\n\n9.5.1 Orbit Determination Using a Magnetometer\nThe geomagnetism can be applied in navigation for near-Earth satellites,\nwith improvement of the geomagnetic field model and the signal analysis\n\nStandard magnetometer\n\nMagnetometer to\n\nbe measured\n\nFIGURE 9.9\nParameter calibration test system.\n\n9.5 The Principles of Orbit and Altitude Determination Using a Magnetometer 355\n\n\n\nand processing technology [12]. Using a three-axes magnetometer to measure\nthe three-dimensional component and the change rate of the geomagnetic\nfield intensity vector, and using Kalman filtering technology to calculate the\nestimate of the position and speed of the satellite afterwards, the orbital ele-\nments can be acquired.\n\nThe system state equation is established by taking the position and velocity\nparameters X5 \u00f0x; y; z; _x; _y; _z\u00deT of the satellite to the system state parameters:\n\nMagnetometer\n\nHolder\n\nFIGURE 9.10\nCalibration for magnetometer parameters.\n\n\u20132 \u20131\n\n\u20131\n\n\u20130.5\n\n0\n\nx 105\n\n0.5\n\n1\n\n0 1 2 3 4 5 6 7\n\nBx vs. Vx\n\nFit 1\n\n8\n\nFIGURE 9.11\nLinear fitting of measured data in the X-axis.\n\n356 CHAPTER 9: Magnetometer Technology\n\n\n\n_X5 F\u00f0X; t\u00deX1W\nAfter linearization:\n\n? _X5\n@F\u00f0X; t\u00de\n@X\n\n????\nx5X?\u00f0k=k21\u00de\n\n?X1W5A\u00f0X; tk\u00de?X1W\n\nThe measurement model of the magnetometer:\n\ny\u00f0k\u00de5N\u00bdB\u00f0X\u00f0k\u00de; tk\u00de?1 v\u00f0k\u00de\nAfter discretization:\n\nZ\u00f0k\u00de5?y\u00f0k\u00de5 @N\u00f0B\u00de\n@X\n\n????\nX5X?\u00f0k=k21\u00de\n\n?X\u00f0k\u00de1V\u00f0k\u00de5H\u00f0k\u00de?X\u00f0k\u00de1V\u00f0k\u00de\n\nTherefore, the orbit determination module of a three-axes magnetometer is:\n\n?X\u00f0k\u00de5?\u00f0k; k2 1\u00de?X\u00f0k2 1\u00de1W\u00f0k\u00de\nZ\u00f0k\u00de5H\u00f0k\u00de?X\u00f0k\u00de1V\u00f0k\u00de\n\n?\n\nwhere ?\u00f0k; k2 1\u00de is the state-transition matrix, and H\u00f0k\u00de is the measurement\nmatrix. ?X?\u00f0k\u00de can be acquired through a Kalman filter, therefore the X\u00f0k\u00de at\ntime k is:\n\nX\u00f0k\u00de5 X?\u00f0k=k2 1\u00de1?X?\u00f0k\u00de\nThe orbital elements can be ascertained when acquiring the position and\nvelocity of the satellite in the geocentric inertial coordinate system at the\nmoment tk.\n\n9.5.2 Attitude Determination Using a Magnetometer\nBesides using a three-axes magnetometer to acquire position and velocity\nconditions with certain accuracy in order to determine satellite orbit ele-\nments, the magnetometer is mainly applied to determine satellite attitude. In\norder to acquire the satellite\u2019s attitude information, it is necessary to have\ninformation about the satellite orbit, namely the track number, to establish\nthe current orbit coordinate system.\n\nFor MEMSSAT, there are several ways to get the above information:\n\n1. Ground monitoring station and tracking system;\n2. The three-axes magnetometer to estimate orbit elements;\n3. The satellite-bone GSPS subsystem.\n\nA rough method of acquiring satellite attitude is using the satellite\u2019s current\nlocation parameters to obtain the local geomagnetic field intensity vector,\nand comparing with the vector measured by the satellite-borne three-axes\nmagnetometer, to acquire the altitude information at that moment.\n\n9.5 The Principles of Orbit and Altitude Determination Using a Magnetometer 357\n\n\n\nA more accurate method is to use the orbit elements of the magnetometer\nand the vector measured by the satellite-borne three-axes magnetometer to\nobtain the best attitude estimation through a Kalman filter.\n\nThe coordinate systems used in determining altitude include:\n\n1. The orbit coordinate system:\n1X0 (the motion direction of the satellite), 1Y0 (the normal direction\nof the orbital plane), 1Z0 (the direction from the geo-center to the\nsatellite).\n\n2. The satellite coordinate system:\n1X (the normal flight state) coinciding with the 1X0 direction, 1Y\n(the normal flight state) coinciding with the 1Y0 direction, 1Z (the\nstretch direction of the gravity gradient bar). The normal flight state\ncoincides with the 1Z0 direction.\nThe required direction the satellite points in when working normally\nis:\n\nThe orbit coordinate 1X, 1Y , 1Z coinciding with the orbit\ncoordinate 1X0, 1Y0, 1Z0.\n\nThe required precision of the determining altitude is:\nPitching: 1 degree (1?), rolling: 0:5 degree (1?), yaw: 1 degree (1?)\nBecause the MEMS satellite does not need to point to the Earth, and\n\nthen considering the altitude precision (better than 61 degree), the\npoor quality and the low power consumption, the magnetometer can\nbe used for determining altitude.\n\nReferring to the design of the NS2 1 magnetometer, a three-axes\nflux-gate magnetometer can be chosen to measure the component of\nthe Earth\u2019s magnetic field vector in the satellite coordinate system\naccording to the required point precision (1 degree in three axes).\n\nIn the period of low solar activity, using a magnetometer that has\nbeen calibrated, the measurement precision of satellite attitude angle\ncan reach below 0.5 degree (1?) for each axis. After the satellite\nlaunches into orbit and is in a state of rolling, we can still use the\nmagnetometer and the fast Kalman filter to provide the satellite\u2019s three-\naxes attitude angular rate relative to the orbit coordinate system. The\nin-orbit calibration algorithm can correct the offset error and\ninstallation error of the magnetometer in real-time.\n\nThe attitude dynamics equation of a satellite is:\n\nI _~?5 ~NGG 1 ~NM 1ND 2 ~?3 \u00f0I~?1~h\u00de2 _~h \u00f09:1\u00de\nwhere I is the inertia tensor the satellite relative to the center of mass;\n~NGG 5\n\n3?\nR3 Izz 2\n\nIxx 1 Iyy\n2\n\nh i\n\u00f0~z0U~z\u00de\u00f0~z0 3~z\u00de is the gravity gradient torque vector;\n\n~NM 5 ~M3~B is the magnetic torque vector; ~ND is attitude disturbance\n\n358 CHAPTER 9: Magnetometer Technology\n\n\n\ntorque vector; and ~h is the angular momentum vector of the reaction\nwheel.\nThe attitude kinematics equation of a satellite is:\n\n_q1\n_q2\n_q3\n_q4\n\n2\n664\n\n3\n7755 12\n\n0 ?oz 2?oy ?ox\n2?oz 0 ?ox ?oy\n?oy 2?ox 0 ?oz\n2?ox 2?oy 2?oz 0\n\n2\n664\n\n3\n775\n\nq1\nq2\nq3\nq4\n\n2\n664\n\n3\n775 \u00f09:2\u00de\n\nwhere ?ox ?oy ?oz ?T\n\t\n\nis the angular speed of the satellite relative to\nthe orbit coordinate system; and q1 q2 q3 q4 ?T\n\n\t\nis the quaternion\n\ndescribing the altitude of the satellite.\nThe Kalman filter algorithm estimate for the altitude angular rate is:\nAssuming the sampling period is Ts, making ?5 TsI21, using ~xk to\n\nrepresent the angular speed vector ~?\u00f0k\u00de the satellite relative to the\norbit coordinate system in the k-th sampling period, and defining\nthe system state covariance matrix as Pk 5 Ef~xkU~xTk g, the state vector\nspread as:\n\n~?xk11=k 5~?xk=k 1?uk;\n\nwhere uk is the magnetometer measurement (the magnetic moment\nvector with the satellite loaded) in the k-th sampling period.\nThe disturbance covariance matrix spread is:\n\nPk11=k 5 Pk=k 1Q\n\nwhere Q is the system noise covariance matrix.\nThe gain refresh is:\n\nKk11 5Pk11=kH\nT\nk11 Hk11Pk11=kH\n\nT\nk111R\n\n\t \n21\n;\n\nwhere R is the measure noisy covariance matrix.\n\nHk11 5Ts\n0 2?z\u00f0k\u00de ?y\u00f0k\u00de\n\n?z\u00f0k\u00de 0 2?x\u00f0k\u00de\n2?y\u00f0k\u00de ?x\u00f0k\u00de 0\n\n2\n4\n\n3\n5:\n\nThe system state refresh is:\n\n~?xk11=k11 5~?xk11=k 1Kk11 ~yk 2Hk11~?xk11=k\n? ?\n\n:\n\nThe covariance refresh is:\n\nPk11=k11 5 12Kk11Hk11\u00bd ?Pk11=k:\n\n9.5 The Principles of Orbit and Altitude Determination Using a Magnetometer 359\n\n\n\nThe real-time self-calibration algorithm of a magnetometer is shown\nas:\n\nThe vector error is defined as:\n\n~e\u00f0k\u00de5~ymodel\u00f0k\u00de2~ycalib\u00f0k\u00de5A\u00f0k\u00de~B0\u00f0k\u00de2 G\u00f0k\u00de~Bm\u00f0k\u00de1~b\u00f0k\u00de\nh i\n\n5A\u00f0k\u00de~B0\u00f0k\u00de2~?\nT \u00f0k\u00de~?\u00f0k\u00de~?T \u00f0t\u00de5 Bmx Bmy Bmz 1\n\n\t \n\n;\n\nwhere A\u00f0k\u00de is the altitude transform matrix from the orbit coordinate\nto the satellite coordinate in the k-th sampling period; G\u00f0k\u00de is the gain\nmatrix; ~B0\u00f0k\u00de is the magnetic vector in the k-th sampling period; ~Bm\u00f0k\u00de\nis the magnetometer measurement which has not been calibrated in\nthe k-th sampling period; and~b\u00f0k\u00de is the partial adjustment to be\nensured in the k-th sampling period.\n\nThe real-time self-calibration algorithm is:\n\nCalculate ~?\u00f0k\u00de and~e\u00f0k\u00de\nUpdate the gain vector: ~K \u00f0k\u00de5 P\u00f0k2 1\u00de~?\u00f0k\u00de ?1~?T\u00f0k\u00deP\u00f0k21\u00de~?\u00f0k\u00de\n\nh i21\nUpdate the parameter vector:~?\u00f0k\u00de5~?\u00f0k2 1\u00de1K\u00f0k\u00de~e\u00f0k\u00de\nUpdate the covariance matrix: P\u00f0k\u00de5 12K\u00f0k\u00de~?T\n\nh i\nP\u00f0k2 1\u00de=?.\n\nReferences\n[1] Z.L. Mao, Magnetic Field Measurement, Atomic Energy Press, Beijing, 1985.\n\n[2] Y.J. Zhao, K.C. Yang, Technology and Application of Amorphous Alloy Sensor, Huazhong\nUniversity of Science and Technology Press, Wuhan, 1998.\n\n[3] Z. You, Research on MEMS technology in Nanosat. The Final Report of 863 Project, 2001.\n\n[4] Z. You, The Technology Report About MEMS Satellite., Tsinghua University, Beijing, 2001.\n\n[5] R.S. Popovic, The future of magnetic sensors, Sens. Actuators A 56 (1996) 39?55.\n[6] M.J. Caruso, T. Bratland, C.H. Smith, R. Schneider, A New Perspective on Magnetic Field\n\nSensing, Honeywell, Inc., Morris Plains, NJ, 1998, p. 19.\n\n[7] R. Rikpa, Review of fluxgate sensors, Sens. Actuators A 33 (1992) 129?141.\n[8] J.E. Lenz, A review of magnetic sensors, in: Proceedings of IEEE, 1990, pp. 973?989.\n[9] S. McLean, S. Macmillan, The US/UK World Magnetic Model for 2005?2010, British\n\nGeological Survey NOAA National Geophysical, Editor, 2005.\n\n[10] S. Macmillan, J.M. Quinn, The derivation of World Magnetic Model 2000, United States\nGSeoloGsical Survey, Editor, 2000.\n\n[11] J.M. Quinn, The Joint US/UK 2000 Epoch World Magnetic Model and the GEOMAGS/\nMAGSVAR Algorithm, U.S. Geological Survey MS 966 Geomagnetics Group, Federal Center,\nDenver CO 80225-0046, USA and British Geological Survey Geomagnetics Group, Editors,\n1999.\n\n[12] H.S. Cao, Designing of fluxgate magnetometer used by attitude test, J. Ballist. 14 (2002) 2.\n\n360 CHAPTER 9: Magnetometer Technology\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00009-6/sbref7\n\n\nCHAPTER 10\n\nMEMS Microrelay\n\n10.1 INTRODUCTION\n\n10.1.1 Background and Significance\nof MEMS Relay Technology\nRelay is a basic electronic control component, which plays an important role\nin aerospace, military electronic equipment, information technology, and\nother automation equipment. Relay has a control system (also known as the\ninput circuit) and a controlled system (also known as the output circuit),\nand it is usually used in automatic control circuits to adjust automatically,\nprotect security, convert the circuit, etc. According to the structure and work-\ning principle, relays are divided into EMR (electromechanical relay, mainly\nincluding electromagnetic relay and thermal dry reed relay) and solid-state\nrelay (SSR), the essential difference between them being whether there is\ndirect contact or not.\n\nIn recent years, with the development of semiconductors, the scale of IC\nchips has reached to well into the sub-micron level and the integration level\nis higher. In contrast, the progress of miniaturization technology in relays is\nfar from adequate, its size and power have become the bottleneck of the sys-\ntem in attempts to further improve their working ability. It is predicted that\nthe miniaturization of electromechanical relays will be widely demanded in\nthe military and has a bright future.\n\n10.1.2 Research Survey of MEMS Relay Technology\nat Home and Abroad\nMEMS relay has gradually evolved from traditional relays. As early as 1978, Dr.\nK.E. Peterson developed the world\u2019s first MEMS relay [1]. To date, many domes-\ntic and foreign research institutes have conducted research on MEMS relays.\nForeign institutes such as National Aeronautics and Space Administration\n(NASA), Defense Advanced Research Projects Agency (DAPAR), Germany\nMunich Polytechnic University, Microelectronics Center of North Carolina\n\nSpace Microsystems and Micro/Nano Satellites. DOI: http://dx.doi.org/10.1016/B978-0-12-812672-1.00010-2\nCopyright \u00a9 2018 National Defense Industry Press. Published by Elsevier Inc. All rights reserved.\n\n361\n\nhttp://dx.doi.org/10.1016/B978-0-12-812672-1.00010-2\n\n\n(MCNC), United States Analog Device Corporation (United States AD),\nNortheast University, MIT Lincoln Laboratory, and others have different degrees\nof involvement in research into MEMS relays. There are also some domestic\ninstitutions that have researched MEMS relays, including Shanghai Jiao Tong\nUniversity (SJTU), Beijing Jiaotong University (BJUT), and so on.\n\nCompared with the traditional electromechanical relay, MEMS relay has\nsmall size, low power consumption, fast response, high isolation feature, and\nhigh load capacity. Also, MEMS relay can be integrated produced, similar to\nsemiconductors. MEMS deposition and corrosion technology can be used to\nfabricate three-dimensional moving mechanical components, providing the\nbasic process for MEMS relay fabrication.\n\nThere are two main classifications of MEMS relay. The first is divided\naccording to the driving principle, mainly including electrostatic, electro-\nmagnetic, and thermomechanical types. In addition, there are also ther-\nmally controlled magnetization microrelay [2] and liquid-filled microrelay\n[3]. The other is divided according to the electrode switch pattern, including\nvertical and lateral switches. The MEMS relay using a vertical switch pattern\nis superior to the latter in switching frequency, contact resistance, insulation\nresistance. and other important parameters [4]. Parameter comparisons are\nshown in Table 10.1.\n\nThe most representative MEMS relay is the ME-X developed by Panasonic,\nwhich is a hybrid mechanical relay, adopting efficient magnetic circuits and\nMEMS technologies, integrating the minicontact and armature mechanical\nstructures, as shown in Table 10.2. An ultra-small RF relay prototype product\nproduced by OMRON can convert 20-GHz signal, the size of this microma-\nchined relay (MMT) is 1.8 mm3 1.8 mm3 1 mm. TeraVicta Technologies\nhave introduced a new SPDT MEMS relay, TT1244, whose working frequency\nis 0?26.5 GHz. The industrialization of MEMS relay is in the initial period,\nand the size of the MEMS relay is almost at the cm level\u2014mm-level MEMS\nrelays cannot yet be mass produced.\n\nTable 10.1 The Main Performance Parameters of Vertical and Lateral Switches Relay\n\nIndex Lateral Switches Vertical Switches\n\nSwitching time (?s) 30 5\nContact resistance (k?) 1 33 1023\n\nInsulation resistance (?) ? 1010\nDrive voltage (V) 50?260 20?100\nSwitching current (mA) 1 50\nContact electrode materials Silicon Metal\nMoving electrode materials Silicon Multilayered materials\n\n362 CHAPTER 10: MEMS Microrelay\n\n\n\n10.1.3 Overview of a Different Driving Method\nfor MEMS Relay\nAccording to the driving method, MEMS relay can be divided into electro-\nstatic, electromagnetic, thermomechanical, and liquid-filled microrelays. The\ntypical structures of various drive modes are introduced below.\n\n10.1.3.1 Electrostatic MEMS Relay\nThe electrostatic drive method is commonly used, it has an easier fabrica-\ntion process, low power consumption, and more rapid response time, also\nit has no special demands for driving materials. However, it demands a\nhigh driving voltage. There are two main structures of electrostatic MEMS\nrelay, the cantilever type and the multifinger type. According to the elec-\ntrode switch pattern, it can be divided into a vertical switch type or a lateral\nswitch type.\n\nA typical single-end fixed cantilever beam microrelay schematic is shown in\nFig. 10.1. The upper plate is an active electrode, the bottom one is fixed.\nWhen switched on, it will build an electric field between the upper and bot-\ntom plates, the electric field force will move the upper plate downward con-\ntacting the bottom contact electrode, whereupon the relay is closed. When\nswitched off, the electric field disappears and the upper plate disconnects\nfrom the contact electrode and recovers its original state because of the elas-\nticity of the beam, and the relay is opened. The driving voltage of this kind\nof relay is generally between 20?90 V.\n\nTable 10.2 The Parameters of MEMS Relay, ME-X Developed by Panasonic\n\nStandard Index Details\n\nProduct number AMEX1001\nCoil specifications Rated operational voltage 3 V DC (single coil self-lock)\n\nRated power consumption 100 mW\nContact specifications Contact form 1 alb\n\nContact material Au series\nContact resistance (initial stage) 300 m? (typical)\nContact allowed load 100 mA 1.5 V DC (resistance load)\n\nHigh-frequency characteristics\n(initial stage, 50? series, B6 GHz)\n\nInsertion Loss 0.5 dB (typical)\nIsolation degree 28 dB (typical)\n\nUsage times Electrical usage times More than 10 million times (10 mA, 1.5 V\nDC resistance load)\n\nVoltage proof (10 mA test current) Between contacts (initial stage) 100 V per minute\n\n10.1 Introduction 363\n\n\n\nFig. 10.2A is a physical SEM photograph of a single-end fixed cantilever\nbeam microrelay fabricated by S. Majumder and others in America [5].\nFig. 10.2B shows its structural schematic.\n\nThe relay shown in Fig. 10.2 has two electrodes connecting to input and out-\nput signals, respectively, reducing the interference benefits of depart of\nswitching part and driving part. When the upper plate moves downward, it\nwill contact the two contact electrodes simultaneously, and the relay is\nclosed. The relay\u2019s driving voltage is 80 V, contact resistance is less than 1 ?,\nand the usage count can reach up to 1010 times.\n\nNoryo Nishijima and Juo-Jung Hung proposed an improved single-ended\nfixed cantilever beam relay in 2004 [6]. As shown in Fig. 10.3, its plate is\n\nContact\nelectrode\n\nBottom plate\n\nUpper plate\n\nFIGURE 10.1\nSingle-ended fixed cantilever beam microrelay schematic.\n\n(A) (B)\n\nDrain\n\nDrain\n\nGate\n\nGate\n\nSource\n\nSource\n\nFIGURE 10.2\n(A) Physical SEM photo; (B) structural schematic of a cantilever beam microrelay.\n\n364 CHAPTER 10: MEMS Microrelay\n\n\n\ndivided into five parts, the fulcrum, beam A, contact part, beam B, and a\ndriving electrode arranged from left to right, successively.\n\nThe pull-down electrode of the relay shown in Fig. 10.2 is located between\nthe fulcrum and contact electrode; its schematic is shown in Fig. 10.4A.\nHowever, the pull-down electrode of the relay shown in Fig. 10.3 is located\non the side of the contact electrode. When the former relay is closed, only its\ncontact electrode switches on, as shown in Fig. 10.4C. However, when the\nlatter relay is closed, its contact electrode switches on after its upper plate\ncontacts the bottom plate, as shown in Fig. 10.4D.\n\nThe advantage of the latter design is reducing the pull-down voltage without\nreducing the releasing force. The releasing force is dependent on beam A, the\nmovement of pulling-down is dependent on beams A and B, and the elastic\ncoefficient of the beam is proportional to the cube of its length. Therefore,\nthe force to bend two beams is less than that to bend one, and it will\nincrease the contact force to make closure more stable.\n\nExperiments indicate that the driving voltage of the driving force is 30 V,\nwhich is lower than that shown in Fig. 10.2, but also higher than the voltage\na common circuit can provide, so it is not easy to integrate with the circuit.\n\nAs shown in Fig. 10.5, M.A. Gretillat and others proposed a double-end fixed\nMEMS relay in 1994, which can separate the driving part and working circuit\n[7]. Its driving voltage is 50?75 V, with a working frequency of 20?75 kHz,\nreleasing time of 4 ?s, and pull-in time of 1 ?s. Comparing to the single-ended\nfixed relay, this kind of relay\u2019s releasing force is higher and the contact electro-\ndes are not prone to stick to each other, however its drop voltage is higher.\n\nBeam A\n\nAnchor\n\nContact\ndimple Tip plate\n\nBeam B\n\nPull-down electrode\n(with dielectric)\n\nTW\n\nTL\n\nFIGURE 10.3\nThe top view of the relay (TL0 length is 190?220 ?m; TW0 length is 160?220 ?m).\n\n10.1 Introduction 365\n\n\n\nTorsion beam microrelay can bear less load, it is usually used in optical\nswitching devices, such as optical modulators and three-dimensional scan-\nning devices, etc. Torsion beam microrelay can realize a bistable state, but its\nfabricating process and service condition are too complex to be used.\n\nA copper cantilever beam microrelay is shown in Fig. 10.6, its upper elec-\ntrode is an entire cantilever, just as common is a single-fixed cantilever beam\nrelay. However, this kind of microrelay has some drawbacks: (1) electric arc\nwill make the contacts welded, affecting the usage time of the relay; (2) cop-\nper oxide will affect the switching period of the relay; and (3) high-contact\nresistance will reduce the performance of the relay. Low-contact resistance\ncan ease the contact welding problem and reduce the consumption. Also,\ncontact materials, contact force, and contact area will affect the contact\nresistance. In order to reduce the contact resistance, Han-Sheng Lee,\nChi H. Leung, and others have designed a multibeam relay [8], which, as\nshown in Fig. 10.7, has four beams.\n\nCantilever\nbeam Contactdimple\n\nContact\ndimple\n\nDrain\nelectrode\n\nSubstrate Pull-down\nelectrode\n\nPull-down\nelectrode\n\nDrain\nelectrode\n\nDielectric\n\nPull down by\nelectrometric force\n\nRF-OUT\n(To side)\n\nRF-IN RF-OUT RF-IN\n\n(A) (B)\n\n(C)\n(D)\n\nFIGURE 10.4\nSchematics of two types of relays.\n\n366 CHAPTER 10: MEMS Microrelay\n\n\n\nThe beam of the microrelay above is not connected rigidly, each of them has\nrelative independence. Compared to the single cantilever beam, it has greater\nflexibility. The contact of this relay is 30 m?, which is 40 m? smaller than\nthe single cantilever beam relay introduced above. It will appear contact\nwelded phenomenon after 300 switching cycles under 1 A load.\n\nComb relay can increase the relative area of the parallel plate, and will create\nmore electrostatic force under the same driving voltage. However, its\n\np-type region\n\np-type silicon substrate\n\nn-type region\n\naluminum\n\nLPCVD Si-nitride\n\nCVD Si-dioxide &\nLPCVD Si-nitride\n\n1st & 2nd P-doped\nLPCVD poly-Si\n\n3rd P-doped\nLPCVD poly-Si\n\nFIGURE 10.5\nDouble-ended fixed electrostatic MEMS relay with polycrystalline silicon structure.\n\nActuator\n\nLower contact\nBlade\n\nAir gap\n\nSi3N4\n\nSiO2\n\nFIGURE 10.6\nCopper cantilever beam microrelays: (A) physical photo, (B) relay sectional view.\n\n10.1 Introduction 367\n\n\n\nstructure and fabrication process are more complex than for the cantilever\nbeam relay. The common drive failure of the comb relay is collisions\nbetween electrodes.\n\nA single-pole, four-throw comb electrostatic relay is illustrated in Fig. 10.8 [9],\nits volume is 2.55 mm3 2.39 mm3 0.56 mm, and the driving voltage is\n\nFIGURE 10.7\nMicrorelay of four beams.\n\nInput port\n\nOutput port 2\nOutput port 4\n\nOutput port 1\nOutput port 3\n\nFIGURE 10.8\nSingle-pole, four-throw comb electrostatic relay.\n\n368 CHAPTER 10: MEMS Microrelay\n\n\n\nonly 15 V. It can be recycled as many as 1 million times under 100 mW load,\nand its insert loss is less than 0.31 dB at 60 GHz.\n\nTo summarize, electrostatic relays have two main types of structure: one\nhas current flow through the beam, its control and load voltage are a\nunit, just like the microrelay proposed by Han-Sheng Lee (Fig. 10.6). The\nother cantilever beam is divided into a contact area and an upper plate,\nthe contact area conducts the input and output parts to the relay; the\ndriving voltage is only put on the plate area to control the relay switch,\nas shown in Fig. 10.9.\n\n10.1.3.2 Electromagnetic MEMS Relay\nThe driving force of the electrostatic actuator is small, it is necessary to pro-\nvide higher driving voltage to get higher driving force. The electromagnetic\nactuator has a high driving force under a small driving voltage (5 V) and is\neasy to integrate with the IC circuit. However, its power consumption is high\nand the fabrication process is complex, furthermore it cannot be used in\nmagnetic-sensitive circuits.\n\nIn order to reduce power consumption, M. Ruan and J. Shed designed a\nbistable electromagnetic microrelay in 2001, as shown in Fig. 10.10 [10].\nPower is only needed at the state switching stage, the stable state will not\nconsume any power. This relay has been used in handheld devices.\n\nIn 2007, Shi Fu, Guifu Ding, and others proposed a new\nbistable electromagnetic microrelay in SJTU [11], as shown in Fig. 10.11.\nCompared to a traditional cantilever beam relay, this kind of relay does not\nneed to consider the damping generated by air when the beam is close to\nor leaves from the basement, thus its response time is low. However, the\nfabrication process is complicated and the rotation will cause friction and\nwear to the beam. Experiments reveal that this relay has a good current-\ncarrying capacity up to 2 A.\n\nOutput\n\nOn\n\nInput\n\nFIGURE 10.9\nAn electromagnetic microrelay with driving voltage and signal transmission depart.\n\n10.1 Introduction 369\n\n\n\nSignal path\n\nContactsCoil\n\nY\n\nX\n\n(A) Top\n\n(B) Side\n\nMultipermalloy strips\n\nCoilX\n\nH\nmZ\n\nPermanent\n\nAir gap\n\nSubstrate\n\nFIGURE 10.10\nBistable electromagnetic microrelay.\n\nC\n\nFIGURE 10.11\nStructure diagram.\n\n370 CHAPTER 10: MEMS Microrelay\n\n\n\n10.1.3.2.1 Thermodynamic Driving MEMS Relay\nWhen the driving material is electrified, the expansion after heating will cause\na displacement. The thermodynamic driving mode needs less voltage, but it\ncosts high power consumption and its driving frequency is low.\n\nJin Qiu and Jeffrey H. Lang designed a bulk-micromechanical bistable thermo-\ndynamic driving relay in 2005 [12], as shown in Fig. 10.12. This relay only\nneeds power in the state-switching stage, and its carrying current can be up to\n3 A, but its switching frequency is low, with a maximum of 5 Hz.\n\n10.1.3.2.2 Liquid MEMS Relay\nThe operating principle of liquid MEMS relay is to heat the gas, pushing the\nconductive liquid droplet to move a displacement to switch the relay.\n\nA typical liquid MEMS relay is shown in Fig. 10.13 [13]. The moving of mer-\ncury droplets controls the circuit switching, the friction force between two\nsignal electrodes and contact loss are low because of the use of this liquid\nmetal. The critical problems of this kind of relay are bubbles, mercury drop-\nlet control, and sealing.\n\n10.1.3.2.3 Hybrid Driving Mode MEMS Relay\nEach single driving mode relay has its advantages and disadvantages, and\nhybrid driving mode relays can adopt the advantages of multiple relays and\novercome each other's shortcomings.\n\nA gold electroplated electromagnetic and electrostatic hybrid MEMS relay is\nshown in Fig. 10.14, composited by a movable beam, contact, and a\n\nFIGURE 10.12\nBulk-micromechanical bistable thermodynamic driving relay.\n\n10.1 Introduction 371\n\n\n\npermanent magnet. This relay is driven by electromagnetic force and electro-\nstatic force, its driving voltage is 6?12 V, which is lower than an electrostatic\nmicrorelay. Furthermore, its fabrication process is simpler than electromag-\nnetic microrelays, and it results in no coils.\n\n10.2 DESIGN OF MEMS RELAY\n\n10.2.1 Materials for MEMS Electromagnetic Relays\nThe main materials of bistable MEMS relays are coils, soft magnets, and per-\nmanent magnet thin-film materials. To improve the relay\u2019s switch response\n\nSignal electrode\n\nSignal electrode Dielectric liquid\n\nV-groove\nthroat\n\nBubble\n\nMercury\nmicrodrop\n\nHeaterReservoir\n\nFIGURE 10.13\nLiquid MEMS relay.\n\nDiaphragm and upper electrode\n\nContact cross bar\n\nMagnetic field lines\nperpendicular to paper\n\nLower electrode and contact lines\n\nV\n\nI\n\nFIGURE 10.14\nA gold-electroplated electromagnetic and electrostatic hybrid MEMS relay.\n\n372 CHAPTER 10: MEMS Microrelay\n\n\n\nspeed and stability, soft and permanent magnets should have small coer-\ncivity, small remanence, and a linear demagnetization curve. A soft mag-\nnet with high magnetic permeability and a permanent magnet with high\nmagnetic energy product should be chosen in order to miniaturize the\ndevice. The complex structure and difficulty in fabricating are the main\nproblems of electromagnetic MEMS relays, because of the incompatibility\nof the fabrication process for soft and permanent magnets. Hence, the\nmain content of this section is the fabrication process of soft and perma-\nnent magnets.\n\n10.2.1.1 Soft Magnetic Thin-Film Materials\nThe fabrication process of soft magnetic thin-film materials includes the\nselection of materials and process, manufacturing of thin film, and testing.\n\nTypical magnetic hysteresis and normal magnetization curves are shown in\nFig. 10.15, Hc, Mr, Hs, and Ms represent the coercivity, remanence, saturation\nmagnetization, and saturation magnetization, respectively.\n\nThe magnetic hysteresis curve of a soft magnet is narrow, and its coercivity,\nremanence, and hysteresis loss are low. The curve connected by different\nmagnetic hysteresis vertices, whose starting value is less than Hs, is called a\nnormal magnetization curve. The slope of the curve at any point is the per-\nmeability of materials at the corresponding magnetic density. This curve will\nrepresent the material0s magnetic properties, and the common magnetic para-\nmeters, such as ?,Bs, are obtained from it [14].\n\n\u2013HC HC\n\nHs\n\n\u2013Hs\nH\n\n(A/m)\n\n(A/m)\n\n\u2013Mr\n\nMs\nMr\n\n\u2013Mr\n\nFIGURE 10.15\nMagnetic hysteresis and normal magnetization curve.\n\n10.2 Design of MEMS Relay 373\n\n\n\nSoft magnetic materials can be divided into three categories: Fe alloy, Ni\nalloy, and Co alloy. The development of soft magnetic materials has gone\nthrough three main stages: traditional soft magnetic materials made by\nmelting technology (such as permalloy) and ferrite (such as MnZn, NiZn\nseries, etc.), amorphous, and nanocrystalline soft magnetic alloy (such as\nFinement). The fabrication process of amorphous and nanocrystalline soft\nmagnetic alloy film materials adopts liquid quenching technology, dozens of\nmicron-thick films built by molten alloy rotating on a roll surface, whose\nthickness is hard to control and the surface of which is rough [15].\nFurthermore, the processes of amorphous and nanocrystalline soft magnetic\nalloy and MEMS production are incompatible, traditional materials still need\nto be selected.\n\nIt is very common to obtain the soft magnetic functional structure by micro-\nelectroforming in the MEMS process. Foreign researcher William PT and\nothers have studied the manufacture and testing of Ni?Fe alloy, Ni?Co\nalloy, and Ni?Co?Mo alloy through the microelectroforming process [16].\nThrough the comparison of magnetic parameter measurement, the Ni?Fe\nalloy film has the highest relative magnetic permeability (500?1000) and\nsmallest coercivity (1?5 Oe, about 80?400 A/m). Although the relative mag-\nnetic permeability of Ni?Fe alloy film is much less than that of its bulk\nmaterials, the Ni?Fe alloy is also the most suitable material applied to\nMEMS electromagnetic switching devices, and its consumption is too low to\nsignificantly affect the cost.\n\nThe Ni?Fe alloy film adopted microelectroforming technology has uniform\nthickness, less membrane stress, and better magnetic properties by repeatedly\nadjusting the parameter settings.\n\n10.2.1.1.1 Manufacture of Ni?Fe Alloy Film Sample\nThe principle of alloy microelectroforming is shown in Fig. 10.16A. Alloy\nmicroelectroforming is using electrochemical methods to deposit two or more\nmetals on the cathode (plating), which is an oxidation?reduction reaction.\nThe atomic structures of Ni and Fe are similar and they are iron subgroup ele-\nments. Their standard potentials are 0.25 V and ?0.44 V, respectively, judging\nfrom the electrochemical potential, they are able to coprecipitate in single-salt\nsolutions. Fig. 10.16B illustrates a microelectroforming device.\n\nThe solution of Ni?Fe alloy microelectroforming consists of Ni21, Fe21,\nSO4\n\n2?, and H1, and the recipe is shown in Table 10.3. The basic operating\nconditions for getting a smooth and bright Ni?Fe alloy repeatedly are as fol-\nlows: solution pH value between 3.4?3.6, temperature 63?C, direct current,\ndensity of cathode current between 3?4 A/dm2, and medium magnetic\nstirring speed (30?40 r/min).\n\n374 CHAPTER 10: MEMS Microrelay\n\n\n\n10.2.1.1.2 Condition Parameter Control and Operation Essentials\nof Microelectroforming\nThe pH value of the electrolytic solution has a great influence on the quality\nof the deposition layer. A high pH value will accelerate the formation of\nFe31 and precipitate the Ni(OH)2, however, a low-pH solution will accelerate\nthe chemical dissolution of the iron anode and produce a lot of bubbles\non the cathode, which would cause the hydrogen evolution reaction to\nreduce the current efficiency. The solution pH value should be set at about\n3.5 to obtain a bright Ni?Fe alloy. During the process of microelectroform-\ning, the pH value will increase continuously. The pH value should be tested\nby pH test paper or a pH meter at intervals and dilute sulfuric acid or dilute\nhydrochloric acid added according to the obtained value.\n\nThe low temperature of the solution will reduce the brightness, smoothness,\nand deposition rate of the deposition layer. High temperatures will decompose\nthe stabilizer solution and oxidate the Fe21 to Fe31, resulting in an increased\nbrittleness of deposition layer and reduced mechanical performance. For a bright\nNi?Fe alloy the microelectroforming temperature should be set at 63?C.\n\nPower source\n\nC\nathode\n\nA\nnode\n\nV\n+ \u2013\n\n(A) (B)\n\nFIGURE 10.16\n(A) Ni?Fe alloy microelectroforming principle and (B) device.\n\nTable 10.3 Recipe for the Ni?Fe Alloy Solution\nComposition Content Composition Content\n\nNiSO4 ? 6H2O 200 g/L NaC12H2SO4 0.1 g/L\nFeSO4 ? 7H2O 15 g/L H3C6H5O7 10 g/L\nNaCl 25 g/L H3BO3 40 g/L\nC4H4O3NSNa ? 2H2O 4 g/L NaC6H5O7 ? 2H2O 20 g/L\n\n10.2 Design of MEMS Relay 375\n\n\n\nHigh current density will increase pinholes and pits, and enlarge particles\nin the deposition layer, reducing the current density could solve these pro-\nblems. As shown in Fig. 10.17A and B, compared to a current density of\n20 A/dm2, which causes a lot of pinholes and pits on the surface, the depo-\nsition layer with 1 A/dm2 current density has virtually no pinholes or pits,\nand its particles are smaller. In order to take the quality of the deposition\nlayer and efficiency into consideration, the current density should be set at\nabout 5 A/dm2.\n\nReasonable stirring can accelerate the speed of microelectroforming solution\ngetting into tiny structures and distribute the pH value uniformly to decrease\nthe possibility of a hydrogen evolution reaction. When there are some impu-\nrities, such as iron and copper, in the solution, accelerating the speed of stir-\nring will oxidate the iron and copper ions, causing the impurities to\nprecipitate. Therefore, filtering the solution after electroforming each time is\nas important as controlling the stirring speed.\n\n10.2.1.1.3 Stress of the Microelectroforming Film and Hydrogen\nEvolution Reaction\nIn the process of Ni?Fe alloy microelectroforming, two key points should be\nfocused: stress of the microelectroforming film and hydrogen evolution\nreaction.\n\n1. Film stress\nDuring the microelectroforming process, stress will be introduced in\nthe film; the thicker the film is, the greater the stress is, and when it\nreaches a certain point, the film may drop from the substrate. Stress\n\n(A) (B)\n\nFIGURE 10.17\nThe effect of current density on the Ni?Fe alloy surface quality: (A) current density of 20 A/dm2; (B) current density of 1 A/dm2.\n\n376 CHAPTER 10: MEMS Microrelay\n\n\n\nwill limit the application of soft magnetic film in MEMS. After\nmicroelectroforming, the level of stress can be determined by observing\nthe surface of the photoresist around the metal. If there are obvious\ncracks on the surface, the stress of the deposition layer is high, and\nsome brightener needs to be added to regulate this stress.\nDuring the electrodeposition process, adding brightener can adjust\n\nthe deposition layer stress and improve the surface smoothness, using\nsaccharin or crystallox, 1,4-butynediol or its derivatives such as \u201c791\u201d\nbrightener, etc. For MEMS processing, adding brightener should be\nguided by the following principles: (1) more feeding times and a small\nfeeding amount; (2) minimize the brightener types. If two or more\nbrighteners are needed, the consumption rate of each brightener\nshould be examined, otherwise, the imbalanced composition of the\nbrightener will increase the internal stress. Generally, the collocation of\nprimary and secondary brighteners is appropriate, and they should be\nadded on time. The film stress cannot be regulated by adding\nbrightener, otherwise the effect is reversible.\nFor electrodeposition, hydrogen theory is widely recognized, that is,\n\nduring deposition, hydrogen ions get into the crystal lattice of the\ndeposition layer and expand the crystal lattice; after electroforming, the\nhydrogen ions leave the lattice and shrink the crystal lattice, resulting\nin stress. In addition, the pH value, current density, temperature, and\nimpurities also have an effect on the internal stress.\n\n2. Hydrogen evolution reaction\nThe standard electrode potential of nickel is lower than hydrogen, H1\n\nwill get the electron firstly to generate the gas. Therefore, the hydrogen\nevolution reaction is inevitable in the process of electrodeposition of\nNi or Ni?Fe alloy. There are two consequences of the hydrogen\nevolution reaction, one is increasing number of pinholes and pits on\nthe surface, and the other is hydrogen embrittlement, which reduces\ntoughness.\nFor the MEMS switch structure, the impact caused by the hydrogen\n\nevolution reaction is not limited to these, one is to reduce the yield,\nand the second is to reduce the reliability of the device. MEMS\nstructures are generally in the micrometer size, a lot of bubbles will\nattach to the cathode surface during a serious hydrogen evolution\nreaction, the diameter of the bubbles and the microelectroforming\npattern size are generally comparable. Therefore, a lot of units is\ninvalided and by attached bubbles, and the actual electroforming area\nis reduced, so the unit thickness without bubbles attached is not\ncontrollable, which decrease the actual yield greatly. For an active\nstructure, cast layer toughness decreases directly, leading to reduced\nreliability and service life.\n\n10.2 Design of MEMS Relay 377\n\n\n\n10.2.1.2 Permanent Magnetic Film Material\nA hysteresis curve of a permanent magnetic material is wide, and its coercive\nforce and remanence induction are high. Ferrite permanent magnetic materi-\nals, rare earth permanent magnet materials, transition metal-based perma-\nnent magnet materials, and other types of permanent magnetic materials are\nwidely applied in MEMS electromagnetic devices [17].\n\nThe curve segment located in the second quadrant of the hysteresis curve is\ncalled the demagnetization curve; mostly permanent magnetic materials\nwork on this curve. Demagnetization curves and recoil lines are the basic\ncharacteristics of permanent magnetic materials curves; as shown in\nFig. 10.18A, the permanent magnetic material is not working along the\ndemagnetization curve Brmm\n\n0\nHc generally, but is working along the recoil\n\nline mr, the operating point in the recoil line. The slope of the recoil line is\ncalled the recoil permeability, and is generally expressed by ?rec; apparently\n?rec characterizes magnetic stability under dynamic operating conditions. It is\ngenerally desirable to coincide the recoil line with the demagnetization curve\nof permanent magnets in a linear mode, and stable device performance para-\nmeters can be measured. As shown in Fig. 10.18B, the operating point D\n\u00f0Bd;Hd\u00de also found periodic changes back and forth, definite the trajectory of\npoint D dynamic recoil line of magnet, the smaller ?rec is, the more\nstable the magnet performs under dynamic operating conditions.\n\nMillimeter-scale permanent magnetic film may be obtained by processing the\npermanent magnetic block appropriately, however, film with thickness under\n\n(A) (B)\n\nFIGURE 10.18\nThe basic characteristic curve of permanent magnetic material. (A) Demagnetization curve of permanent magnetic materials and recoil\nline and (B) their coincidence.\n\n378 CHAPTER 10: MEMS Microrelay\n\n\n\n100 microns cannot be processed by a permanent magnetic block. Because\nconventional high-performance permanent magnetic block materials are rela-\ntively brittle, the split size limit is generally about 100 ?m. Permanent mag-\nnetic film of micrometer thickness must be directly deposited to form a thin\nfilm on the components requiring a magnetic field, in order to adapt to a\nvariety of microelectronic and micromechanical systems with high perfor-\nmance and high reliability requirements. Currently permanent magnetic\nmaterials deposited mainly in the form of a thin film are transition metal-\nbased permanent magnetic materials such as AlNiCo, FeCrCo, MnAl, PtCo,\nand PtFe, which are mainly produced by sputtering or microelectroforming.\nAn advantage is oxidation of corrosion inhibitors is compatible with MEMS\nprocess, but disadvantages are the low coercivity and remanence flux density,\nthe energy product is small, and demagnetization curves generally do not\ncoincide with the recoil line. For example, domestic scholars Hongchuan\nJiang and others have carried out research on CoNiMnP microelectroforming\nconducted at room temperature, but the coercivity of the vertical direction\non the film is only 59.7 kA/m, remanence flux density 0.57 T, and energy\nproduct 11.3 kJ/m3.\n\n10.2.2 Structural Design\nIt is required to consider a variety of factors on structural design. Two factors\nshould be emphasized especially: one is the design itself is reasonable,\nanother is the process is able to meet the design requirements.\n\n10.2.2.1 Electrostatic Drive Cantilever\nA cantilever contact-type switch is shown in Fig. 10.19, one end of the switch\nis fixed and the other is free-floating. A capacitor is formed between the can-\ntilever and the lower electrode, and a drop-down electrostatic force will be\ngenerated on the cantilever when the bias voltage is applied between the can-\ntilever and the lower electrode. Setting the width of the cantilever (also the\n\nOutput\n\nOn\n\nInput\n\nFIGURE 10.19\nDriving voltage and signal transmission separate microelectromagnetic relay schematic.\n\n10.2 Design of MEMS Relay 379\n\n\n\nwidth of upper plate) as w, and the lower electrode width W, the value of\nthe parallel plate capacitor can be expressed as\n\nC5\n?0wW\n\ng1\ntd\n?r\n\n\u00f010:1\u00de\n\nwhere td and ?r are the insulating layer thickness and relative dielectric con-\nstant, respectively, and g is the spacing between the cantilever and the\nelectrode.\n\nTherefore the electrostatic force between the parallel capacitor is\n\nF5\n1\n2\nV2\n\ndC\u00f0g\u00de\ndg\n\n52\n?0?wWV2\n\n2 g1\ntd\n?r\n\n? ?2 \u00f010:2\u00de\n\nwhere ? is a scale coefficient expressing the capacitance reduction caused by\nthe unclosed attachment between the lower electrode and the underlying sili-\ncon dioxide insulation layer\n\n?5 1 \u00f0g50\u00de\n0:4B0:8 \u00f0g 6\u00bc 0\u00de\n\n?\n\u00f010:3\u00de\n\nwhere g represents the spacing between the lower electrode and the underlying\nsilicon dioxide insulation layer after the bias voltage is pulled down the cantilever.\n\nWhen the electrostatic force is greater than or equal to the restoring force of\nthe cantilever, F52kx,\n\nF52\n?0?wWV2\n\n2 g1\ntd\n?r\n\n? ?2 52 k\u00f0g0 2 g\u00de \u00f010:4\u00de\n\nThe driving voltage is\n\nV 5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n2k\n\n?0wW\n\u00f0g0 2 g\u00de g1\n\ntd\n?r\n\n? ?2s\n\u00f010:5\u00de\n\nwhere g0 is the spacing between the cantilever and the lower electrode with\nno bias voltage, for the cantilever, its elastic coefficient k can be expressed as\n\nk5\n2\n3\nEw\n\nt\nl\n\n? ?2\n\u00f010:6\u00de\n\nwhere E is the elastic modulus of the cantilever material, t is the thickness of\nthe cantilever, and l is the length of the cantilever.\n\nWhen the cantilever is pulled to\n\ng5\n2\n3\ng0 \u00f010:7\u00de\n\n380 CHAPTER 10: MEMS Microrelay\n\n\n\nAt this point, the closing voltage is\n\nVth 5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n2k\n\n3?0wW\ng0\n\n2\n3\ng01\n\ntd\n?r\n\n? ?2s\n\u00f010:8\u00de\n\nThereafter the cantilever rapidly falls, until contact is made with the lower\nelectrode, and the signal between the contact metal and the signal line is\nconducted.\n\n10.2.2.2 Electromagnetic Drive Structure\nFor reasonable electromagnetic drive structure design, the following aspects\nshould be followed:\n\n1. An Ni?Fe alloy film should work in an external magnetic field with\nhigh permeability. As shown in Fig. 10.20, Ni?Fe alloy film magnetic\ncharacteristic parameters of the test results show that the relative\npermeability of the nickel?iron alloy thin film changes when the\n\n0\n0\n\n50\n\n100\n\n150\n\nR\nel\n\nat\niv\n\ne \npe\n\nrm\nea\n\nbi\nlit\n\ny\n\n200\n\n250\n\n300\n\n350\n\n400\n\n450\n\n500\n\n500 1000 1500 2000 2500 3000 3500 4000\nMagnetic field intensity (H/A/m)\n\n\u20131\n\n\u20130.8\n\n\u20130.6\n\n\u20130.4\n\n\u20130.2\n\n0.2\n\n0.4\n\n0.6\n\n0.8\n\n1\n\n0\n\n\u20130.5 0 0.5\nX 104\n\n1\nMagnetic field intensity (H/A/m)\n\nM\nag\n\nne\ntic\n\n in\ndu\n\nct\nio\n\nn \nin\n\nte\nns\n\nity\n (B\n\n/T\n)\n\nMagnetic field intensity (H/A/m)\n\nM\nag\n\nne\ntic\n\n in\ndu\n\nct\nio\n\nn \nin\n\nte\nns\n\nity\n (B\n\n/T\n)\n\n0\n0\n\n0.2\n\n0.4\n\n0.6\n\n0.8\n\n1\n\n2000 4000 6000 8000 10000\n\n(A)\n\n(B) (C)\n\nNot reach the saturated hysteresis loop vertex \nSpline interpolation curve\n\nFIGURE 10.20\nCharacteristic curve of an Ni?Fe alloy thin-film sample. (A) Hysteresis curve; (B) basic magnetization curve; (C) changes in the relative\npermeability with the external magnetic induction.\n\n10.2 Design of MEMS Relay 381\n\n\n\nexternal magnetic field changes, after increasing rapidly, it will decrease\nuntil near vacuum permeability. In order to make full use of Ni?Fe\nalloy film and reduce the size of the movable electrode, the film\nshould work in the range of high permeability. According to the law,\nshown in Fig.10.20, about relative permeability changes with the\nvariation of the external magnetic field, selected 500B1500 A/m as the\nworking electrode of the reference magnetic field, in this magnetic field\nrange, the relative permeability of nickel?iron film changes between\n420 and 280, nickel?iron alloy film has a high utilization rate.\n\n2. Appropriate coil center line spacing dcc. On the limited area extent, the\ngreater the dcc is, the fewer the number of turns the coil should have,\nand the greater the fluctuation value of the magnetic field strength the\ncoil generates; the smaller the dcc is, the greater the number of turns the\ncoil should have to cover the electrode, which will increase the total\nlength of wire and power consumption. Therefore, to insure the\nprocess runs smoothly, the distribution of coils should be limited to a\nrational range, with lower power consumption.\n\n3. Appropriate twist angle @ of the twist beam. Generally speaking, when\nthe angle between two planes is small, the two planes can be\nconsidered as approximately parallel. The smaller the @ is, the lower\nthe utilization efficiency is, increasing the volume of the permanent\nmagnet; however, a much greater @ will increasing the component\nalong the direction of magnetization of the movable electrode, which\ncan reduce the volume of permanent magnet, but the power\nconsumption would increase.\n\n4. Appropriate movable aspect ratio. The larger the aspect ratio of the\nmovable electrode is, the more obvious the demagnetization of soft\nmagnetic material in the width direction, and the more insignificant it\nis in the longitudinal direction. When the movable electrode contacts\nthe fixed electrode, it will make contact with two independent fixed\nelectrodes, the greater the contact area, the smaller the contact\nresistance is. Therefore, the width of the movable electrode should be\ndesigned to be as small as possible, but the contact area and magnetic\nmoment it generates should also be considered.\n\n5. Minimize the size of the permanent magnet. The permanent magnet size\ndirectly affects the degree of miniaturization of the relay, therefore, to\nmaximize the utilization of permanent magnets, the most direct way is\nto reduce size of the movable electrode and the permanent magnet pole\ndistance, which are mainly related to the package.\n\n6. The planar coil design should not affect the size of the torsion\nstructure. In the MEMS process, it is necessary to consider all the\nstructures on the same substrate with the mutual influences between\nthe front and rear steps, as there is a corresponding relationship\nbetween their position, which is embodied well in mask design.\n\n382 CHAPTER 10: MEMS Microrelay\n\n\n\nBased on the above six design principles and taking realizable microprocessing\ntechnology into consideration, a typical set of design parameters for the relay is\nshown in Table 10.4 [18], wherein the plane coil uses a regular octagonal\nstructure.\n\n10.2.3 Contact Design\n10.2.3.1 Contact Material Selection\nSelect the electrical contact material is a key to relaying electrical contact\nproperties, selecting contact materials with excellent properties is the most\nobvious way to improve the electrical performance.\n\nElectrical contact materials have nearly 100 years of development history; the initial\nmaterials used were gold, silver, and platinum as pure material nodes; from the\n1940s, Ag?Cu, Au?Ag, Pt?Ir, and Pt?Ag alloys were used; a diverse variety of pre-\ncious metals and precious metal composites have been developed since the 1960s.\nThe best contact material processing technology is not compatible with MEMS pro-\ncessing technology, e.g., silver and silver alloy contact electrodes commonly used in\nthe production of sintered solution infiltration, extrusion, and high-temperature\nannealing processes (up to 1000?C or more), have a negative effect on MEMS\ndevices, therefore, the range of MEMS relay materials is narrow.\n\nFor MEMS relay, as the voltage of the contact between the electrodes and the\ncurrent through the contact electrode increases, the welding and material transfer\nphenomenon is more obvious, leading to a rapid decline in the electrical life of the\nrelay. When selecting contact materials, the following basic requirements should be\nfollowed: good electrical and thermal conductivity and resistance to arc burning,\nantiwelding, wear resistance, low and stable contact resistance, no chemical\nreaction with media, a certain strength continuity, and ease of machining.\n\nThroughout the development history of MEMS relay, precious metals and\ntheir alloys have been the preferred MEMS relay contact materials; precious\nmetals are easily oxidized, with high electrical and thermal conductivity, and\nthe quantities are small so that the cost is negligible. Gold is an ideal MEMS\n\nTable 10.4 Characteristic Parameters of the Relay\n\nStructure Parameter Structure Parameter\n\nMoving spacing g (?m) 4?16 Coil width wc (?m) 15\nActive electrode length lm (?m) 700?800 Coil spacing dcc (?m) 20\nActive electrode width wm (?m) 170?200 Coil thickness tc (?m) 1?1.5\nTorsion beam length l (?m) 180?200 Fixed contact electrode area (?m2) ,1003 100\nTorsion beam width w (?m) 100?150 Magnet diameter ? (?m) ,10,000\nTorsion beam thickness t (?m) 2?8 Magnet thickness (?m) ,1500\nSoft magnet thickness tm (?m) 4?25 Spacing between soft and permanent magnet h0 (?m) 500?700\n\n10.2 Design of MEMS Relay 383\n\n\n\nrelay contact material as it has a high melting point, soft material quality,\nand does not easily generate an oxide film.\n\nThe German scholar Schimkat has conducted comparison research on the\ncontact performance of three metals (Au, AuNi5, and Rh), which have\nincreasing hardness sequentially [19]. The results showed that the minimum\nforce to maintain stable contact and the contact resistance gradually\nincreases, however the suction force decreases gradually, as shown in\nTable 10.5. Obviously, AuNi5 and Rh are more suitable contact materials\nthan Au. Due to limited technology and other factors, the study process for\nMEMS relay contact materials has been relatively slow, so that the main relay\nmaterial is still Au.\n\nAs contact materials used in conventional electromechanical relays, adding\nsmall amounts of other materials to generate alloy materials can significantly\nimprove the contact characteristics of pure precious metals, such that their\nmechanical properties, arc-quenching ability, and hardness are improved. In\nthe future, precious metal-based alloys will be an important development\ndirection for MEMS relay contact materials, and the application of these\nmaterials will depend on the compatibility of MEMS technology.\n\n10.2.3.2 Contact Electrode Design\nThe working conditions of the contact electrode directly affect the value of\nthe contact resistance and effect the relay electrical life, therefore, the contact\nelectrode design is particularly important. For ordinary electromechanical\nrelays, the Holm model is commonly used to describe the relationship\nbetween the contact resistance and the contact force.\n\nAccording to the Holm model, the value of the contact resistance is signifi-\ncantly influenced by contact area. Contact resistance is a function of the con-\ntact force, the contact area, and the contact surfaces of cleanness. In a\nstable region, the contact resistance increases when the contact force\ndecreases in inverse proportion to the contact area, and the cleaner the con-\ntact surface, the smaller the contact resistance is. Therefore, as far as possible\n\nTable 10.5 Contact Characteristics of Au, AuNi5, and Rh\n\nCharacteristics Au AuNi5 Rh Unit\n\nFmin ,0.1 0.3 0.6 mN\nR (Fmin) ,30 ,100 ,1000 m?\nFahdh 2.7 0.3 ,0.1 mN\n\n384 CHAPTER 10: MEMS Microrelay\n\n\n\nunder the premise of increasing the contact area of the electrode, distribution\nshould be rational.\n\nCompared with ordinary electromechanical relays and diverse forms of con-\ntact, in the MEMS relay, contact structure, planar structures between the\nactive contact electrode and the fixed contact electrode are used mostly; this\nprocess is also a planar process. As shown in Figs. 10.2 and 10.5, the process\nis not very complicated and is widely applied.\n\n10.3 DYNAMICS MODELING AND SIMULATION\nANALYSIS FOR MEMS RELAY\n\n10.3.1 Electrostatically Actuated MEMS Relay\n10.3.1.1 Driving Voltage of Electrostatic Relay\nFor the structure shown in Fig. 10.21, the beam width is w, which is also the\nwidth of electrostatic relay, and the lower electrode width is W, when the\nspacing between the upper and lower electrodes is h and the driving voltage\nis U, the electrostatic force is:\n\nFe 5\n1\n2\nU2U\n\ndC\u00f0h\u00de\ndh\n\n52\n1\n2\nU\n?0AU2\n\nh2\n\u00f010:9\u00de\n\n(A5w3W, is the relative area between the upper and lower plates.)\n\nWith the increase of bias voltage U, electrostatic force Fe between the upper elec-\ntrode and the lower electrode also increases, meanwhile the spacing h decreases,\n\nFIGURE 10.21\nDiagram of double-ended fixed microrelay structure.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 385\n\n\n\nwhich makes Fe increase also. When the upper electrode is pulled down to 2/3h,\nthe increasing electrostatic force is much greater than the increasing elastic restor-\ning force, the balance is broken and the upper electrode is pulled down.\n\nThe bias voltage that make the upper electrode be pulled down to 2/3h is\ncalled driving voltage and the expression is\n\nVpull2down 5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n8k\n\n27?0A\nh30\n\ns\n\u00f010:10\u00de\n\nwhere k is equivalent to the elastic coefficient of the beam, ?0 is vacuum per-\nmittivity with a value of 8.8543 10212 F/m, and h0 is the initial value of h.\n\n10.3.1.2 Elasticity of the Double-Ended Fixed Beam\nThe elasticity of the double-ended fixed beam consists of two elements, one is\ncaused by the stiffness of the beam, and its material properties such as Young's\nmodulus and moment of inertia about; the other is caused by the average resid-\nual stress of the beam, the expression of which can be expressed as\n\nk5 kc 1 k? \u00f010:11\u00de\nwhere kc is the coefficient of elasticity decided by the material and structure,\nand k? is the coefficient of elasticity caused by the residual stress.\n\n10.3.1.2.1 Coefficient of Elasticity kc\nFor vertical concentrated load double-ended fixed beams under the load of F\nshown in Fig. 10.22, the deflection of the beam can be expressed as\n\ny5\nMAx2\n\n2EI\n1\n\nRAx3\n\n6EI\n\u00f0x# a\u00de \u00f010:12\u00de\n\nFIGURE 10.22\nConcentrated-load double-ended fixed beams.\n\n386 CHAPTER 10: MEMS Microrelay\n\n\n\nwhere\n\nRA 5\nF\nl3\n\u00f0l2a\u00de2\u00f0l12a\u00de\n\nMA 52\nFa\nl2\n\n\u00f0l2a\u00de2\n\nI5\nwt3\n\n12\n\n8>>>>>>>>><\n>>>>>>>>>:\n\n\u00f010:13\u00de\n\ny is the deflection at x (x# a), l is length of the beam, MA and RA are the torque\nand vertical force of the A end of beam, and the units are N ?m and N, respec-\ntively. I is the moment of inertia, w and t are the width and height of the rectangle\nbeam section, respectively, and E is the Young's modulus of the beam material.\n\nSince the load of the beam is distributed, take x5 l/2 into Eq. (10.12) to obtain\nthe deflection of the center of the beam when the load is pulled at a point.\n\nFor the design of the relay its drop-down electrode is located directly below\nthe beam, the deflection of the center can be calculated by integration\nthrough the principle of superposition, which can be expressed as\n\ny5\n2\nEI\n\n\u00f0x\nl=2\n\n?\n48\n\n\u00f0l3 26l2a1 9la2 2 4a3\u00deda \u00f010:14\u00de\n\nwhere ? is the load per unit length, the total load is F5 ?W; x5 (W1 l)/2,\nthe equivalent modulus of elastic coefficient can be expressed (Fig. 10.23).\n\nkc 52\nF\ny\n52\n\n?W\ny\n\n532Ew\nt\nl\n\n? ?3 1\n8\u00f0x=l\u00de3 2 20\u00f0x=l\u00de2 114\u00f0x=l\u00de2 1 \u00f010:15\u00de\n\nFIGURE 10.23\nDiagram of double-ended fixed-beam load distribution.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 387\n\n\n\nTake the x5 (W1 l)/2 into Eqs. (10.3)?(10.7) can obtain the equivalent\nelastic coefficient.\n\nkc 5 32Ew\nt\nl\n\n? ?3 1\n\u00f0W=l\u00de3 22\u00f0W=l\u00de2 12 \u00f010:16\u00de\n\nUsing Eq. (10.16), the relationship between kc and W is shown in Fig. 10.24.\n\nAs can be seen from Fig. 10.24, the increase in the concentration of the force,\nthat is reducing W, will reduce the elastic coefficient of the beam, but for\nelectrostatic relays, reducing W will reduce the electrostatic force.\n\nWhen l5 400 ?m, w5 50 ?m, and t5 1 ?m, the influence of driving voltage\ncaused by h0 and W is shown in Fig. 10.25. As can be seen from this figure,\nthe driving voltage Vpull-down increases as the distance h0 between the upper\nand lower electrodes increases rapidly, and decreases with increasing width\nW. When W. 250 ?m, the impact of increasing W to Vpull-down is very small,\ntherefore, the value of W is 250 ?m and h0 is 4 ?m.\n\nWhen W5 250 ?m and h05 4 ?m, the influence of driving voltage caused by l\nand t is shown in Fig. 10.26. When the upper electrode length l increases and\nthe upper electrode thickness t is reduced, the driving voltage Vpull-down declines.\nHowever, the decreasing rate of driving voltage becomes slow as l increases grad-\nually. When l. 500 ?m, the impact on driving voltage is relatively small. When\nl is too large, it will affect the size limit of the relay, too small t will greatly\nimprove the sensitivity of the upper electrode to stress gradients, and thereby a\nwarping problem may happen. Taking the possibilities of the process and the\nsettings of W and h0 into consideration, l5 400 ?m and t5 1 ?m.\n\n0\n0.5\n\n0.6\n\n0.7\n\n0.8\n\n0.9\n\n1\n\n50 100 150 200 250 300 350 400\n\nFIGURE 10.24\nRelationship of kc?W.\n\n388 CHAPTER 10: MEMS Microrelay\n\n\n\n10.3.1.2.2 Coefficient of Elasticity k?\nThe elastic coefficient k? of a double-ended fixed beam is mainly influenced by\nthe average stress ?0 within the beam, the relationship is shown in following\nexpression:\n\nk? 58?0\u00f012 v\u00dew\nt\nl\n\n? ? 1\n322\u00f0x=l\u00de \u00f010:17\u00de\n\nwhere v is Poisson's ratio for the material.\n\nV\npu\n\nll-\ndo\n\nw\nn/\n\nV\n\nh/um\n0\n\n0\n\n5\n\n10\n\n15\n\n20\n\n25\n\n30\n\n35\n\n2 4 6 8\n\nFIGURE 10.25\nRelationship of h/W?Vpull-down.\n\n250\n\n0\n\n50\n\n100\n\nV\npu\n\nll-\ndo\n\nw\nn/\n\nV\n\n150\n\n200\n\n250\n\n350 450 550 650\nI/um\n\nFIGURE 10.26\nRelationship of l/t?Vpull-down.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 389\n\n\n\nGenerally, in order to improve the speed of the sacrificial layer releasing and\nreducing the effect of damping, it is necessary to drill holes in the beam. The\nholes can reduce the average stress of the beam, reducing the elastic coeffi-\ncient k?, which can be reduced to\n\n?0 5 \u00f012?\u00de?0 \u00f010:18\u00de\nwhere ? is the band efficiency of the perforated beam, defined as: ?5 l/p,\nwith l and p as shown in Fig. 10.27.\n\nIn the design of this example, the size of the hole is 5 ?m3 5 ?m, p5 20 ?m,\nl5 10 ?m, and band efficiency ?5 50%, which can reduce the stress of the\nbeam to half of the original stress. In addition, stress is also greatly different\nbetween the different processes; in the three processes usually used to pro-\nduce metal thin films, the stress of evaporation coating is highest, followed\nby sputtering, and finally electroplating. The inertial stress within the metal\nin this design is about 50?60 Mpa.\n\n10.3.1.3 Design Example\n10.3.1.3.1 Parameter Selection\nParameters are determined using the analysis in Section 10.3.1.2, they are\nalso shown in Table 10.6.\n\nFIGURE 10.27\nSchematic of p/l.\n\nTable 10.6 Parameters of Double-Ended Fixed Electrostatic Relay\n\nLength of upper electrode l/?m 400\nThickness of upper electrode t/?m 1\nLength of lower electrode W/?m 250\nWidth of electrode l/?m 50\nSpacing between upper and lower electrode h0/?m 4\n\n390 CHAPTER 10: MEMS Microrelay\n\n\n\n10.3.1.3.2 Parameter Testing\nTaking the parameters in Eq. (10.16) to obtain\n\nkc 532Ew\nt\nl\n\n? ?3 1\n\u00f0W=l\u00de3 22\u00f0W=l\u00de2 1 2 50:9741N=m \u00f010:19\u00de\n\nTaking the parameters in Eq. (10.17), ?05?0max5 2.2 Gpa,\n\nk?max 5 8?0 max\u00f012 ?\u00dew\nt\nl\n\n? ? 1\n32 2\u00f0x=l\u00de 514:18N=m \u00f010:20\u00de\n\nTherefore,\n\nk5 k?max 1 kc 5 15:16N=m \u00f010:21\u00de\nTaking k in Eq. (10.10)\n\nVpull-down 5\n\nffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi\n8k\n\n27?0A\nh30\n\ns\n5 50:97 V \u00f010:22\u00de\n\n10.3.1.3.3 Structural Modeling\nUsing Ansys to simulate the design structure, since it is complicated to simu-\nlate the upper plate because of holes, we can simulate the situation of a plate\nwithout holes. If the upper plate without holes can meet the drop-down con-\nditions, so does the plate with holes. We simulate and analyze the displace-\nment and models after modeling.\n\n1. Displacement analysis\nThe first coupling field model is shown in Fig. 10.28.\nThe obtained displacement is shown in Fig. 10.29.\nAs can be seen from Fig. 10.29, the center displacement of the plate\n\nis 2.88 ?m, which is more than two-thirds of 4 ?m, therefore it can be\npulled down.\n\nFIGURE 10.28\nCoupling field.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 391\n\n\n\n2. Models analysis\nAs expected, the relay can also be used in the case of high frequency,\n\ntherefore study of the model analysis was carried out to observe the\nvibration mode of relay in high frequency. The results are shown in\nFig. 10.30.\n\nAs can be seen from this figure, the relay is unable to work on the\nsecond-order model or more, therefore the working frequency of the\nrelay should be controlled at under 50 kHz to maintain normal use.\n\n10.3.2 Electromagnetic Actuated MEMS Relay\nIn this section, we use the parameters of electromagnetic relay in Table 10.4\nas the basis for modeling of dynamics analysis, air damping, magnetic field\nstrength, and modality, which reflects the general method for the design and\nanalysis of the electromagnetic relay.\n\n10.3.2.1 Dynamic Modeling and Analysis\nFig. 10.31 is a geometric model of the movable electrode kinetics. The origin\nof the Cartesian coordinate system is at the centroid of the movable electrode\nand the angle between the x-axis and the longitudinal direction of the mov-\nable electrode is ?, the y-axis coincides with the axis of the twist beam.\nA movable electrode rotates clockwise or counterclockwise with angular\nvelocity ? between the two stable states and the angle of rotation is ?.\nThe direction of the permanent magnetic field is parallel to the axis.\n\nFIGURE 10.29\nDisplacement of upper plate.\n\n392 CHAPTER 10: MEMS Microrelay\n\n\n\n(A)\n\n(B)\n\n(C)\n\n(D)\n\n(E)\n\nFIGURE 10.30\nSchematic of different models. (A) First-order model, f5 19,312 Hz; (B) second-order model, f5 52,853 Hz; (C) third-order model,\nf5 102,980 Hz; (D) fourth-order model, f5 129,540 Hz; (E) fifth-order model, f5 169,300 Hz.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 393\n\n\n\nAssuming that the active electrode\u2019s inversion process is affected only by the\npermanent magnetic field, we can use a typical second-order dynamic model\nto describe the movement of the movable electrode, excluding the movement\nthat is caused by being picked up to the contact electrode. And when the\ncontact is closed, the kinetic energy of the movable electrode is zero with no\nrebound.\n\nAssuming that the rotation angle of the movable electrode is\n?\u00f0t\u00de,0#?\u00f0t\u00de# 2?, the kinetic model of the movable electrode is as follows:\n\nIy\nd2?\u00f0t\u00de\ndt2\n\n12K??\u00f0t\u00de5 Tmag 1 Td \u00f010:23\u00de\n\nwhere Iy is the moment of inertia of the movable electrode around the twist\nbeam\u2019s axis of rotation, Iy 5\n\nP\u00d0\nVm\n\u00f0x2 1 z2\u00dedm. Vmis the volume of the mov-\n\nable electrode and m is its quality. When the rotation angle of the movable\nelectrode shown in Fig. 10.31 ?\u00f0t\u00de# ?, Tmag 5?0?rHpz2Vm\u00f0?2?\u00f0t\u00de\u00de. And\nwhen the rotation angle of the movable electrode ?\u00f0t\u00de. ?,\nTmag 5?0?rHpz\n\n2Vm\u00f0?\u00f0t\u00de2 ?\u00de. Td is the damping torque by air damping of the\nmovable electrode during the descent process, Td 5C d?dt , C is the damping\ncoefficient, the other parameters have the same meanings as defined above.\nThus, the model of the movable electrode kinetic becomes:\n\nIy\nd2?\u00f0t\u00de\ndt2\n\n12K??\u00f0t\u00de5?0?rHpz2Vm\u00f0?2?\u00f0t\u00de\u00de1Td;?\u00f0t\u00de# ?\n\nIy\nd2?\u00f0t\u00de\ndt2\n\n12K??\u00f0t\u00de5?0?rHpz2Vm\u00f0?\u00f0t\u00de2 ?\u00de1Td;?\u00f0t\u00de. ?\n\n8>>>><\n>>>>:\n\n\u00f010:24\u00de\n\n10.3.2.2 Analysis of Air Damping\nIn the movement of the movable electrode, one of its ends goes downward,\nand the other goes upward. Due to the presence of an air flow field, when\nthe movable electrode rotates around the axis of the twist beam, the air pres-\nsure between the end that goes downward and the plane of the fixed\n\nFIGURE 10.31\nThe positional relationship between the movable electrode and the axis.\n\n394 CHAPTER 10: MEMS Microrelay\n\n\n\nelectrode changes in distribution, resulting in a squeeze-film air damping\neffect from the presence of the air damping torque generating the pressure\ndistribution on the surface of the movable electrodes [20]. Assuming that\nduring the twisting of the movable electrodes, the air near the end that goes\ndownward is incompressible and has constant viscosity. The air damp in\nMEMS devices could usually linearize nonlinear squeeze-film Reynolds equa-\ntion [21], and get the squeeze-film Reynolds equation:\n\n@\n\n@x\nh3\n\n@P\n@x\n\n? ?\n1\n\n@\n\n@y\nh3\n\n@P\n@y\n\n? ?\n512?0\n\n@h\n@t\n\n\u00f010:25\u00de\n\nwhere Pis the air damping pressure on the movable electrode. his the average\nthickness of the air film, referring to the film thickness of the air between the\nplane of the lower surface of the movable electrode and the contact electrode\nand is influenced by the rotation angle of the movable electrode. ?0 is the\ndynamic viscosity of air, which is usually 1.793 1025 Pa.s at room tempera-\nture. As shown in Fig. 10.32, suppose that the initial state of the movable elec-\ntrode is stable state 1, for example, when the movable electrode twist from\nstable state 1 to stable state 2, the end that goes downward compresses the air\nbelow. In the figure, h0 is the height of the axis of the twist beam from the\nfixed electrode, and ? is the rotation angular velocity of the movable electrode.\n\nSince the movable electrode is rotating around the y-axis, the air damping\npressure P is distributed consistently in the y-axis direction. Thus, @P=@y5 0.\nThe initial angle between the movable electrode and the y-axis is ?, therefore\nh5 h0 1 \u00f0?2?\u00f0t\u00de\u00dex, and the squeeze-film Reynolds equation is:\n@2P\n@x2\n\n1\n3\nh\n\u00f0?2?\u00f0t\u00de\u00de @P\n\n@x\n52\n\n12?0\nh3\n\n?x \u00f010:26\u00de\n\nThe angular velocity ?5?0\u00f0t\u00de and P\u00f00\u00de5 P\u00f00:5lm\u00de5 0. Therefore, we get the\nair-damping pressure P\u00f0x\u00de. Due to the rotation around the y-axis of the twist\nbeam, the air-damping torque on the end that goes downward of the mov-\nable electrode is:\n\nTd 5\nZZ\n\nA\nP\u00f0x\u00dexdA5\n\nZZ\nA\nP\u00f0x\u00dexdxdy \u00f010:27\u00de\n\nFIGURE 10.32\nModel of air compression.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 395\n\n\n\nwhere A is the surface of the movable electrode dropping side, and we obtain\nthe damping coefficient C5 Td? .\n\nThe air-damping influence on the dynamic response of the movable elec-\ntrode is mainly reflected in the impact of air-damping torque on the switch-\ning time and moving speed generated by the movable electrode\u2019s downward\nmovement, which depends mainly on the ratio of the damping torque of\nthe air and the driving torque. When the driving torque and air pressure\ndamping torque are almost the same magnitude, the influence of the\nsqueeze-film air damping effect on the movement of the movable electrode\ncan not be ignored. However, when the driving torque is much larger than\nthe air-damping torque, the air-damping torque can be ignored.\n\n10.3.2.3 The Effect of a Permanent Magnetic Field and Torsional\nStiffness of the Movable Electrode Beam on Switching Time\nIn the following section, the impact of magnetic moment on the movable\nelectrode switching time by increase the permanent magnetic field, as shown\nin Fig. 10.33, and the relationship between the switching times of movable\nelectrode and the strength of permanent magnetic field are studied. When\n\nFIGURE 10.33\nThe impact of magnetic moment on the switching time of the movable electrode.\n\n396 CHAPTER 10: MEMS Microrelay\n\n\n\nthe magnetic moment increases, the switching speed of the movable elec-\ntrode will also increase, and the speed increase ratio is almost equal to that\nof the magnetic field. If the magnetic moment is too small, the movable elec-\ntrode will not be able to reach the fixed electrode. Thus, an appropriate\nincrease in the permanent magnetic field can effectively improve the switch-\ning speed of the movable electrode. However, the faster the movable elec-\ntrode is, the shorter the life of the electrode will be, and it will also be easier\nto rebound, which is contradictory to the pursuit of a fast response.\n\nAs shown in Fig. 10.34, the stiffness of the torsion beam,K?, has a direct\nimpact on the switching time of the movable electrode. We can see from the\nfigure that the greater the stiffness is, the longer the response time that the\nmovable electrode will have. Thus, under the premise of ensuring the torque\nof the torsion beam is less than the maximum allowable torque, we should\nreduce the stiffness to improve the response speed of the movable electrode.\n\n10.3.2.4 Modal Analysis\nMode shape is a characteristic of the mechanical structure\u2019s natural vibration.\nEach modal has its own specific natural frequency, damping ratio, and mode\nshape. Modal analysis is an important method of dynamic design and fault\n\nFIGURE 10.34\nEffect of the stiffness of the twist beam torsional on the angular velocity.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 397\n\n\n\ndiagnosis of the structure to be analyzed to determine order resonance fre-\nquencies and mode shapes. We used finite element software ANSYS to ana-\nlyze and used unit Solid98 to build an analysis model. We took the\nstructural parameters in Table 10.4 as an example for finite element analysis\nwithout damping, as shown in Fig. 10.35, and the frequencies of each mode\nare shown in Table 10.7.\n\nWe can see from the image of the modal shape, the first-order mode shape is\ntorsion of the twist beam along the longitudinal direction (y-axis) without\nmovement in another direction, which also verified that the bending deflec-\ntions caused by the gravity and electromagnetic force are negligible in the\nanalysis.\n\n(A) (B)\n\n(C) (D)\n\nFIGURE 10.35\nImages of the first- to fourth-order mode shape of the movable structure. (A) The first-order mode shape, (B) the second-order mode\nshape; (C) the third-order mode shape; (D) the fourth-order mode shape.\n\nTable 10.7 The Frequencies of the First- to Fourth-Order Mode Shapes (Hz)\n\nFirst-Order Mode\nShape\n\nSecond-Order Mode\nShape\n\nThird-Order Mode\nShape\n\nFourth-Order Mode\nShape\n\n4525 14088 0.169443 106 0.192453 106\n\n398 CHAPTER 10: MEMS Microrelay\n\n\n\nThe frequency of the second-order mode is 14,088 Hz, which is almost four\ntimes the frequency of the first order. A translational motion of movable\nelectrode parallel to the direction along its thickness bends the twist beam.\nThe resonant frequencies of second- and higher-order modes are much larger\nthan that of the first order, so the target mode and nontarget modes are well-\nisolated, which is to say that the first-order mode is not affected by other\nhigher-order modes.\n\n10.3.2.5 Transient Analysis\nLet\u2019s take the structural parameters in Table 10.4 as an example. We used the\nMEMS simulation software CoventorWare for transient simulation of the\nmovable electrodes, and the analysis results are shown in Fig. 10.36.\nThe strength of the permanent magnetic field Hpz 5 85 kA/m, the pick-up cur-\nrent is about 100 mA, and the switching time is approximately 100 ?s.\n\nInput pulse voltage signal into the input terminal of the coil to get the mag-\nnetization in three directions near the tip of the movable electrode and the\ncomparison of the input and the output signal. Here, i is the current signal\ninput in amperes (A), and mx, my, and mz represent magnetization along the\ndirection of the length (x axis), width (y axis), and thickness (z axis) of the\nmovable electrode in Tesla (T), respectively. hx represents the induction density\ngenerated by the coil along the direction of x, in amperes per meter (A/m).\nry is the output rotation angle of the movable electrode around the y-axis in\nradians (rad).\n\nAs can be seen from Fig. 10.36, the coil generates a pulse magnetic field along\nthe x-direction when applied on an input pulse signal, and the state of the mov-\nable electrode is reversed, and continues to maintain a constant twist angle after\nthe end of the pulse signal until the arrival of the next switching pulse.\n\nDuring the pulses, the maximum amplitude of mx is about 0.8 T, the order\nof magnitude of the amplitude of my is 1026, and the amplitude of mz is\nabout 0.12 T. As can be seen from Fig. 10.36, during the pulses, Hpz and\nHcoil-x have a superimposed effect on mx. When the pulse ends, there is a\nweak decrease in mx, as a result of Hcoil-x5 0. The magnetization in the direc-\ntion of the y-axis is only related to Hcoil-y. This is zero when the pulse ends.\nAlthough the thickness of the movable electrode is much smaller than its\nlength and width, mz can not be ignored compared to mx. As the length is\nmuch larger than thickness, the easy magnetization direction of the movable\nelectrode is still in the longitudinal direction, which is to say in the direction\nof the x-axis; mx is much larger than mz.\n\nSimulation results show that the magnetization direction of soft magnetic\nmaterial is affected by many factors. The size and amplitude of the magnetic\nfield in the direction of the material are both important determinants.\n\n10.3 Dynamics Modeling and Simulation Analysis for MEMS Relay 399\n\n\n\nFIGURE 10.36\nThe result of transient analysis.\n\n\n\n10.4 PROCESSING TECHNOLOGY FOR MEMS RELAY\n\n10.4.1 Process of Electrostatic-Driven Relay\nUse the release process of the sacrificial layer for the metal membrane struc-\nture [22] (Figs. 10.37?10.39).\n\nUse high-resistivity silicon (Si) as the substrate (layer 1).\n\nProduce an SiO2 layer of 5000 angstroms by thermal oxidation as a passiv-\nation layer. Sputter a Ti layer of 1000 \u00c5 as an adhesion layer, then sputter Au\n\nFIGURE 10.38\nLayout design.\n\nFIGURE 10.37\nThe process design of the high-resistivity Si substrate.\n\n10.4 Processing Technology for MEMS Relay 401\n\n\n\nwith a thickness of 1000 \u00c5, and get a seed layer for electroplating by a posi-\ntive photoresist stripping process.\n\nSpin-coat a polyimide layer of 2 ?m. Use the positive resistant developer to\netch the polyimide layer in the photolithography process, to expose the bot-\ntom layer of Au as the plating mold.\n\nElectroplate the Au to a thickness of 1.8 ?m, the thickness of the plated layer\nis close to that of the polyimide layer.\n\nFIGURE 10.39\nLayout that contains multiple structural beams.\n\n402 CHAPTER 10: MEMS Microrelay\n\n\n\nRemove the polyimide by etching, use solution (KI1 I2) to etch to Au seed\nlayer on the edge and remove the TiW adhesion layer by hydrogen peroxide\nimmersion. Deposit Si3N4 by PECVD (with a reference temperature of\n300?C), and make sure the thickness is 3000 \u00c5 with a flat upper surface\nwhose surface roughness is lower than 10 \u00c5, to get a dielectric layer.\n\nRemove the peripheral portion of Si3N4 by etching to expose the Au layer.\n\nSpin coat polyimide (6.3 ?m), the upper surface of which needs to be flat,\nand patternize the polyimide to prepare for the sputtering of the electrode.\n\nStep sputter Au, 0.25 ?m per step with a total thickness of 1 ?m. The stress of\nthe sputtered metal layer should be as low as possible to avoid buckling after\nthe structure releases.\n\nElectroplate the anchor area (the plating area expands by 2 ?m), and bond\nwith the sputtered layer. The anchors need to be firmly connected with the\nstructure layer.\n\n10.4 Processing Technology for MEMS Relay 403\n\n\n\nPattern the Au layer by lithography.\n\nRemove the polyimide to release the structure.\n\n10.4.2 Process of Electromagnetic-Driven Relay\nFig. 10.40 illustrates the micromachining of an electromagnetic-driven MEMS\nrelay, wherein the pillar plays a supportive role in the torsion structure and\nthereby generates a motion gap for movable electrodes. It is an important\nauxiliary structure. The coil and fixed contact electrode are located below the\ntorsion structure.\n\n10.4.2.1 Key Process\nThroughout the process, the concrete realization of the coil and soft magnetic\nmaterial processing and other critical processing steps determine the overall\nprocessing performance and performance parameters of the relay. The follow-\ning subsections discuss these two key processes.\n\n10.4.2.1.1 Processing of the Coil\nTo pattern the metal membrane, a common method is wet etching, resist strip-\nping, and electroplating. To increase the current capacity of the coil\u2019s wire, it is\nnecessary to improve the cross-sectional area of the wire. The increase in the\nwire width will increase the coil size, resulting in an increase in the relay struc-\nture and the inhomogeneity of the magnetic field, which is not conductive to\n\nFIGURE 10.40\nRelay structure micromachining diagram.\n\n404 CHAPTER 10: MEMS Microrelay\n\n\n\nthe miniaturization of the structure and the polarization of movable electro-\ndes. Therefore, a suitable method is to increase the wire thickness.\n\nDue to the large thickness of the coil, it is easy to take the metal coil off the\nsubstrate totally when stripping the photoresist. Therefore, methods like wet\netching and electroplating are used to process the coil, and then assess and\ncompare the processing quality. On this basis, we chose electroplating as the\nmethod for processing a planar coil and the fixed contact electrodes.\n\n1. Wet Etching\nIn the MEMS process, wet etching is widely used in a variety of\nstructures for its simplicity, fast etching rate, and other features. Thus,\nwet etching is first used to processing the coil. The process is as\nfollows: first, sputter Cr/Au sequentially by magnetron sputtering on\nthe surface of the glass as the seed layer for plating, whose thicknesses\nare 30/150 nm each. Second, prepare the Au layer by electroplating,\nwith a thickness tc of B1 ?m and a line width w of 12 ?m, while the\ncenterline spacing dcc is 26 ?m, and wire segment pitch is 14 ?m. Third,\ncoat photoresist, pattern the coil and pads, and use the wet etching\nmethod to etch the coil.\nAs shown in Fig. 10.41A, after the end of the corrosion, the line\n\nwidth w is less than 10 ?m, while the spacing for wires s is close to\n16 ?m. According to the characteristics of the coil when generating a\nmagnetic field, the increase in the centerline spacing under the same\ncurrent leads to a sparse magnetic field distribution. Thus, such a\nprocess affects the load capacity of the relay.\n\n(A) (B)\n\nFIGURE 10.41\nSEM image of the planar coil after wet etching process. (A) The actual size of the coil; (B) etched coil sections.\n\n10.4 Processing Technology for MEMS Relay 405\n\n\n\nFig. 10.41B shows a cross-sectional side cut of the coil. We analyze and\ndiscuss such process effectiveness from the aspect of the mechanics of the\nmaterials. In this process, we sputter the seed layer first, then electroplate,\nand finally wet etch, in order to obtain the coils. As the bottom Au layer is\nmade by sputtering, its grain size is small and the density of the grain\nboundary is high, resulting in many intergranular boundary defects. As the\nenergy needed when etching is low, the etching speed is high. When the\ntop Au layer is made by plating, its grain size is large with less grain\nboundaries, which means less defects. Thus, the etching rate is low.\n\n2. Electroplating\nElectroplating is commonly used in metal patterning in MEMS, the\nbiggest advantage is obtaining a desired pattern fast and accurately. The\nprocessing order when processing coil by electroplating is slightly\ndifferent from that by wet etching. The main steps are: (1) sputter the\nseed layer of Ti/Au, to a thickness of 50/100 nm; (2) coat photoresist,\nexpose, and develop; (3) electroplate and remove the resist; and (4)\nphysical sputter argon ions to remove the seed layer, which is usually\nreferred to as the antisputtering process.\n\nElectroplating can control the size and precision of the coil accurately,\nand is a metallization forming method to obtain high dimensional\naccuracy. However, such a method has its disadvantages, i.e., when\nphysical sputtering the argon ion, the surface of the coil and the fixed\ncontact electrode also suffer from high-speed ion bombardment, and\nsurface materials are consequently lost. Thus, the timing of the\nantisputtering process requires strict control.\n\nAs shown in Fig. 10.42, we used the same 4003 optical microscope\nto capture the images of the coil processed by two different methods;\n\n(A) (B)\n\nFIGURE 10.42\nComparison of the planar coil processed by electroplating and wet etching: (A) electroplating; (B) wet etching.\n\n406 CHAPTER 10: MEMS Microrelay\n\n\n\nFig. 10.42A shows the coil wire layout width of 15 ?m, and Fig. 10.42B\ncoil wire layout width of 12 ?m. Fig. 10.42A is the image of coil\nprocessed by plating, and Fig. 10.42B by a wet etching method.\nObviously, the coil in Fig. 10.42A has neater edges and a better-quality\nsurface than that in Fig. 10.42A. Although improved electroplating\nsolution formulation could help improve the coil\u2019s surface quality, it is\nrelatively difficult to avoid the side cut phenomenon.\n\nBased on the above analysis, the electroplating method is more suitable for\nthe structure of the relay in this embodiment, and thus the ultimate method\nfor making a planar coil is electroplating.\n\n10.4.2.1.2 Soft Magnetic Materials Processing\nMEMS magnetic sensors or actuators usually use the microelectroforming\nmethod to deposit soft magnetic material, which is several microns to tens of\nmicrons in thickness. In the microelectroforming process, photoresist such as\npositive photoresist AZ1500, AZ4620, negative photoresist SU-8, etc., are\ncommonly used, the latter of which may be up to a thickness of about\n500 ?m. AZ4620, generally used for construction of about 10 ?m, whose\nprominent feature is being able to obtain a uniform thick film structure, has\nconsequently been widely used by researchers.\n\nUsually in the microelectroforming process, it is required that the thickness\nof the photoresist is slightly greater than that of the microelectroforming\nmembrane, in order to achieve better electroplating effects. Without consider-\ning some weak deformation of the edge of graphics of the photoresist caused\nby various factors in the lithography and microelectroforming process, the\npattern of metal membrane after plating and photoresist is consistent in size.\nIn this embodiment, the movable electrode pattern is relatively simple, the\nrequirement is uniform deposition layer and thickness to meet the condi-\ntions. The following focuses on the process experiments using photoresist of\nthe AZ1500 series.\n\nIn the AZ series photoresist, the 1500 series is most widely used in the thin-\nmembrane lithography process, with common thicknesses of about 2 ?m,\nbut the thickness of the nickel?iron film herein is larger than 2 ?m. Thus, in\norder to verify the feasibility of the process design and to measure and com-\npare the growth rate of the microelectroforming membrane on both sides\nand upward, we designed a test process in which the resist pattern\u2019s thickness\nis less than that of the target film.\n\nWhen microelectroforming, as the thickness of the membrane exceeds the\nthickness of the photoresist material, the membrane continues to grow and\nis not restricted by the photoresist; it will grow not only upward but along\nthe sides as well, which means the final membrane\u2019s pattern sectional shape\n\n10.4 Processing Technology for MEMS Relay 407\n\n\n\nwill be mushroom-like, as shown in Fig. 10.43. w is the cross-sectional width\ndimension of the resist pattern, a is the width dimension of the membrane\u2019s\nlateral growth. In addition, in order to facilitate the description, a0 is the lat-\neral width of the longitudinal direction of the membrane\u2019s growth.\n\nThe process is as follows: (1) the thermally oxidized silicon has an oxide\nthickness of about 4300 \u00c5. (2) Sputter Cr/Au on the wafer surface after oxi-\ndation. The sputtering thickness is 200/900 \u00c5, the sputter time is 3/8 min,\nrespectively. (3) Coat photoresist and then lithograph. If the coating process\nneeds to be done more than once, in order to improve the affinity of the\nsubstrate, it should be dried for 2 min at 100?C each time after lithography,\nand RF plasma-based dry cleaning should be used to strip the resist for\n2 min for descumming. (4) Use the stylus profiler to measure the thickness\nof the photoresist, and backup.\n\nIn order to investigate the microelectroforming effect when the thickness\nof the microelectroforming membrane is larger than or equal to that of\nthe photoresist, we carried out four sets of experiments in total, using four\ngroups of silicon wafers (No. 1?4). For each group, the photoresist coat-\ning thickness of wafers is different from the other group. The target thick-\nnesses for No. 1?4 were 2, 3, 5, and 7 ?m, respectively. To verify\nthe actual design size as accurately as possible, considering that the\n\nw\n\nBasement\n\nPhotoresist\n\nResist\n\nPhotoresist\n\nelectroplated membrane\n\nw\nw+2a\n\n(A)\n\n(B)\n\n(C)\n\nFIGURE 10.43\nMicroelectroforming process using AZ1500 photoresist. (A) Width section of lithographic pattern before microelectroforming; (B) width\nsection of membrane with photoresist after microelectroforming; (C) width section of membrane without photoresist after\nmicroelectroforming.\n\n408 CHAPTER 10: MEMS Microrelay\n\n\n\nmembrane has lateral growth when exceeding the lithograph thickness,\nthe pattern size used by the experiment was 780 ?m3 180 ?m,\n840 ?m3 180 ?m, and 850 ?m3 190 ?m, respectively. The above steps\nand the specific parameters after lithography are shown in Table 10.8.\n\nAs can be seen from Table 10.8, for the thickness of photoresist, as the number of\ncoating times increases, the difference between the center and edge of the wafer\ngrows. There are many reasons for this thickness difference, including human fac-\ntors in process operation, test point selection when using the stylus profiler, the\nbalance of the rotation platform, and so on. However, the main cause was the\naccumulation of surface undulation caused by repeated photoresist coating.\nThus, as the thickness of the photoresist and the number of coating times\nincreases, the thickness uniformity of the photoresist becomes increasingly poor.\n\nBefore the microelectroforming process, the wafer was dried for 20 minutes\nat 100?C, and then descummed. Use the microelectroforming formulations\nand techniques mentioned in section 10.2 on microelectroforming, wherein\nthe temperature is 60?C and the current density is 10 mA/cm2. The time of\nmicroelectroforming is about 66 minutes and the pH is 3.25.\n\nAs shown in Fig. 10.44, we use sample No. 3 with the best photoresist con-\nsistency to illustrate the sectional shape and size of the microelectroforming\nsample. The pattern size of the photoresist is 780 ?m3 180 ?m and\n840 ?m3 180 ?m.\n\nSince the pattern size of the microelectroforming membrane is tiny, it is diffi-\ncult to get the cross-section of the sample membrane vertical to the SEM\nimaging direction, so the measurements will be slightly different from reality,\nhowever the data are basically credible. As shown in Fig. 10.44(A) and (C),\nthe cross-sectional shape of the microelectroforming membrane is\nmushroom-like, the cross-sectional width w of the resist pattern on the bot-\ntom part of the membrane is approximately 180 and 179 ?m, while the\ncross-sectional width of the resist pattern is 180 ?m. Considering human\nmeasuring errors, the thickness of the microelectroforming membrane can be\n\nTable 10.8 Some Photoresist Coating Parameters of the Soft Magnetic Material\nMicroelectroforming Experiment Using AZ1500\n\nNo. Resist Thickness (\u00b5m)\nMethod of\nCoating\n\nRotation Speed\n(Rad/min) Time (min)\n\nNumber of\nCoatings\n\n1 Edge 2.28 Center 2.30 Spin coating 3000 5 1\n2 Edge 3.02 Center 2.85 Spin coating 3000 5 1\n3 Edge 5.40 Center 5.46 Spin coating 3000 8 2\n4 Edge 8.83 Center 7.54 Spin coating 3000 10 3\n\n10.4 Processing Technology for MEMS Relay 409\n\n\n\nassumed to be within the resist pattern coinciding with the photoresist thick-\nness. As shown in Fig. 10.44(B) and (D), the thickness of the microelectro-\nforming membrane above the resist pattern is about 5.5 ?m, and (A) is\nabout 5.04 and 4.9 ?m in each figure. Their sizes of are almost the same.\n\nFig. 10.44 shows only relevant dimensions of cross-sectional width with the\nwidth direction for comparison. For a more comprehensive study to compare\nthe growth rate of microelectroforming membrane over the photoresist, the\nsizes of a0 are needed. As the membrane is tiny, it is difficult to get the cross-\nsection along the length direction, so we need to obtain a0 in an indirect way\nby measuring the total size of the membrane to estimate the approximate\n\n(A) (B)\n\n(C) (D)\n\nFIGURE 10.44\nCross-sectional SEM images of microelectroforming soft magnetic material sample. (A) General cross-sectional SEM image\n(780 ?m3 180 ?m); (B) cross-sectional SEM image of membrane (780 ?m3 180 ?m); (C) general cross-sectional SEM image\n(840 ?m3 180 ?m); (D) cross-sectional SEM image of membrane (840 ?m3 180 ?m).\n\n410 CHAPTER 10: MEMS Microrelay\n\n\n\nrange. As shown in Fig. 10.45, a complete vertical view of the nickel?iron\nmembrane, the pattern size of photoresist is about 850 ?m3 190 ?m. And\nthe membrane is about 860 ?m3 204 ?m, which is 14 ?m larger along the\nwidth direction and 10 ?m larger along the longitudinal direction. Thus, a is\n7 ?m and a0 is 5 ?m. Considering the error caused by the imaging angle and\nhuman error, we can conclude that the lateral growth rate of the membrane\nalong the width direction and the longitudinal direction should be very close\nwhen it exceeds the photoresist in thickness.\n\n10.4.2.2 Micromachining Process\nUnder the premise of the critical process being implemented, we conducted a\nfeasibility analysis of the process, to clarify the tasks of various stages of the\nwhole process. We took the use of mature technology as a criterion, com-\nbined with the current status of the domestic MEMS technology, and\ndesigned the detailed process. Each major step process is as follows:\n\n1. Preparation of the substrate\nUse 7740 4-inch glass as the substrate, with a thickness of 500 ?m,\nwash and dry the glass, as shown in Fig. 10.46A.\n\n2. Sputtering seed layer # 1\nSputter a Ti/Au composite metal layer on glass with a substrate\nthickness of 50/100 nm as the pad plating fixed-contact electrode and\na seed layer for plane coil, as shown in Fig. 10.46B:\n\n3. Lithography No. 1\nCoat positive photoresist AZ4330, expose, and develop, to form a\nfixed contact electrode pad pattern.\n\n4. Plating fixed-contact electrode pads\nPlate Au fixed-contact electrode pad. The thickness is 0.3 ?m. Remove\nthe resist, as shown in Fig. 10.46C.\n\nFIGURE 10.45\nThe SEM image of the total membrane size (850 ?m3 190 ?m).\n\n10.4 Processing Technology for MEMS Relay 411\n\n\n\n5. Lithography No. 2\nCoat positive photoresist AZ4330, expose, and develop, to get the\nfixed-contact electrode pattern and the planar coil.\n\n6. Plating planar coil and fixed-contact electrodes\nPlate Au planar coil and fixed-contact electrodes. The thickness is\n1.2 ?m. Remove the resist, as shown in Fig. 10.46D.\n\n7. Remove seed layer No. 1\nAntisputter to etch the seed layer of No. 1, and form the planar coil\nand fixed-contact electrodes, as shown in Fig. 10.46E.\n\n8. Lithography No. 3\nCoat photosensitive polyimide with a thickness of 5.5 ?m, expose,\nand develop to get the pattern of the twist beam pillar.\n\n9. Sputtering seed layer No. 2\nSputtering a Ti/Au composite metal layer and the layer for the contact\nelectrodes with a thickness of 50/100 nm, as shown in Fig. 10.46F.\n\n10. Lithography No. 4\nCoat positive photoresist AZ4330 with a thickness of 30 ?m, expose,\nand develop, to form the pattern of the movable structure.\n\nFIGURE 10.46\nMicromachining process of relay. (A) Preparation of the substrate; (B) sputtering seed layer 1; (C) plating fixed contact electrode pads;\n(D) plating planar coil and fixed contact electrodes; (E) remove the seed layer 1; (F) sputtering seed layer 2; (G) electroplating Au;\n(H) microelectroforming nickel?iron alloy; (I) removing the seed layer 2; (J) dicing and releasing the sacrifice layer.\n\n412 CHAPTER 10: MEMS Microrelay\n\n\n\n11. Electroplating Au\nPlate Au to form the movable structure with a thickness of 5.5 ?m, as\nshown in Fig. 10.46G.\n\n12. Lithography No. 5\nCoat positive photoresist AZ4620, expose, and develop, to get the\nfixed movable electrodes pattern.\n\n13. Microelectroforming nickel?iron alloy\nMicroelectroform nickel?iron alloy with a thickness of 24 ?m, using\nacetone to remove the resist, as shown in Fig. 10.46H.\n\n14. Remove seed layer No. 2\nAntisputter to etch seed layer No. 2, to get the polyimide exposed, as\nshown in Fig. 10.46I.\n\n15. Dicing and releasing the sacrifice layer\nDice and remove the photosensitive polyimide to release the movable\nstructure, as shown in Fig. 10.46J.\n\n16. Packaging\nBond the wires and package.\n\n17. Adhesion of the permanent magnets\nAdhere the precision machined permanent magnetic membrane\ndirectly above the envelope.\n\n10.4.2.3 The Layout Design\nAfter designing the process, we need to design and draw the mask.\n\nThe mask design must minimize the adverse impact on the parameter of\nimage size due to the characteristics of the process, which is the basic criterion\nof mask design. Meanwhile, the mask design needs to take full account of the\ndifferent requirements and characteristics of every step in the process, such as\nthe type and characteristics of the resist, process type, pattern transfer, overlay\noperation, dicing, wire bonding, and so on, as well as positive and negative\nmask, and the corresponding relationship between the different layers.\n\nTo make it easy for operators to quickly align the adjacent overlay relation-\nship between the two layers, the mask uses a cross symbol as an alignment\nsymbol, as shown in Fig. 10.47, with the pattern of the alignment symbol\noverlapping. Considering a variety of factors in the process and according to\nthe photolithography sequence, beginning from the second layout, the edge\nof the alignment mark on each layout is widened for 10 ?m compared with\nthe previous layout. As shown in Fig. 10.47, the color of the cross edge is\nfaded from the inside to the outside, and the graphic with the deepest color\nis the alignment symbol on the first mask.\n\nOn the basis of the above factors, we used the Tanner EDA L-Edit software as\nthe tool for mask drawing. According to this process, to complete the\n\n10.4 Processing Technology for MEMS Relay 413\n\n\n\nmicromachining of relay, a total of five times lithography and a total of five\ndifferent designs of the masks are needed. We also designed four groups of\ngraphics with different structure sizes in each, as shown in Fig. 10.48. Each\ngroup's structures are distinguished from the others by the scribe line. After\nthe completion of processing, each group is packaged individually.\n\nFIGURE 10.47\nThe alignment symbol.\n\nFIGURE 10.48\nOverall layout graphics.\n\n414 CHAPTER 10: MEMS Microrelay\n\n\n\n10.5 TEST TECHNIQUES FOR MEMS RELAY\n\n10.5.1 Test Target and Equipment\n1. The test target\n\n(1) Pick-up current; (2) release current; (3) switching time; (4) contact\nresistance; (5) switching current.\n\n2. Test equipment\n(1) Welding the test circuit board with related components; (2) signal\ngenerator, Agilent 33120A; (3) oscilloscope, TDS2024B; (4) computer\npower, WD990A; (5) multimeter.\n\n10.5.2 Test Circuit and Parameters\nThe signal for the relay test should have the following characteristics:\n(1) containing positive and negative pulses; and (2) having zero signal\nbetween positive and negative pulses. Input the square wave into the RC\ndifferentiating circuit. When the time constant ?5RC is much smaller than\nthe pulse width of the input square wave signal, we can get the test signal\nwith the two output characteristics above. As shown in Fig. 10.49, we use the\nsquare wave signal Us as the input Ui of the RC differentiating circuit, and\nthe pulse signal UR is the output. Generally, when ? is less than one-fifth to\none-tenth the pulse width tw of the square wave signal, the differential circuit\nwill be set up, as shown in Eq. (10.28).\n\nUR 5RC\ndUi\ndt\n\n\u00f010:28\u00de\n\nFor example, connect the electromagnetic relay to the test circuit shown in\nFig. 10.50. The irregular curve represents the golden wire connecting the pads.\n\nThe resistance of a single coil is about 34?60 ?, and the parallel resistance for\ntwo coils is generally between 17?30 ?. As the resistance of the signal generator\nis about 50 ?, if R is less than the parallel resistance of the coils, it will reduce\nthe utilization of the generator. So we ignored R, as shown in Fig. 10.50. In the\n\nFIGURE 10.49\nUsing the RC differentiating circuit to generate the pulse signal needed.\n\n10.5 Test Techniques for MEMS Relay 415\n\n\n\nideal case, the simulation results of the relay switching time are several tens\nof microseconds to one hundred milliseconds. In reality, many factors have\nled to the extension of the switching time. For Capacitor C, we use an\nelectrolytic capacitor of 100 and 220 ?F whose value of permissible voltage is\n100 V. And the time constant for the RC differentiating circuit is about\n3.7?6.6 ms. The multimeter is used to measure the voltage drop of the light-\nemitting diode, which is about 1.68?1.85 V. The resistance values of the\ndividing resistors Ro in the contacting loop were 100, 3.3, and 5.6 k?.\n\nReferences\n[1] H. Junjun, L. Desheng, Z. Yufeng, Research status and development of micro relays,\n\nJ. Heilongjiang Aug. First Land Reclam. Univ. 12 (1) (2000) 59?64.\n[2] H. Etsu, U. Yuji, W. Akinori, Thermally controlled magnetization microrelay, in:\n\nTransducers\u201995, Eurosensors IX, the 8th International Conference on Solid-State Sensors and\nActuators, Stockholm, Sweden, June 25?29, 1995, pp. 361?364.\n\n[3] S. Jonathan, S. Scott, C.J. Kim, A liquid-filled microrelay with a moving mercury microdrop,\nJ. Microelectromech. Syst. 6 (3) (1997) 208?216.\n\n[4] S. Ignaz, H. Bernd, Comparison of lateral and vertical switches for application as microrelays,\nJ. Micromachin. Microeng. 9 (2) (1999) 146?150.\n\nFIGURE 10.50\nPackage pins and the test circuit connection diagram of LCC20.\n\n416 CHAPTER 10: MEMS Microrelay\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref1\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref2\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref3\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref3\n\n\n[5] S. Majumder, J. Lampen, R. Morrison and J. Maciel, A packaged, high-lifetime ohmic MEMS\nRF switch, in: Microwave Symposium Digest, 2003.\n\n[6] N. Nishijima, J.-J. Hung, G.M. Rebeiz, A low-voltage high contact force RF-MEMS switch,\n2004.\n\n[7] M.-A. Gretillat, P. Thiebaud, N.F. de Rooij, C. Linder, Electrostatic polysilicon microrelays\nintegrated with MOSFETs, in: Proc. IEEE MEMS Workshop 94, 1994.\n\n[8] H.-S. Lee, C.H. Leung, J. Shi, S.-C. Chang, Electrostatically actuated copper-blade microre-\nlays., Sens. Actuat. 100 (2002) 105?113.\n\n[9] S. Kang, H.C. Kim, K. Chun, A low-loss, single-pole, four-throw RF MEMS switch driven by\na double stop comb drive, J. Micromech. Microeng. 19 (2009) 035011.\n\n[10] M. Ruan, J. Shed, C.B. Wheeler, Latching microelectromagnetic relays, Sens. Actuat. 10\n(2001) 511?517.\n\n[11] F. Shi, D. Guifu, W. Yan, Development of electromagnetic micro relay for a novel\nbistable microelectromechanical system, J. Shanghai Jiaotong Univ. (2006).\n\n[12] J. Qiu, J.H. Lang, A.H. Slocum, A bulk-micromachined bistable relay with U-shaped thermal\nactuators, J. Microelectromech. Syst. 14 (2005) 1099?1109.\n\n[13] J. Simon, S. Saffer, C.-J. Kim, A liquid-filled microrelay with a moving mercury microdrop,\nJ. Microelectromech. Syst. 6 (1997) 208?216.\n\n[14] W. Baoling, Design Basis of Electromagnetic Apparatus, National Defense Industry Press,\nBeijing, 1989 32, 34, 46\n\n[15] G. Zhancheng, L. Yuxing, L. Meifeng, Microstructure and magnetic properties of electrode-\nposited Fe and Ni-based alloy foils, Chin. J. Nonferr. Metals 14 (2) (2004) 275?279.\n\n[16] P.T. William, S. Michael, B. Henry, et al., Electroplated soft magnetic materials for microsen-\nsors and microactuators, in: Transducer\u201997, Chicago, 1997, pp. 1445?1449.\n\n[17] T.S. Chin, Permanent magnet films for applications in microelectromechanical systems,\nJ. Magnet. Magnet. Mater. 209 (2000) 77.\n\n[18] L. Huijuan, Design and Technology of MEMS Bistable Electromagnetic Relay [D], Tsinghua\nUniversity, Beijing, 2008.\n\n[19] J. Schimkat, Contact materials for microrelays, in: IEEE, 1998, pp. 190?194.\n[20] M. Andrews, G. Turner, G. Turner, A comparison of squeeze-film theory with measurements\n\non a microstructure, Sens. Actuat. A 36 (1993) 79?87.\n[21] F. Pan, J. Kubby, E. Peeterst, et al., Squeeze film damping effect on the dynamic response of\n\na MEMS torsion mirror, J. Micromech. Microeng. 8 (1998) 200?208.\n[22] C. Junshou, Study on Ka-band MEMS Capacitive Switch of MOS Coplanar Waveguide,\n\nTsinghua University, Beijing, 2012.\n\nFurther Reading\nS. Guan, K. Vollmers, A. Subramanian, B.J. Nelson, Design and fabrication of a gold electroplated\n\nelectromagnetic and electrostatic hybrid MEMS relay, J. Appl. Phys. 97 (2005) 10R506.\n\nFurther Reading 417\n\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref4\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref5\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref6\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref7\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref8\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref9\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref10\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref11\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref12\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref13\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref14\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref15\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref16\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref17\nhttp://refhub.elsevier.com/B978-0-12-812672-1.00010-2/sbref17\n\n\nIndex\n\nNote: Page numbers followed by \u201cf\u201d and \u201ct\u201d refer to figures and tables, respectively.\n\nA\nAccelerometer\u2019s static error coefficient,\n\ncalibration of, 258?259\nActuators, 75?76\nAdvanced space optical attitude\n\nsensor, 167\nAPS CMOS sun sensor, 184?206\ncalculation of exposure time,\n\n193?199\nFEIC algorithm, 199?206\nfunctional components, 186\noptical system design, 187\nselection of, 187?193\nstructure design, 185?186\n\nAPS micro star sensor, 207?228\ndevelopment trend of APS\n\ntechnology, 207?209\noverall design, 209?223\nprototype, 225\nreal sky test, 225?228\nsoftware, 223?224\n\nframework, 183?184\nspacecraft attitude sensor,\n\n169?171\ninertial sensor, 171\ninfrared horizon sensor,\n\n169?170\nmagnetometer, 170\nstar sensor, 170\nsun sensor, 169\n\nstar sensor, 167?168, 176?183\ncomponents of, 178?179\ndevelopment status of CCD,\n\n179?180\nNavstar, 176\nprinciple of measurement,\n\n177?178\n\nstatus of APS CMOS, 181?183\nsun sensor, 167?168\ndevelopment trends and major\n\nproblems of, 172?175\nprinciples of, 171?172\nresearch significance, 175?176\n\nAir damping, analysis of, 394?396\nAlloy microelectroforming, 374\nAMESim, 64\nAMR magnetometer, 352?355\ncalibration of the system main\n\nparameters, 355\nprinciples and realization of,\n\n352?354\n\u201cAMRAAM\u201d system, 235?236\nANSYS, 391?392, 397?398\ntoolkits for, 71?72\n\nAntisputtering process, 406?407\nAPDL (ANSYS Parametric Design\n\nLanguage), 71?72\nAPS (Active Pixel Sensor) CMOS sun\n\nsensor\nAPS imaging sensor, selection of,\n\n187?193\ncomponents, 185?186\ndiaphragm design, 188?193\nexposure time, calculation of,\n\n193?199\nFEIC algorithm, 199?206\nfunctional components, 186\nhigh-accuracy sun spot\n\ndetermination based on\nimage correlation algorithm,\n201?204\n\ncentroiding algorithm,\noptimization of, 204?206\n\noptical system design, 187\n\nstructure design, 185?186\ntechnical research of, 184?206\n\nAPS micro star sensor, 207?228\ndevelopment trend of, 207?209\noverall design, 209?223\nelectronics, 220?221\nFOV and focal distance,\n\n209?210\ngeneral technical indexes and\n\nimplementation framework,\n213\n\nhigh-accuracy triaxial attitude\ndetermination method,\n222?223\n\ninitial capture time and\nupdating rate, 212?213\n\nNavstar, magnitude\ndetermination of, 210?212\n\noptical system, 213?215\nstar identification software, 221\ntemperature on optical system,\n\n215?219\nprototype, 225\nreal sky test, 225?228\nsoftware, 223?224, 223f\n\nAPS Model 534 minifluxgate\nmagnetometer, 351\n\nArchitectural framework technology\n(AFT), 53\n\nArea array sun sensor, 173f,\n174?175\n\nAsync/sync converter, 156, 157f\nAtmosphere environment of micro/\n\nnano satellite, 77\nAttitude control subsystem (ADCS\n\nsubsystem), 22?25, 23t\nhardware structure, 24f\n\n419\n\n\n\nAttitude control subsystem (ADCS\nsubsystem) (Continued)\n\nmain technique index and\nfunction, 22?23\n\nmain function, 22?23\nmain working mode, 23?24\nsignal flow diagram of, 25f\nsubsystem designation of, 24?25\n\nAttitude determination and control\nsystem of micro/nano\nsatellite, 75\n\nattitude control module, 95?99\ncontrol module of the\n\nmomentum wheel, 98?99\nmagnetorquer control module,\n\n96?97\nattitude control system, 85?89\nattitude determination module,\n\nsoftware design of, 89?95\nMM1 SS attitude filter, 95\nMM attitude filter, 94?95\npitch filter, 91?94\nrate filter, 89?91\nST attitude filter, 95\n\ncoordinate system, 79?80\ndesign, 87?89\nfunctional modules, 87?88\noperating modes, 88\ntask stages, 88?89\n\nNS-2 nano satellite ADCS\nsubsystem simulation,\n99?113\n\ncontrol mode 1, 99?102\ncontrol mode 2, 102?103\ncontrol mode 3, 104?105\ncontrol mode 4, 106?108\ncontrol mode 5, 108?112\nsimulation conclusions,\n\n112?113\nNS-2 satellite\u2019s ADCS subsystem\ntask analysis of, 85?86\ntechnical specifications of, 87\n\nrepresentation of attitude,\n80?85\n\naxis-angle parameters, 81\ndirection cosine matrix, 80?81\nEuler angles, 81?82\nmodified rodrigues parameters,\n\n84?85\nquaternion, 82?84\n\nspace environment of micro/nano\nsatellite, 75?79\n\natmosphere environment, 77\n\nelectromagnetic environment,\n77?79\n\ngravity environment, 76\nAttitude determination using\n\nmagnetometer, 357?360\nAuxiliary remote sensing segment,\n\n7?9\nAxis-angle parameters, 81\n\nB\nBattery charge regulator (BCR),\n\n13?16\nBattery circuit monitoring (BCM),\n\n13?16\nBias momentum state, 98\nBistable electromagnetic microrelay,\n\n369, 370f\nBulk-micromechanical bistable\n\nthermodynamic driving relay,\n371f\n\n1,4-Butynediol, 376?377\n\nC\nCable test loop, 160\nCAD/CAE analysis, 71?72\nCadmium nickel battery, 18t\nCalman filter theory, 237\nCamera subsystem, 35?38\n\ncamera electronic system design,\n37\n\ncamera structure, 36\noptical module, 36?37\nperformance indicators, 35?36\n\nCAN bus test, 163\nCarlson\u2019s federal filter theory, 238\nCarolina star power system dynamic\n\nsimulation, 41?47\nCelestial sphere, 176\nCentroiding algorithm, 202?204,\n\n203f\nChannel command/address register\n\n(CCAR), 122?123\nCharge coupled device (CCD), 172\n\nCCD star sensors, 179?180, 180t\nChemical propulsion system, 297\nChongqing Xin Chen Electronics\n\nCompany, 234\nCMOS camera tests, 2\nCollaborative optimization (CO)\n\nmethodology, 59, 68\nbasic framework of, 59?60\n\nbasic theory of, 59\ndisadvantages of, 61\nframework of, 60f\nimprovement of, 61?62\nmodern optimization algorithm,\napplication of, 62\n\nreformulate optimization, 62\nsolution of, 60?61\n\nColloid thruster, 301?302, 302f\nComb relay, 367?369, 368f\nComplex systems modeling,\n\n52?53\narchitectural framework\n\ntechnology (AFT), 53\nIDEF series modeling methods,\n\n52?53, 52t\nComponent-carrying tests, 2\nComposite-modified double-base\n\npropellant (CMDB), 319\nConcurrent subspace optimization\n\n(CSSO), 68\nConfiguration module, 67\nConstant norm constraint, 82?84\nContact electrode design, 384?385\nContact material selection, 383?384\nControl law, 75?76, 85\nControlability analysis, ground\n\nmeasurement and, 7?12\nCoordinate system, establishment of,\n\n239?240\nCopper cantilever beam microrelay,\n\n366, 367f\nCoventorWare, 399\nCrystallox, 376?377\n\nD\nData memory, 122\nData/service management, 4\nDatabase module, 68\nDigital sun sensors, 173f\nDirection cosine matrix, 80?81\nDiscipline/Design Subnet of SDIDE,\n\n66f, 68\nDouble-base propellant (DB),\n\n319?320\nDouble-ended fixed beam, elasticity\n\nof, 386?390\nDouble-ended fixed microrelay\n\nstructure, 385f\nDownlink channel composition,\n\n158?159\nDraper laboratory, 233?234\n\n420 Index\n\n\n\nE\nEarth coordinate system, 239?240\nEarth sensor, 169?170\nEGSE (electrical ground support\n\nequipment), 147?148,\n150?151, 152f, 155\n\ncomponents of, 153t\nElastic coefficient, 386?390\nElectric propulsion system, 297\nElectrical contact materials, 383\nElectromagnetic actuated MEMS\n\nrelay, 392?400\nanalysis of air damping, 394?396\ndynamic modeling and analysis,\n\n392?394\nmaterials for, 372?379\nmodal analysis, 397?399, 398f\npermanent magnetic field,\n\n396?397\ntorsion beam, stiffness of, 397\ntransient analysis, 399?400, 400f\n\nElectromagnetic environment of\nmicro/nano satellite, 77?79\n\nElectromagnetic induction method,\n345t\n\nElectromagnetic MEMS relay,\n369?372\n\nElectromagnetic-driven relay, process\nof, 404?414\n\nkey process, 404?411\nprocessing of the coil, 404?407\nsoft magnetic materials\n\nprocessing, 407?411\nlayout design, 413?414\nmicromachining process, 411?413\n\nElectronic system block diagram, 37f\nElectroplating, 406?407, 406f\nElectrostatic drive cantilever,\n\n379?381\nElectrostatic MEMS relay, 363?369\nElectrostatically actuated MEMS\n\nrelay, 385?392\ndesign example, 390?392\ndriving voltage of electrostatic\n\nrelay, 385?386\nelasticity of double-ended fixed\n\nbeam, 386?390\nElectrostatic-driven relay, process of,\n\n401?404\nEMC design requirements, 39?40\ncable laying, 40\nelectromagnetic compatibility test,\n\n40\n\nground and isolation, 39?40\nlap, 40\npower input filter requirements,\n\n40\npromoting security subsystem\n\ndesign, 41\nshielded, 40\nsignal interface design\n\nrequirements, 40\nEMR (electromechanical relay), 361,\n\n384\nEnergy conservation equation, 329\nEPROM, 121\nEuler angles, 81?84\nExtended Kalman filter (EKF),\n\n260?266, 344\ndefects of, 261?263\n\nF\nFaraday\u2019s law of induction, 342\nFederated filter, 266?269\nFederated MIMU/GPS integrated\n\nsystem, 284f\nField emission electric propulsion\n\n(FEEP), 299?301\nFiper, 64\narchitecture and functions of, 65f\n\nFourth-order Runge-Kutta method,\n248\n\nFPGA module configuration,\n132?133\n\nFree rollover state, 38f, 44?45\nFuture Extraction and Image\n\nCorrelation (FEIC) algorithm,\n175?176, 199?206\n\nFuture extraction technology,\n199\n\nG\nGas state equation, ideal, 330\nGas thruster system, 297?298, 298f\nGenetic algorithm (GA), 62\nGeocentric equatorial inertial\n\ncoordinate system, 239\nGeographic coordinate system, 240\nGeomagnetic field model, 78,\n\n270?271, 343?350\nGerman V-2 rocket, 235\nGlobal positioning system (GPS)\nbasic principle of, 278?279\nGPS subsystem, 32?34, 34f\n\nlocation/speed integration model,\n280, 280f\n\nMIMU/GPS integration, 276?281\nadvantage of, 277?278\ncomposite mode of MIMU and\n\nGPS, 279?281\nmeaning of, 276?277\n\nposition/speed integration system,\n285\n\npseudo range/pseudo range rate\nintegration model, 280?281,\n280f\n\nGravity environment of micro/nano\nsatellite, 76\n\nGround electrical comprehensive\ntest, 147, 149f, 151\n\nGround measurement and\ncontrolability analysis, 7?12\n\nGround tests of micro/nano\nsatellites, 147, 161f\n\nground electrical performance,\ncomprehensive test of,\n164?166\n\ncontent of comprehensive\ntesting of electrical properties,\n164\n\nmain test content, 165?166\nground integrated test procedure,\n\n162?164\nacceptance test of the subsystem,\n\n162\nmatching test for the subsystem\n\nand EGSE, 162\nminimum system test,\n\n162?163\nsystem-level test of a satellite,\n\n163?164\nsatellite test system, 150?160\ncomposition of, 151\ndesign requirements of,\n\n150?151\nloop selection for ground\n\nelectrical performance test,\n151?160\n\ntesting, 147?150\ndesktop testing, 148\nin environment experiments,\n\n148?150\nin launch zone of space launch\n\nsites, 150\nin the technical area of space\n\nlaunch sites, 150\nGSPS, 343?344\n\nIndex 421\n\n\n\nH\nHall effect method, 345t\nHall thruster, 302?303, 303f, 310?311\n\u201cHarpoon\u201d missile system, 235?236\nHolm model, 384?385\nHybrid driving mode MEMS relay,\n\n371?372\n\nI\nIDEF series modeling methods,\n\n52?53, 52t\nImage correlation algorithm,\n\n201?204\nInduction magnetometers, 341?342\nInertial devices, error models of,\n\n251?253\nInertial measurement unit (IMU),\n\n343?344\nminiature. See Miniature inertial\n\nmeasurement unit (MIMU)\ntraditional inertial devices,\n\n233?234\nInertial navigation system (INS),\n\n171, 235, 276?277\nInformation fusion algorithm,\n\n267?268\nInfrared earth profilers, 343?344\nInitial orbit characteristics analysis,\n\n7?12\nground measurement and\n\ncontrolability analysis, 7?12\nIntegrated electronic system, 115\n\nadvantages, 116?117\nhigh level of integration, 116\nhighly intelligent, 117\nhighly modular, 117\nhigh processing performance, 116\nrelatively high degree of\n\nreliability, 117\narchitecture, 117?119\ncomputer architecture, selection of,\n\n120\nintegrated electronic design ideas,\n\n115?116\nOBC software requirements\n\nanalysis, 133?135\nrequirement specification,\n\n133?134\nuplink telecontrol and program\n\ndata upload, 134?135\non-board computer (OBC) design,\n\n120?124\n\nbus architecture, 120?121\nCAN node, 123?124\ncommunication controller,\n\n122?123\nmemory system design, 121?122\npower supply unit, 124\nsubsystem block diagram, 120\n\nsoftware system design, 135?145\napplication design, 137\nbootloader design, 135\nbootloader flow, 137\nmission description, 137?140\nmission design, 141?145\nmission functional description,\n\n139t\nOBC power-on boot process,\n\n135?136\ntask partitioning, 137\ntime processing mission, 141t\n\ntechnical specifications, 119\ntelemetry and telecontrol (TTC),\n\n124?133\nFPGA module configuration,\n\n132?133\noperating principle of, 126?129\nsystem function and workflow,\n\n124?126\nvoltage conversion module, 133\nworking principle of, 130?132,\n\n131f\nIntegrated MIMU, prototype of, 239f\nInternational Airborne Geophysics\n\nSafety Association (IAGSA),\n344\n\nInternational Association of\nGeomagnetism and\nAeronomy (IAGA), 270\n\nInternational Geomagnetic Reference\nField (IGRF), 270\n\niSIGHT, 64\n\nK\nKalman filter (KF), 91, 260?261,\n\n355?356, 358?360\nunscented Kalman filter, 261?266\n\nKuhn?Tucker condition, 61\n\nL\nLagrange multiplier, 61\nLaser interferometer rigid pendulum\n\nsystem, 334f\n\nLaunch subsystem, main\nspecifications of, 31t\n\nLiquid MEMS relay, 371\nLiquid propellants, 318?319\n\nM\nMagnetic field measurement\n\nmethods, 345t\nMagnetic flux gate method, 345t\nMagnetic magnetometers, 341?342\nMagnetic moment, 77?78\nMagnetic resonance method, 345t\nMagnetic sensor. See Magnetometer\nMagnetic torque, 77?78\nMagneto resistance method, 345t\nMagnetometer, 341\n\nAMR (anisotropic\nmagnetoresistance)\nmagnetometer, 352?355\n\ncalibration of the system main\nparameters, 355\n\nprinciples and realization of,\n352?354\n\napplication, in Nanosat, 350?352\nAPS Model 534, 351, 351f\nattitude determination using,\n\n357?360\ncombination of MIMU and,\n\n269?276\nalgorithm model of attitude\ndetermination combination,\n272?276\n\ncomposite structures, 272\ngeomagnetic field model,\n270?271\n\nconcept, function, and application\nof, 341\n\ngeomagnetic field model,\n343?350\n\nmeasurement principles of,\n272\n\norbit determination using,\n355?357\n\nprinciple and classification of,\n341?343, 344t\n\nprinciples of orbit and altitude\ndetermination using,\n355?360\n\nMagneto-optical magnetometers,\n341?342\n\nMagnetoresistive magnetometer,\n341?342\n\n422 Index\n\n\n\nMagnetorquer control module,\n96?97\n\nnutation damping, 96\npitch axis vortex, 96?97\n\nMain control stations (Beijing)\ncontrol segment, 7\n\nMAMRM three-axes magnetometer\nmodule, 352f, 353f\n\nMass conservation equation,\n328?329\n\nMATLAB, toolkits for, 72\nMeasurement and control terminal\n\nand network subsystem,\n159?160\n\nMechanical gyroscopes, development\nof, 233?234\n\nMEMS magnetometers\n(MEMSMAGS), 343?344\n\nMEMS microrelay, 361\nbackground and significance, 361\ndesign of, 372?385\ncontact electrode design,\n\n384?385\ncontact material selection,\n\n383?384\nmaterials for MEMS\n\nelectromagnetic relays,\n372?379\n\nstructural design, 379?383\ndriving method for, 363?372\nelectromagnetic MEMS relay,\n\n369?372\nelectrostatic MEMS relay,\n\n363?369\ndynamics modeling and\n\nsimulation analysis for,\n385?400\n\nelectromagnetic actuated MEMS\nrelay, 392?400\n\nelectrostatically actuated MEMS\nrelay, 385?392\n\nprocessing technology for,\n401?414\n\nelectromagnetic-driven relay,\nprocess of, 404?414\n\nelectrostatic-driven relay, process\nof, 401?404\n\nresearch survey of, at home and\nabroad, 361?362\n\ntest techniques for, 415?416\ntest circuit and parameters,\n\n415?416\ntest target and equipment, 415\n\nMEMS thruster, 303?309\nchemical thrusters, 308?309\nelectrostatic MEMS electrical\n\nthruster, 306?307\nelectrothermal MEMS electrical\n\npropulsion, 304?306\nMEMS-based solid propellant\n\npropulsion, 311?320\nprocess flow and results, 314?317\npropellant, 317?320\nstructure and principles, 311?312\nstructure mechanics and heat\n\ntransfer simulation for\ncombustion chambers,\n312?314\n\nME-X, 362, 363t\nMicro gyros, 234f, 235f\nMicro inertial sensor, 234\nMicroelectroforming, 407?409\nfilm stress, 376?377\nparameter control and operation\n\nessentials of, 375?376\nusing AZ1500 photoresist, 408f\n\nMicroinertial measurement unit\n(MIMU) flight experiment, 2\n\nMicromachined relay (MMT), 362\nMicromachining process of relay,\n\n411?413, 412f\nMicropropulsion, 295\ncolloid thruster, 301?302\ncomparison of micropropulsion\n\nsystems, 309?311\nfield emission electric propulsion\n\n(FEEP), 299?301\ngas thruster, 298\nhall thruster, 302?303\nmeasurement, 333\nbased on laser interference and\n\nrigid pendulum principle,\n333?335\n\nMEMS thruster, 303?309\nMEMS-based solid propellant\n\npropulsion, 311?320\nmicroimpulse test and data\n\nanalysis of, 335?337\nprocess flow and results,\n\n314?317\npropellant, 317?320\nstructure and principles, 311?312\nstructure mechanics and heat\n\ntransfer simulation for\ncombustion chambers,\n312?314\n\nperformance modeling and\nanalysis, 320?332\n\ncalculation of thrust and\nimpulse, 330\n\nenergy conservation equation,\n329\n\nideal gas state equation, 330\ninterior ballistic lumped\n\nparameter model and\nsimulation, 327?332\n\nmass conservation equation,\n328?329\n\nmodeling and heat transfer\nanalysis of Pt resistor igniter,\n320?327\n\nPe and Me, determination of,\n330?332\n\npulsed plasma thruster (PPT),\n298?299\n\nstudy of, 295?296\nMiniature inertial measurement unit\n\n(MIMU), 233, 343?344\ndevelopment of, 235?236\nerror analyses, 244?248\nheading angle error, 250f\ninertial sensor error, 244\ninertial system equations,\n\n244?246\nlatitude error, 251f\nlongitude error, 252f\nMIMU system error equation,\n\n246?248\nMIMU system static error\n\nsimulation, 248\npitch angle error, 249f\nroll angle error, 249f\nX velocity error, 250f\nY velocity error, 251f\n\nflight test, 288?291\nengineering implementation,\n\n288?291\nMIMU combination and\n\ninstallation, 288\nobjective, 288\n\nintegrated navigation technology,\n260?288\n\ncombination of MIMU and\nmagnetometer, 269?276\n\nfederated filter, 266?269\nintegration of MIMU, GPS, and\n\nmagnetometer, 281\nintegration of MIMU and GPS,\n\n276?281\n\nIndex 423\n\n\n\nMiniature inertial measurement unit\n(MIMU) (Continued)\n\nKalman filter, 260?261\nsimulation of integrated\n\nnavigation based on MIMU,\n281?288\n\nunscented Kalman filter,\n261?266\n\nmeasurement principles of,\n239?244, 241f\n\nestablishment of the coordinate\nsystem, 239?240\n\nmeasurement principles,\n240?244\n\nnavigation algorithm process,\n243f\n\noptimal estimation theory,\n237?238\n\nresearch on integrated calibration\nof, 248?259\n\ncalibration of MIMU error\ncoefficient, 253?259\n\nerror models of inertial devices,\n251?253\n\nsystem integration of, 238\nMinimum system test, 162?163\nMM 1 SS attitude filter, 95\nMM attitude filter, 94?95\n\nalgorithmic process of, 92f\nModern optimization algorithm,\n\napplication of, 62\nModified Rodrigues parameters\n\n(MRPs), 84?85\nMomentum wheel, control module\n\nof, 98?99\nbias momentum state, 98\nzero-momentum state, 98?99\n\nMotionPak, 236\nMovable electrode kinetics,\n\ngeometric model of, 392, 394\nMulti-aperture sun sensor, 184f, 189f\nMultidisciplinary design\n\noptimization (MDO), 51\nCAD/CAE and further\n\ndevelopment, integration of,\n71?72\n\ncharacteristics, 58\ncollaborative optimization (CO)\n\nmethodology\nbasic framework of, 59?60\nbasic theory of, 59\ndisadvantages of, 61\nimprovement of, 61?62\n\nmodern optimization algorithm,\napplication of, 62\n\nreformulate optimization, 62\nsolution of, 60?61\n\ncomplex systems modeling, 52?53\narchitectural framework\n\ntechnology (AFT), 53\nIDEF series modeling methods,\n\n52?53, 52t\ncomputing software for, 57t\nconceptual components, 56t\ndevelopment, 57\ndomestic MDO research and\n\napplications, 58\ndomestic studies on satellite\n\nsystem design and\noptimization, 53?55\n\nin micro/nano satellite design, 56f\nresearch, 63?64\nframework, 64\nideal development environment,\n\n63\nSDIDE, improvement of, 69\nSDIDE 2.0 system, features and\n\nfunction of, 69?71\nmain features, 69?71\nmain functions, 71\n\nSDIDE v1.0, basic framework of,\n65?69, 70f\n\nConfiguration module, 67\nDatabase module, 68\nDiscipline/Design Subnet, 68\nSystem Data Manage module,\n\n66?67\nSystem Monitoring module, 67\nSystem Optimization module,\n\n68\nTask Control module, 67\n\nN\nNavstar, 170, 176\n\nmagnitude determination of,\n210?212\n\nNi?Fe alloy film, 374\ncharacteristic curve of, 381f\neffect of current density on, 376f\nhydrogen evolution reaction, 377\nmanufacture of, 374\nmicroelectroforming, 374\nstress of microelectroforming film,\n\n376?377\nNS-1 nanosatellite, 5?39\n\nattitude control subsystem (ADCS\nsubsystem), 22?25\n\nmain technique index and\nfunction, 22?23\n\nmain working mode, 23?24\nsubsystem designation of ADCS,\n24?25\n\ncamera subsystem, 35?38\ncamera electronic system design,\n37\n\ncamera structure, 36\noptical module, 36?37\nperformance indicators, 35?36\n\ndefinition of coordinates on, 27f\ndefinition of faces on, 28f\ndevelopment of technological\n\nprocesses, 47f\nexploded view of, 28f\nGPS subsystem, 32?34\ninformation flow diagram, 5f\ninitial orbit characteristics analysis,\n\n7?12\nground measurement and\ncontrolability analysis, 7?12\n\npower subsystem design, 13?18\nmain technical parameters of,\n16?18\n\npower supply reliability design,\n18\n\nsystem function and principle\nblock diagram, 13?16\n\npropulsion subsystem, 39\nRF subsystem, 29?31\ncomposition of, 29?31\nfunction and performance index,\n29\n\nsatellite characteristic parameter\nassignment, 41?48\n\nCarolina star power system\ndynamic simulation, 41?47\n\npropellant distribution, 48\nsatellite mass distribution and\nquality characteristics, 41\n\nsatellite reliability allocation, 48\nsatellite onboard computer system\n\n(OBC subsystem), 20?22\nmain function of, 20\noverall design, 20?22\n\nsatellite orbit entry initial attitude\nfeatures, 6?7\n\nsatellite overhead sequence, 12t\nsatellite physical quality\n\nmeasurement statistics, 45t\n\n424 Index\n\n\n\nsatellite power distribution, 46t\nstructure subsystem, 25?29\nsatellite configuration and\n\nlayout, 26?29\nsatellite coordinate system,\n\n25?26\nsystem composition block\n\ndiagram, 3f\nsystem scheme, 2?5\ntask analysis, 2\ntechnical characteristics of\n\nsatellites, 41\ntelemetry and remote control\n\nsystem (TTC subsystem),\n19?20\n\nmain technical indicators,\n19?20\n\ntrack lighting situation analysis, 13\norbit illumination time, 13\norbit solar angle, 13\n\nNS-2 satellite\u2019s ADCS subsystem,\n99?113\n\ncontrol mode 1, 99?102\ncontrol mode 2, 102?103\ncontrol mode 3, 104?105\ncontrol mode 4, 106?108\ncontrol mode 5, 108?112\nsimulation conclusions, 112?113\ntask analysis of, 85?86\ntechnical specifications of, 87\n\nNuclear propulsion system, 297\nNutation damping, 96\n\nO\nObject-oriented development\n\nmethod (OODM), 52\nOn-board computer (OBC) system,\n\n20?22, 115?116\nbus architecture, 120?121\nbuffered bus, 121\nCPU Clock and Reset Circuit\n\nDesign, 121\nunbuffered local bus, 120\n\nCAN node, 123?124\ncommunication controller,\n\n122?123\ndesign, 120?124\nmain function of, 20\nmemory system design, 121?122\ndata memory, 122\nEPROM, 121\nTMR program memory, 122\n\noverall design, 20?22\npower supply unit, 124\nsoftware requirements analysis,\n\n133?135\ndata flow diagram, 135\nGPS program upload, 134\nGPS receiver data input, 134\nGPS time/orbit data frame, 134\nindirect telecontrol instruction,\n\n135\nprogram control instruction,\n\n135\nprogram upload, 134\nrequest packet downlink, 135\nrequirement specification,\n\n133?134\nuplink telecontrol, 134?135\n\nsoftware system design, 135?145\napplication design, 137\nbootloader design, 135\nbootloader flow, 137\nmission description, 137?140\nmission design, 141?145\nmission functional description,\n\n139t\nOBC power-on boot process,\n\n135?136\ntask partitioning, 137\ntime processing mission, 141t\n\nsubsystem block diagram, 120\nsystem development, 20?22\n\nOptical pumping method, 345t\nOptimal estimation theory, 237?238\nOrbit coordinate system, 240\nOrbit determination using\n\nmagnetometer, 355?357\nOrbit illumination time, 13, 14t\nOrbit solar angle, 13, 15f\n\nP\nPermanent magnetic film material,\n\n378?379, 378f\nPitch axis vortex, 96?97\nPitch filter, 91?94\nPoint field sensors, 342\nPower control module (PCM),\n\n13?16\nPower distribution module (PDM),\n\n13?16\nPower subsystem design, 13?18, 16f\nmain technical parameters of,\n\n16?18\n\npower supply reliability design, 18\nsystem function and principle\n\nblock diagram, 13?16\nPower supply metrics, 17t\nProduct lifecycle management (PLM)\n\nsystems, 64\nPropulsion subsystem, 39\nPseudo-linear models, 237?238\nPulsed plasma thruster (PPT),\n\n298?299, 299f\n\nQ\nQuantum efficiency (QE), 195\nQuaternion, 80?85, 94\n\nR\nRate filter, 89?91\nReal sky test, 225?228, 227f\nReal-time self-calibration algorithm,\n\n360\nReceiver, block diagram of, 32f\nRelay, 361\nRF subsystem\ncomposition of, 29?31\nfunction and performance index,\n\n29\nRF system test, 155f\nRodrigues parameters, modified,\n\n84?85\nRuokonen\u2019s parallel Calman filtering\n\ntechnology, 237?238\n\nS\nSaccharin, 376?377\nSampling Kalman filter, 344\nSatellite autonomous navigation\n\ntechnology, 269\nSatellite BPSK modem, 158?159\nSatellite onboard computer system\n\n(OBC subsystem), 20?22\nmain function of, 20\noverall design, 20?22\n\nSatellite test system, 150?160\ncomposition of, 151\ndesign requirements of, 150?151\nground electrical performance test,\n\nloop selection for, 151?160\ncable test loop, 160\ndownlink channel composition,\n\n158?159\n\nIndex 425\n\n\n\nSatellite test system (Continued)\nmeasurement and control\n\nterminal and network\nsubsystem, 159?160\n\nTM/TC testing loop, 153?155\nuplink channel composition,\n\n156?157\nSatellite thermal control, 4\nSatellite?launcher separation, 5, 6t,\n\n7\nScramble-forming equipment,\n\n156?157\nSDIDE (Spacecraft Distributed\n\nIntegrated Design\nEnvironment)\n\nimprovement of, 69\nSDIDE 2.0 system, features and\n\nfunction of, 69?71\nmain features, 69?71\nmain functions, 71\n\nSDIDE v1.0, basic framework of,\n65?69, 66f\n\nConfiguration module, 67\nDatabase module, 68\nDiscipline/Design Subnet, 68\nSystem Data Manage module,\n\n66?67\nSystem Monitoring module, 67\nSystem Optimization module,\n\n68\nTask Control module, 67\n\nSequence linear programming (SLP)\nmethod, 68\n\nSequential quadratic programming\n(SQP), 62, 68\n\nService-oriented architecture (SOA),\n69\n\nSimulation life-cycle management\n(SLM) systems, 64\n\nSingle-aperture sun sensor, 170,\n173?175, 189f\n\nadvantages and disadvantages of,\n174?175\n\nbasic principles of, 173?174\noperating principle of, 184\n\nSingle-base propellant, 319\nSingle-ended fixed cantilever beam\n\nmicrorelay, 364?365, 364f\nS/L band frequency convertor, 158\nSmall satellite orbit-maintaining and\n\norbit-changing test, 2\nSmall-satellite TT&C communication,\n\n4\n\nSmart sun sensor, 173?174, 174f\nSoft magnetic materials processing,\n\n407?411\nSoft magnetic thin-film materials,\n\n373?377\nSolid propellants, 299?301,\n\n318?319\nclassification of, 319f\nheterogeneous, 319\nhomogeneous, 319\n\nSolid-state relay (SSR), 361\nSpace environment of micro/nano\n\nsatellite, 75?79\natmosphere environment, 77\nelectromagnetic environment,\n\n77?79\ngravity environment, 76\n\nSpace environment test, MIMU\nsystem, 291\n\nSpacecraft attitude sensor, 169?171\ninertial sensor, 171\ninfrared horizon sensor, 169?170\nmagnetometer, 170\nstar sensor, 170\nsun sensor, 169\n\nSpacecraft system design technology,\n1\n\nSpheric harmonic analysis method,\n270\n\nSqueeze-film Reynolds equation,\n394?395\n\nST attitude filter, 95\nStar coordinate system, 240\nStar sensor, 176?183\n\ncomponents of, 178?179\ndevelopment status of CCD,\n\n179?180\nframework, 183?184\nNavstar, 176\nprinciple of measurement,\n\n177?178\nstatus of APS CMOS, 181?183\n\nStar trackers, 343?344\nSTK, toolkits for, 72\nSun sensor, 171?176, 343?344\n\ndevelopment trends and major\nproblems of, 172?175\n\nprinciples of, 171?172\nresearch significance, 175?176\n\nSuperconducting quantum\ninterference devices (SQUID),\n341?342, 345t\n\nSync card, 156\n\nSystem architecture matrix of nano\nsatellite, 54f\n\nSystem Data Manage module, 66?68\nSystem Monitoring module, 67\nSystem Optimization module, 68\nSystem-level test of a satellite,\n\n163?164\n\nT\nTanner EDA L-Edit software,\n\n413?414\nTask Control module, 67\nTelemetry and remote control system\n\n(TTC subsystem), 19?20\nmain technical indicators, 19?20\n\nTelemetry and telecontrol (TTC),\n117?118\n\nFPGA module configuration,\n132?133\n\noperating principle of, 124?133\noperating principle of telecontrol\n\nunit, 126?129\ndecoder01 and decoder02,\n127?128\n\ndecoder03, 128?129, 129f\nsystem function and workflow,\n\n124?126\nvoltage conversion module, 133\nworking principle of telemetry\n\nunits, 130?132, 131f\nmeasurement of analogue data,\n130?132\n\nmeasurement of digital and\ntelecontrol instruction\nrecovery, 132\n\nTeraVicta Technologies, 362\nTesting phases, 147?150\n\ndesktop testing, 148\nenvironment experiments, testing\n\nin, 148?150\nmechanical environmental\ntesting, 148\n\nthermal cycle testing and\nthermal vacuum testing,\n148?150\n\nlaunch zone, testing in\nspace launch sites, 150\n\ntechnical area, testing in\nof space launch sites, 150\n\nThermal vacuum test, 291, 292f\nThermodynamic driving MEMS relay,\n\n371\n\n426 Index\n\n\n\nTM/TC testing loop, 153?155\nTMR program memory, 122\nTorsion beam microrelay, 366\nTrack lighting situation analysis, 13\norbit illumination time, 13\norbit solar angle, 13\n\nTransmitter, block diagram of, 33f\nTsinghua University NS-1 satellites,\n\n116?118\nTTC (telecontrol telemetry\n\nsubsystem), 353?354\n\nU\nUG, toolkits for, 71\nU-Kalman filter (UKF), 261?266\ndesign, 264?266\n\nUnscented Kalman filter (UKF),\n237?238\n\nUnscented Transformation (UT),\n263?264\n\nUplink channel composition,\n156?157\n\nW\nWet etching, 364?365, 405?406,\n\n405f\nWiener filtering, 237\nWireless testing system, 156f\nWorld magnetic model (WMM), 344\nWSC-6 satellite antenna stabilization\n\nsystems, 233?234\n\nZ\nZero-momentum state, 98?99\n\nIndex 427\n\n\n\n\n"}